{"ast":null,"code":"import _classCallCheck from\"/Users/moonhahyeon/git/FrontEnd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/moonhahyeon/git/FrontEnd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/moonhahyeon/git/FrontEnd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/moonhahyeon/git/FrontEnd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import axios from'axios';import{Route,Switch,Redirect}from\"react-router-dom\";import Administrator from'./routes/administrator';import Instructor from'./routes/instructor';import User from'./routes/user';import NotLogin from'./routes/notLogin';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";axios.interceptors.request.use(function(config){var today=new Date();var path=window.location.href.replace(process.env.REACT_APP_DEFAULT_WHOLE_URL,\"\");// if((window.sessionStorage.getItem(\"token\") == null || window.sessionStorage.getItem('expires_at') < today.getTime())&& !(window.location.href === process.env.REACT_APP_DEFAULT_WHOLE_URL || path === \"lecture/subject\" || path === \"lecture/instructor\" || path === \"lecture/date\" || path === \"notice\")){\n//   alert(path +\"로그인 후 사용할 수 있습니다~:)\");\n//   window.location.href = process.env.REACT_APP_DEFAULT_URL;\n// }\nreturn config;},function(error){return Promise.reject(error);});var App=/*#__PURE__*/function(_Component){_inherits(App,_Component);var _super=_createSuper(App);function App(){_classCallCheck(this,App);return _super.apply(this,arguments);}_createClass(App,[{key:\"render\",value:function render(){var today=new Date();return/*#__PURE__*/_jsxs(Switch,{children:[window.sessionStorage.getItem('token')!==null&&parseInt(window.sessionStorage.getItem(\"status\"))===2&&window.sessionStorage.getItem('expires_at')>=today.getTime()?/*#__PURE__*/_jsx(Route,{path:process.env.REACT_APP_DEFAULT_URL,component:Administrator}):window.sessionStorage.getItem('token')!==null&&parseInt(window.sessionStorage.getItem(\"status\"))===1&&window.sessionStorage.getItem('expires_at')>=today.getTime()?/*#__PURE__*/_jsx(Route,{path:process.env.REACT_APP_DEFAULT_URL,component:Instructor}):window.sessionStorage.getItem('token')!==null&&parseInt(window.sessionStorage.getItem(\"status\"))===0&&window.sessionStorage.getItem('expires_at')>=today.getTime()?/*#__PURE__*/_jsx(Route,{path:process.env.REACT_APP_DEFAULT_URL,component:User}):/*#__PURE__*/_jsx(Route,{path:process.env.REACT_APP_DEFAULT_URL,component:NotLogin}),/*#__PURE__*/_jsx(Route,{children:/*#__PURE__*/_jsx(Redirect,{to:process.env.REACT_APP_DEFAULT_URL})})]});}}]);return App;}(Component);export default App;","map":{"version":3,"sources":["/Users/moonhahyeon/git/FrontEnd/src/App.js"],"names":["React","Component","axios","Route","Switch","Redirect","Administrator","Instructor","User","NotLogin","interceptors","request","use","config","today","Date","path","window","location","href","replace","process","env","REACT_APP_DEFAULT_WHOLE_URL","error","Promise","reject","App","sessionStorage","getItem","parseInt","getTime","REACT_APP_DEFAULT_URL"],"mappings":"wkBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAAQC,KAAR,CAAeC,MAAf,CAAuBC,QAAvB,KAAsC,kBAAtC,CAEA,MAAOC,CAAAA,aAAP,KAA0B,wBAA1B,CACA,MAAOC,CAAAA,UAAP,KAAuB,qBAAvB,CACA,MAAOC,CAAAA,IAAP,KAAiB,eAAjB,CACA,MAAOC,CAAAA,QAAP,KAAqB,mBAArB,C,wFAEAP,KAAK,CAACQ,YAAN,CAAmBC,OAAnB,CAA2BC,GAA3B,CACE,SAAUC,MAAV,CAAkB,CAChB,GAAMC,CAAAA,KAAK,CAAG,GAAIC,CAAAA,IAAJ,EAAd,CACA,GAAMC,CAAAA,IAAI,CAAGC,MAAM,CAACC,QAAP,CAAgBC,IAAhB,CAAqBC,OAArB,CAA6BC,OAAO,CAACC,GAAR,CAAYC,2BAAzC,CAAsE,EAAtE,CAAb,CACA;AACA;AACA;AACA;AACA,MAAOV,CAAAA,MAAP,CACD,CATH,CAUE,SAAUW,KAAV,CAAiB,CACf,MAAOC,CAAAA,OAAO,CAACC,MAAR,CAAeF,KAAf,CAAP,CACD,CAZH,E,GAcMG,CAAAA,G,8MAEF,iBAAS,CACP,GAAMb,CAAAA,KAAK,CAAG,GAAIC,CAAAA,IAAJ,EAAd,CACE,mBACI,MAAC,MAAD,YAEIE,MAAM,CAACW,cAAP,CAAsBC,OAAtB,CAA8B,OAA9B,IAA2C,IAA3C,EAAmDC,QAAQ,CAACb,MAAM,CAACW,cAAP,CAAsBC,OAAtB,CAA8B,QAA9B,CAAD,CAAR,GAAsD,CAAzG,EAA8GZ,MAAM,CAACW,cAAP,CAAsBC,OAAtB,CAA8B,YAA9B,GAA+Cf,KAAK,CAACiB,OAAN,EAA7J,cACI,KAAC,KAAD,EAAO,IAAI,CAAEV,OAAO,CAACC,GAAR,CAAYU,qBAAzB,CAAgD,SAAS,CAAG1B,aAA5D,EADJ,CAECW,MAAM,CAACW,cAAP,CAAsBC,OAAtB,CAA8B,OAA9B,IAA2C,IAA3C,EAAmDC,QAAQ,CAACb,MAAM,CAACW,cAAP,CAAsBC,OAAtB,CAA8B,QAA9B,CAAD,CAAR,GAAsD,CAAzG,EAA8GZ,MAAM,CAACW,cAAP,CAAsBC,OAAtB,CAA8B,YAA9B,GAA+Cf,KAAK,CAACiB,OAAN,EAA7J,cACD,KAAC,KAAD,EAAO,IAAI,CAAEV,OAAO,CAACC,GAAR,CAAYU,qBAAzB,CAAgD,SAAS,CAAGzB,UAA5D,EADC,CAEAU,MAAM,CAACW,cAAP,CAAsBC,OAAtB,CAA8B,OAA9B,IAA2C,IAA3C,EAAmDC,QAAQ,CAACb,MAAM,CAACW,cAAP,CAAsBC,OAAtB,CAA8B,QAA9B,CAAD,CAAR,GAAsD,CAAzG,EAA8GZ,MAAM,CAACW,cAAP,CAAsBC,OAAtB,CAA8B,YAA9B,GAA+Cf,KAAK,CAACiB,OAAN,EAA7J,cACD,KAAC,KAAD,EAAO,IAAI,CAAEV,OAAO,CAACC,GAAR,CAAYU,qBAAzB,CAAgD,SAAS,CAAGxB,IAA5D,EADC,cAED,KAAC,KAAD,EAAO,IAAI,CAAEa,OAAO,CAACC,GAAR,CAAYU,qBAAzB,CAAgD,SAAS,CAAGvB,QAA5D,EARJ,cAUI,KAAC,KAAD,wBAAO,KAAC,QAAD,EAAU,EAAE,CAAEY,OAAO,CAACC,GAAR,CAAYU,qBAA1B,EAAP,EAVJ,GADJ,CAcH,C,iBAlBa/B,S,EAqBlB,cAAe0B,CAAAA,GAAf","sourcesContent":["import React, { Component } from 'react';\nimport axios from 'axios';\nimport {Route, Switch, Redirect} from \"react-router-dom\";\n\nimport Administrator from './routes/administrator';\nimport Instructor from './routes/instructor';\nimport User from './routes/user';\nimport NotLogin from './routes/notLogin';\n\naxios.interceptors.request.use(\n  function (config) {\n    const today = new Date();\n    const path = window.location.href.replace(process.env.REACT_APP_DEFAULT_WHOLE_URL, \"\");\n    // if((window.sessionStorage.getItem(\"token\") == null || window.sessionStorage.getItem('expires_at') < today.getTime())&& !(window.location.href === process.env.REACT_APP_DEFAULT_WHOLE_URL || path === \"lecture/subject\" || path === \"lecture/instructor\" || path === \"lecture/date\" || path === \"notice\")){\n    //   alert(path +\"로그인 후 사용할 수 있습니다~:)\");\n    //   window.location.href = process.env.REACT_APP_DEFAULT_URL;\n    // }\n    return config;\n  },\n  function (error) {\n    return Promise.reject(error);\n  });\n\nclass App extends Component {\n    \n    render() {\n      const today = new Date();\n        return (\n            <Switch>\n            {\n                window.sessionStorage.getItem('token') !== null && parseInt(window.sessionStorage.getItem(\"status\")) === 2 && window.sessionStorage.getItem('expires_at') >= today.getTime() ?\n                    <Route path={process.env.REACT_APP_DEFAULT_URL} component= {Administrator} />\n                :window.sessionStorage.getItem('token') !== null && parseInt(window.sessionStorage.getItem(\"status\")) === 1 && window.sessionStorage.getItem('expires_at') >= today.getTime()?\n                <Route path={process.env.REACT_APP_DEFAULT_URL} component= {Instructor} />\n                :window.sessionStorage.getItem('token') !== null && parseInt(window.sessionStorage.getItem(\"status\")) === 0 && window.sessionStorage.getItem('expires_at') >= today.getTime()?\n                <Route path={process.env.REACT_APP_DEFAULT_URL} component= {User} />:\n                <Route path={process.env.REACT_APP_DEFAULT_URL} component= {NotLogin} />\n            }\n                <Route><Redirect to={process.env.REACT_APP_DEFAULT_URL} /></Route>\n            </Switch>\n        );\n    }\n}\n\nexport default App;"]},"metadata":{},"sourceType":"module"}