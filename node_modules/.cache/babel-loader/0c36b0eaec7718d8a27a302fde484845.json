{"ast":null,"code":"import _classCallCheck from\"/Users/hyerm2/Desktop/project/vision/CourseApplicationManagement_frontend/course_application_management/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/hyerm2/Desktop/project/vision/CourseApplicationManagement_frontend/course_application_management/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/hyerm2/Desktop/project/vision/CourseApplicationManagement_frontend/course_application_management/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/hyerm2/Desktop/project/vision/CourseApplicationManagement_frontend/course_application_management/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import axios from'axios';import{Route,Switch,Redirect}from\"react-router-dom\";import Administrator from'./routes/administrator';import Instructor from'./routes/instructor';import User from'./routes/user';import NotLogin from'./routes/notLogin';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";axios.interceptors.request.use(function(config){var today=new Date();var path=window.location.href.replace(process.env.REACT_APP_DEFAULT_WHOLE_URL,\"\");console.log(\"hi\");console.log(path);console.log(\"111\");if((window.sessionStorage.getItem(\"token\")==null||window.sessionStorage.getItem('expires_at')<today.getTime())&&!(window.location.href===process.env.REACT_APP_DEFAULT_WHOLE_URL||path===\"lecture/subject\"||path===\"lecture/instructor\"||path===\"lecture/date\"||path===\"notice\")){alert(path+\"로그인 후 사용할 수 있습니다~:)\");window.location.href=process.env.REACT_APP_DEFAULT_URL;}return config;},function(error){return Promise.reject(error);});var App=/*#__PURE__*/function(_Component){_inherits(App,_Component);var _super=_createSuper(App);function App(){_classCallCheck(this,App);return _super.apply(this,arguments);}_createClass(App,[{key:\"render\",value:function render(){var today=new Date();return/*#__PURE__*/_jsxs(Switch,{children:[window.sessionStorage.getItem('token')!==null&&parseInt(window.sessionStorage.getItem(\"status\"))===2&&window.sessionStorage.getItem('expires_at')>=today.getTime()?/*#__PURE__*/_jsx(Route,{path:process.env.REACT_APP_DEFAULT_URL,component:Administrator}):window.sessionStorage.getItem('token')!==null&&parseInt(window.sessionStorage.getItem(\"status\"))===1&&window.sessionStorage.getItem('expires_at')>=today.getTime()?/*#__PURE__*/_jsx(Route,{path:process.env.REACT_APP_DEFAULT_URL,component:Instructor}):window.sessionStorage.getItem('token')!==null&&parseInt(window.sessionStorage.getItem(\"status\"))===0&&window.sessionStorage.getItem('expires_at')>=today.getTime()?/*#__PURE__*/_jsx(Route,{path:process.env.REACT_APP_DEFAULT_URL,component:User}):/*#__PURE__*/_jsx(Route,{path:process.env.REACT_APP_DEFAULT_URL,component:NotLogin}),/*#__PURE__*/_jsx(Route,{children:/*#__PURE__*/_jsx(Redirect,{to:process.env.REACT_APP_DEFAULT_URL})})]});}}]);return App;}(Component);export default App;","map":{"version":3,"sources":["/Users/hyerm2/Desktop/project/vision/CourseApplicationManagement_frontend/course_application_management/src/App.js"],"names":["React","Component","axios","Route","Switch","Redirect","Administrator","Instructor","User","NotLogin","interceptors","request","use","config","today","Date","path","window","location","href","replace","process","env","REACT_APP_DEFAULT_WHOLE_URL","console","log","sessionStorage","getItem","getTime","alert","REACT_APP_DEFAULT_URL","error","Promise","reject","App","parseInt"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport axios from 'axios';\nimport {Route, Switch, Redirect} from \"react-router-dom\";\n\nimport Administrator from './routes/administrator';\nimport Instructor from './routes/instructor';\nimport User from './routes/user';\nimport NotLogin from './routes/notLogin';\n\naxios.interceptors.request.use(\n  function (config) {\n    const today = new Date();\n    const path = window.location.href.replace(process.env.REACT_APP_DEFAULT_WHOLE_URL, \"\");\n    console.log(\"hi\");\n    console.log(path);\n    console.log(\"111\");\n    if((window.sessionStorage.getItem(\"token\") == null || window.sessionStorage.getItem('expires_at') < today.getTime())&& !(window.location.href === process.env.REACT_APP_DEFAULT_WHOLE_URL || path === \"lecture/subject\" || path === \"lecture/instructor\" || path === \"lecture/date\" || path === \"notice\")){\n      alert(path +\"로그인 후 사용할 수 있습니다~:)\");\n      window.location.href = process.env.REACT_APP_DEFAULT_URL;\n    }\n    return config;\n  },\n  function (error) {\n    return Promise.reject(error);\n  });\n\nclass App extends Component {\n    \n    render() {\n      const today = new Date();\n        return (\n            <Switch>\n            {\n                window.sessionStorage.getItem('token') !== null && parseInt(window.sessionStorage.getItem(\"status\")) === 2 && window.sessionStorage.getItem('expires_at') >= today.getTime() ?\n                    <Route path={process.env.REACT_APP_DEFAULT_URL} component= {Administrator} />\n                :window.sessionStorage.getItem('token') !== null && parseInt(window.sessionStorage.getItem(\"status\")) === 1 && window.sessionStorage.getItem('expires_at') >= today.getTime()?\n                <Route path={process.env.REACT_APP_DEFAULT_URL} component= {Instructor} />\n                :window.sessionStorage.getItem('token') !== null && parseInt(window.sessionStorage.getItem(\"status\")) === 0 && window.sessionStorage.getItem('expires_at') >= today.getTime()?\n                <Route path={process.env.REACT_APP_DEFAULT_URL} component= {User} />:\n                <Route path={process.env.REACT_APP_DEFAULT_URL} component= {NotLogin} />\n            }\n                <Route><Redirect to={process.env.REACT_APP_DEFAULT_URL} /></Route>\n            </Switch>\n        );\n    }\n}\n\nexport default App;"]},"metadata":{},"sourceType":"module"}