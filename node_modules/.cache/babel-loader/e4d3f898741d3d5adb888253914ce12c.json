{"ast":null,"code":"var _jsxFileName = \"/Users/hyerm2/Desktop/project/vision/CourseApplicationManagement_frontend/course_application_management/src/components/modules/calendar/lecture_daily_calendar.js\",\n    _s = $RefreshSig$();\n\nimport React, { useCallback, useRef, useEffect, useState } from \"react\";\nimport TUICalendar from \"@toast-ui/react-calendar\"; // import { ISchedule, ICalendarInfo } from \"tui-calendar\";\n\nimport \"tui-calendar/dist/tui-calendar.css\";\nimport \"tui-date-picker/dist/tui-date-picker.css\";\nimport '../../../assets/css/calendar.css';\nimport \"tui-time-picker/dist/tui-time-picker.css\";\nimport WhiteButton from '../../modules/button/white_button';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst allcalendarColor = [\"#ef6f87\", \"#e49d5a\", \"#e4ce5a\", \"#7ddc8b\", \"#c0afff\", \"#9fcae8\", \"#F23DA0\", \"#3C5FA6\", \"#F28705\", \"#467326\", \"#D99066\", \"#ff5722\"];\nconst calendarColor = [\"#fbbc05\", \"#cccccc\", \"#4285f4\", \"#7ddc8b\", \"#34A853\", \"#9fcae8\", \"#F23DA0\", \"#3C5FA6\", \"#F28705\", \"#467326\", \"#D99066\", \"#ff5722\"]; // const calendarInstructor = [\"#ef6f87\",\"#e49d5a\", \"#2196f3\", \"#7ddc8b\" ,\"#c0afff\",\"#9fcae8\",\"#F23DA0\", \"#3C5FA6\", \"#F28705\", \"#467326\", \"#D99066\", \"#ff5722\"];\n\nfunction LectureDailyCalendar(props) {\n  _s();\n\n  const cal = useRef(null);\n  const [schedules, setschedules] = useState([]);\n  const [calendars, setcalendars] = useState([]);\n  const [year, setyear] = useState(null);\n  const [month, setmonth] = useState(null);\n  const [clickedDate, setclickedDate] = useState(\"날짜를 선택해주세요.\");\n  useEffect(() => {\n    if (props.calendarData !== null) {\n      const data = props.calendarData;\n      var index = 0;\n      var tempSchedule = [];\n      var tempCalendar = [];\n\n      if (props.path !== null && (props.path === \"/\" || props.path === \"/lecture/date\")) {\n        for (var i = 0; i < data.length; i++) {\n          tempSchedule.push({\n            calendarId: data[i].id,\n            category: \"time\",\n            isAllDay: true,\n            isVisible: true,\n            title: data[i].name,\n            id: data[i].id,\n            body: \"[강사명] \" + data[i].inst_name + \"- [주제]\" + data[i].topic_list,\n            start: data[i].date,\n            end: data[i].date,\n            location: data[i].region_list\n          }); // eslint-disable-next-line no-loop-func\n\n          if (!tempCalendar.find(element => element.id === data[i].id)) {\n            tempCalendar.push({\n              id: data[i].id,\n              name: data[i].name,\n              color: allcalendarColor[index],\n              bgColor: allcalendarColor[index] + \"40\",\n              dragBgColor: allcalendarColor[index] + \"40\",\n              borderColor: allcalendarColor[index]\n            });\n            index++;\n          }\n\n          if (index === calendarColor.length) index = 0;\n        }\n      } else if (props.path === \"/mypage/contact\" || props.path === \"/lecture/subject\" || props.path === \"/lecture/instructor\" || props.path === \"/admin/lecture\" || props.path === \"/mypage/lecture\") {\n        // var tempSchedule = [];\n        // var tempCalendar = [];\n        // eslint-disable-next-line no-redeclare\n        for (var i = 0; i < data.length; i++) {\n          var status_id = 0;\n          var start_time = data[i].date;\n          var end_time = data[i].date;\n          var isAllDay = true; // 신청자가 있을 때\n\n          if (data[i].form_id) {\n            // status\n            if (data[i].status === 0) status_id = 0;else if (data[i].status === 1) status_id = 1;else if (data[i].status === 2) {\n              status_id = 2;\n              start_time = data[i].date + \" \" + data[i].contact_start_date;\n              end_time = data[i].date + \" \" + data[i].contact_end_date;\n              isAllDay = false;\n            } // 취소된 컨택내역은 안보여줌\n\n            if (data[i].status !== -1) tempSchedule.push({\n              calendarId: status_id,\n              category: \"time\",\n              isAllDay: isAllDay,\n              isVisible: true,\n              title: data[i].name,\n              id: status_id,\n              body: \"[주제]\" + data[i].topic_list,\n              start: start_time,\n              end: end_time,\n              location: data[i].region_list\n            });\n          } else {\n            tempSchedule.push({\n              calendarId: 3,\n              category: \"time\",\n              isAllDay: true,\n              isVisible: true,\n              title: data[i].name,\n              id: 3,\n              body: \"[주제]\" + data[i].topic_list,\n              start: data[i].date,\n              end: data[i].date,\n              location: data[i].region_list\n            });\n          }\n        }\n\n        tempCalendar.push({\n          id: 0,\n          name: \"컨택요청\",\n          color: calendarColor[0],\n          bgColor: calendarColor[0] + \"40\",\n          dragBgColor: calendarColor[0] + \"40\",\n          borderColor: calendarColor[0]\n        });\n        tempCalendar.push({\n          id: 1,\n          name: \"컨택진행중\",\n          color: calendarColor[1],\n          bgColor: calendarColor[1] + \"40\",\n          dragBgColor: calendarColor[1] + \"40\",\n          borderColor: calendarColor[1]\n        });\n        tempCalendar.push({\n          id: 2,\n          name: \"컨택완료\",\n          color: calendarColor[2],\n          bgColor: calendarColor[2] + \"40\",\n          dragBgColor: calendarColor[2] + \"40\",\n          borderColor: calendarColor[2]\n        });\n        tempCalendar.push({\n          id: 3,\n          name: \"컨택취소\",\n          color: calendarColor[3],\n          bgColor: calendarColor[3] + \"40\",\n          dragBgColor: calendarColor[3] + \"40\",\n          borderColor: calendarColor[3]\n        });\n        tempCalendar.push({\n          id: 4,\n          name: \"신청자없음\",\n          color: calendarColor[4],\n          bgColor: calendarColor[4] + \"40\",\n          dragBgColor: calendarColor[4] + \"40\",\n          borderColor: calendarColor[4]\n        });\n      }\n\n      setschedules(tempSchedule);\n      setcalendars(tempCalendar);\n    } // eslint-disable-next-line react-hooks/exhaustive-deps\n\n  }, [props.calendarData]);\n  useEffect(() => {\n    if (cal !== null) {\n      const calendarInstance = cal.current.getInstance();\n      calendarInstance.today();\n      var m = calendarInstance.getDate().getMonth() + 1;\n      var y = calendarInstance.getDate().getFullYear();\n      if (m < 10) m = \"0\" + m;\n      var date = y + \"-\" + m;\n      setmonth(m);\n      setyear(y);\n      if (props.clickedLecture !== null && (props.path === \"/lecture/subject\" || props.path === \"/lecture/instructor\" || props.path === \"/admin/lecture\" || props.path === \"/mypage/lecture\")) props.readMainCalendar(date, props.clickedLecture.id);else props.readMainCalendar(date);\n    } // eslint-disable-next-line react-hooks/exhaustive-deps\n\n  }, []);\n  useEffect(() => {\n    const calendarInstance = cal.current.getInstance();\n    calendarInstance.today();\n    var m = calendarInstance.getDate().getMonth() + 1;\n    var y = calendarInstance.getDate().getFullYear();\n    if (m < 10) m = \"0\" + m; // var date = y+\"-\"+m;\n\n    setmonth(m);\n    setyear(y);\n  }, [props.clickedLecture]);\n  const onClickSchedule = useCallback(e => {\n    const {\n      calendarId,\n      id\n    } = e.schedule;\n    cal.current.calendarInst.getElement(id, calendarId);\n  }, []);\n  const onBeforeCreateSchedule = useCallback(scheduleData => {\n    scheduleData.guide.clearGuideElement();\n    var date = scheduleData.start._date;\n    var year = date.getFullYear();\n    var month = date.getMonth() + 1;\n    var day = date.getDate();\n    if (month < 10) month = \"0\" + month;\n    if (day < 10) day = \"0\" + day;\n    var click_date = year + \"-\" + month + \"-\" + day;\n    setclickedDate(click_date);\n    props.readLecture(click_date); // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  function _getFormattedTime(time) {\n    const date = new Date(time);\n    const h = date.getHours();\n    const m = date.getMinutes();\n    return `${h}:${m}`;\n  }\n\n  function _getTimeTemplate(schedule, isAllDay) {\n    var html = [];\n\n    if (!isAllDay) {\n      html.push(\"<strong>\" + _getFormattedTime(schedule.start) + \"</strong> \");\n    }\n\n    if (schedule.isPrivate) {\n      html.push('<span class=\"calendar-font-icon ic-lock-b\"></span>');\n      html.push(\" Private\");\n    } else {\n      if (schedule.isReadOnly) {\n        html.push('<span class=\"calendar-font-icon ic-readonly-b\"></span>');\n      } else if (schedule.recurrenceRule) {\n        html.push('<span class=\"calendar-font-icon ic-repeat-b\"></span>');\n      } else if (schedule.attendees.length) {\n        html.push('<span class=\"calendar-font-icon ic-user-b\"></span>');\n      } else if (schedule.location) {\n        html.push('<span class=\"calendar-font-icon ic-location-b\"></span>');\n      }\n\n      html.push(\" \" + schedule.title);\n    }\n\n    return html.join(\"\");\n  }\n\n  const templates = {\n    time: function (schedule) {\n      return _getTimeTemplate(schedule, false);\n    }\n  };\n  const NextButton = useCallback(e => {\n    if (cal !== null) {\n      const calendarInstance = cal.current.getInstance();\n      calendarInstance.next();\n      var m = calendarInstance.getDate().getMonth() + 1;\n      var y = calendarInstance.getDate().getFullYear();\n      if (m < 10) m = \"0\" + m;\n      var date = y + \"-\" + m;\n      setmonth(m);\n      setyear(y);\n      if ((props.path === \"/lecture/subject\" || props.path === \"/lecture/instructor\" || props.path === \"/admin/lecture\" || props.path === \"/mypage/lecture\") && props.clickedLecture !== null) props.readMainCalendar(date, props.clickedLecture.id);else props.readMainCalendar(date);\n    } // eslint-disable-next-line react-hooks/exhaustive-deps\n\n  }, [props.clickedLecture]);\n  const PrevButton = useCallback(e => {\n    if (cal !== null) {\n      const calendarInstance = cal.current.getInstance();\n      calendarInstance.prev();\n      var m = calendarInstance.getDate().getMonth() + 1;\n      var y = calendarInstance.getDate().getFullYear();\n      if (m < 10) m = \"0\" + m;\n      var date = y + \"-\" + m;\n      setmonth(m);\n      setyear(y);\n\n      if ((props.path === \"/lecture/subject\" || props.path === \"/lecture/instructor\" || props.path === \"/admin/lecture\" || props.path === \"/mypage/lecture\") && props.clickedLecture !== null) {\n        props.readMainCalendar(date, props.clickedLecture.id);\n      } else props.readMainCalendar(date);\n    } // eslint-disable-next-line react-hooks/exhaustive-deps\n\n  }, [props.clickedLecture]);\n  const TodayButton = useCallback(e => {\n    if (cal !== null) {\n      const calendarInstance = cal.current.getInstance();\n      calendarInstance.today();\n      var m = calendarInstance.getDate().getMonth() + 1;\n      var y = calendarInstance.getDate().getFullYear();\n      if (m < 10) m = \"0\" + m;\n      var date = y + \"-\" + m;\n      setmonth(m);\n      setyear(y);\n      if ((props.path === \"/lecture/subject\" || props.path === \"/lecture/instructor\" || props.path === \"/admin/lecture\" || props.path === \"/mypage/lecture\") && props.clickedLecture !== null) props.readMainCalendar(date, props.clickedLecture.id);else props.readMainCalendar(date);\n    } // eslint-disable-next-line react-hooks/exhaustive-deps\n\n  }, [props.clickedLecture]);\n\n  const clickAllLecture = () => {\n    setclickedDate(\"날짜를 선택해주세요.\");\n    props.readLecture(\"\");\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"calendar-title\",\n      children: [year, \"\\uB144 \", month, \"\\uC6D4\\uC758 \\uAC15\\uC758\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 349,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb15\",\n      children: [/*#__PURE__*/_jsxDEV(WhiteButton, {\n        class: \"mr15\",\n        name: \"\\uC804\\uCCB4 \\uAC15\\uC758 \\uBCF4\\uAE30\",\n        click: clickAllLecture\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 351,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(WhiteButton, {\n        class: \"mr15\",\n        name: \"\\uC624\\uB298\\uB0A0\\uC9DC\",\n        click: TodayButton\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 352,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(WhiteButton, {\n        class: \"mr15\",\n        name: \"<\",\n        click: PrevButton\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 353,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(WhiteButton, {\n        name: \">\",\n        click: NextButton\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 354,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 350,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb10\",\n      children: \"\\uD2B9\\uC815 \\uB0A0\\uC9DC\\uB97C \\uD074\\uB9AD\\uD558\\uC2DC\\uBA74 \\uD574\\uB2F9 \\uB0A0\\uC9DC\\uC758 \\uAC15\\uC758\\uB4E4\\uC744 \\uBCFC \\uC218 \\uC788\\uC2B5\\uB2C8\\uB2E4.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 356,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb10\",\n      style: {\n        fontSize: '17px',\n        fontWeight: '600'\n      },\n      children: [\"\\uC120\\uD0DD \\uB0A0\\uC9DC: \", /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"mr10\",\n        children: clickedDate\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 360,\n        columnNumber: 24\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 359,\n      columnNumber: 13\n    }, this), props.path !== null && (props.path === \"/mypage/contact\" || props.path === \"/lecture/subject\" || props.path === \"/lecture/instructor\" || props.path === \"/admin/lecture\" || props.path === \"/mypage/lecture\") ? /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        textAlign: \"right\",\n        marginBottom: \"15px\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"mr15\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"color-circle\",\n          style: {\n            background: calendarColor[0]\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 365,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"\\uCEE8\\uD0DD\\uC694\\uCCAD\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 366,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 364,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"mr15\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"color-circle\",\n          style: {\n            background: calendarColor[1]\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 369,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"\\uCEE8\\uD0DD\\uC9C4\\uD589\\uC911\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 370,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 368,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"mr15\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"color-circle\",\n          style: {\n            background: calendarColor[2]\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 373,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"\\uCEE8\\uD0DD\\uC644\\uB8CC\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 374,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 372,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"mr15\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"color-circle\",\n          style: {\n            background: calendarColor[3]\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 377,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"\\uC2E0\\uCCAD\\uC5C6\\uC74C\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 378,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 376,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 363,\n      columnNumber: 13\n    }, this) : null, /*#__PURE__*/_jsxDEV(TUICalendar, {\n      ref: cal,\n      height: \"100%\",\n      view: \"month\",\n      useCreationPopup: false,\n      useDetailPopup: true,\n      template: templates,\n      calendars: calendars,\n      schedules: schedules,\n      onClickSchedule: onClickSchedule,\n      onBeforeCreateSchedule: onBeforeCreateSchedule\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 384,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 347,\n    columnNumber: 9\n  }, this);\n}\n\n_s(LectureDailyCalendar, \"R6Ddju6y5yz4FUze9RisAys538Q=\");\n\n_c = LectureDailyCalendar;\nexport default LectureDailyCalendar;\n\nvar _c;\n\n$RefreshReg$(_c, \"LectureDailyCalendar\");","map":{"version":3,"sources":["/Users/hyerm2/Desktop/project/vision/CourseApplicationManagement_frontend/course_application_management/src/components/modules/calendar/lecture_daily_calendar.js"],"names":["React","useCallback","useRef","useEffect","useState","TUICalendar","WhiteButton","allcalendarColor","calendarColor","LectureDailyCalendar","props","cal","schedules","setschedules","calendars","setcalendars","year","setyear","month","setmonth","clickedDate","setclickedDate","calendarData","data","index","tempSchedule","tempCalendar","path","i","length","push","calendarId","id","category","isAllDay","isVisible","title","name","body","inst_name","topic_list","start","date","end","location","region_list","find","element","color","bgColor","dragBgColor","borderColor","status_id","start_time","end_time","form_id","status","contact_start_date","contact_end_date","calendarInstance","current","getInstance","today","m","getDate","getMonth","y","getFullYear","clickedLecture","readMainCalendar","onClickSchedule","e","schedule","calendarInst","getElement","onBeforeCreateSchedule","scheduleData","guide","clearGuideElement","_date","day","click_date","readLecture","_getFormattedTime","time","Date","h","getHours","getMinutes","_getTimeTemplate","html","isPrivate","isReadOnly","recurrenceRule","attendees","join","templates","NextButton","next","PrevButton","prev","TodayButton","clickAllLecture","fontSize","fontWeight","textAlign","marginBottom","background"],"mappings":"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","sourcesContent":["import React, { useCallback, useRef, useEffect, useState } from \"react\";\n\nimport TUICalendar from \"@toast-ui/react-calendar\";\n// import { ISchedule, ICalendarInfo } from \"tui-calendar\";\n\nimport \"tui-calendar/dist/tui-calendar.css\";\nimport \"tui-date-picker/dist/tui-date-picker.css\";\nimport '../../../assets/css/calendar.css';\nimport \"tui-time-picker/dist/tui-time-picker.css\";\nimport WhiteButton from '../../modules/button/white_button';\n\nconst allcalendarColor = [\"#ef6f87\",\"#e49d5a\", \"#e4ce5a\", \"#7ddc8b\" ,\"#c0afff\",\"#9fcae8\",\"#F23DA0\", \"#3C5FA6\", \"#F28705\", \"#467326\", \"#D99066\", \"#ff5722\"];\nconst calendarColor = [\"#fbbc05\", \"#cccccc\", \"#4285f4\", \"#7ddc8b\" ,\"#34A853\",\"#9fcae8\",\"#F23DA0\", \"#3C5FA6\", \"#F28705\", \"#467326\", \"#D99066\", \"#ff5722\"];\n// const calendarInstructor = [\"#ef6f87\",\"#e49d5a\", \"#2196f3\", \"#7ddc8b\" ,\"#c0afff\",\"#9fcae8\",\"#F23DA0\", \"#3C5FA6\", \"#F28705\", \"#467326\", \"#D99066\", \"#ff5722\"];\n\n\nfunction LectureDailyCalendar(props) {\n    const cal = useRef(null);\n    const [schedules, setschedules] = useState([])\n    const [calendars, setcalendars] = useState([])\n    const [year, setyear] = useState(null)\n    const [month, setmonth] = useState(null)\n    const [clickedDate, setclickedDate] = useState(\"날짜를 선택해주세요.\");\n\n    useEffect(() => {\n        if(props.calendarData !== null) {\n            const data = props.calendarData;\n            \n            var index = 0;\n            var tempSchedule = [];\n            var tempCalendar = [];\n            \n            if(props.path !== null && (props.path ===\"/\" || props.path ===\"/lecture/date\")) {\n\n                for(var i=0 ; i<data.length ; i++) {\n                    tempSchedule.push({\n                        calendarId: data[i].id,\n                        category: \"time\",\n                        isAllDay: true,\n                        isVisible: true,\n                        title: data[i].name,\n                        id: data[i].id,\n                        body: \"[강사명] \"+data[i].inst_name+\"- [주제]\" +data[i].topic_list,\n                        start: data[i].date,\n                        end: data[i].date,\n                        location: data[i].region_list\n                    })\n\n                    // eslint-disable-next-line no-loop-func\n                    if(!tempCalendar.find(element => element.id === data[i].id)) {\n                        tempCalendar.push({\n                            id: data[i].id,\n                            name: data[i].name,\n                            color: allcalendarColor[index],\n                            bgColor: allcalendarColor[index]+\"40\",\n                            dragBgColor: allcalendarColor[index]+\"40\",\n                            borderColor: allcalendarColor[index]\n                        })\n                        index++;\n                    }\n                    \n                    if(index === calendarColor.length)\n                        index=0;\n                }\n            }\n            else if(props.path === \"/mypage/contact\" || props.path === \"/lecture/subject\" || props.path === \"/lecture/instructor\" || props.path === \"/admin/lecture\" || props.path === \"/mypage/lecture\") {\n                // var tempSchedule = [];\n                // var tempCalendar = [];\n\n                // eslint-disable-next-line no-redeclare\n                for(var i=0 ; i<data.length ; i++) {\n                    var status_id = 0;\n                    var start_time = data[i].date;\n                    var end_time = data[i].date;\n                    var isAllDay = true;\n                    \n                    // 신청자가 있을 때\n                    if(data[i].form_id) {\n                        // status\n                        if(data[i].status === 0)\n                            status_id = 0\n                        else if(data[i].status === 1)\n                            status_id = 1\n                        else if(data[i].status === 2) {\n                            status_id = 2\n                            start_time = data[i].date+\" \"+data[i].contact_start_date\n                            end_time = data[i].date+\" \"+data[i].contact_end_date\n                            isAllDay = false\n                        }\n                        \n                        // 취소된 컨택내역은 안보여줌\n                        if(data[i].status !== -1)\n                            tempSchedule.push({\n                                calendarId: status_id,\n                                category: \"time\",\n                                isAllDay: isAllDay,\n                                isVisible: true,\n                                title: data[i].name,\n                                id: status_id,\n                                body: \"[주제]\" +data[i].topic_list,\n                                start: start_time,\n                                end: end_time,\n                                location: data[i].region_list\n                            })\n                    } else {\n                        tempSchedule.push({\n                            calendarId: 3,\n                            category: \"time\",\n                            isAllDay: true,\n                            isVisible: true,\n                            title: data[i].name,\n                            id: 3,\n                            body: \"[주제]\" +data[i].topic_list,\n                            start: data[i].date,\n                            end: data[i].date,\n                            location: data[i].region_list\n                        })\n                    }\n                }\n\n                tempCalendar.push({\n                    id: 0,\n                    name: \"컨택요청\",\n                    color: calendarColor[0],\n                    bgColor: calendarColor[0]+\"40\",\n                    dragBgColor: calendarColor[0]+\"40\",\n                    borderColor: calendarColor[0]\n                })\n                tempCalendar.push({\n                    id: 1,\n                    name: \"컨택진행중\",\n                    color: calendarColor[1],\n                    bgColor: calendarColor[1]+\"40\",\n                    dragBgColor: calendarColor[1]+\"40\",\n                    borderColor: calendarColor[1]\n                })\n                tempCalendar.push({\n                    id: 2,\n                    name: \"컨택완료\",\n                    color: calendarColor[2],\n                    bgColor: calendarColor[2]+\"40\",\n                    dragBgColor: calendarColor[2]+\"40\",\n                    borderColor: calendarColor[2]\n                })\n                tempCalendar.push({\n                    id: 3,\n                    name: \"컨택취소\",\n                    color: calendarColor[3],\n                    bgColor: calendarColor[3]+\"40\",\n                    dragBgColor: calendarColor[3]+\"40\",\n                    borderColor: calendarColor[3]\n                })\n                tempCalendar.push({\n                    id: 4,\n                    name: \"신청자없음\",\n                    color: calendarColor[4],\n                    bgColor: calendarColor[4]+\"40\",\n                    dragBgColor: calendarColor[4]+\"40\",\n                    borderColor: calendarColor[4]\n                })\n            }\n\n            setschedules(tempSchedule)\n            setcalendars(tempCalendar)\n\n        }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [props.calendarData])\n\n\n    useEffect(() => {\n        if (cal !== null) {\n            const calendarInstance = cal.current.getInstance();\n            calendarInstance.today();\n            var m = calendarInstance.getDate().getMonth() + 1;\n            var y = calendarInstance.getDate().getFullYear();\n            if(m < 10)\n                m = \"0\"+m;\n            var date = y+\"-\"+m;\n\n            setmonth(m);\n            setyear(y);\n\n            if(props.clickedLecture !== null && (props.path === \"/lecture/subject\" || props.path === \"/lecture/instructor\" || props.path === \"/admin/lecture\" || props.path === \"/mypage/lecture\"))\n                props.readMainCalendar(date, props.clickedLecture.id);\n            else\n                props.readMainCalendar(date)\n        }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [])\n\n    useEffect(() => {\n        const calendarInstance = cal.current.getInstance();\n        calendarInstance.today();\n        var m = calendarInstance.getDate().getMonth() + 1;\n        var y = calendarInstance.getDate().getFullYear();\n        if(m < 10)\n            m = \"0\"+m;\n        // var date = y+\"-\"+m;\n\n        setmonth(m);\n        setyear(y);\n    }, [props.clickedLecture])\n\n\n    const onClickSchedule = useCallback((e) => {\n        const { calendarId, id } = e.schedule;\n        cal.current.calendarInst.getElement(id, calendarId);\n\n    }, []);\n\n    const onBeforeCreateSchedule = useCallback((scheduleData) => {\n        scheduleData.guide.clearGuideElement();\n        var date = scheduleData.start._date\n        var year = date.getFullYear(); \n        var month = date.getMonth() + 1; \n        var day = date.getDate();\n        if(month < 10)\n            month = \"0\"+month;\n        if(day < 10)\n            day = \"0\"+day;\n        var click_date = year+\"-\"+month+\"-\"+day;\n        setclickedDate(click_date);\n        props.readLecture(click_date);\n\n        \n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n\n    \n\n    function _getFormattedTime(time) {\n        const date = new Date(time);\n        const h = date.getHours();\n        const m = date.getMinutes();\n\n        return `${h}:${m}`;\n    }\n\n    function _getTimeTemplate(schedule, isAllDay) {\n        var html = [];\n\n        if (!isAllDay) {\n            html.push(\"<strong>\" + _getFormattedTime(schedule.start) + \"</strong> \");\n        }\n        if (schedule.isPrivate) {\n            html.push('<span class=\"calendar-font-icon ic-lock-b\"></span>');\n            html.push(\" Private\");\n        } else {\n            if (schedule.isReadOnly) {\n                html.push('<span class=\"calendar-font-icon ic-readonly-b\"></span>');\n            } else if (schedule.recurrenceRule) {\n                html.push('<span class=\"calendar-font-icon ic-repeat-b\"></span>');\n            } else if (schedule.attendees.length) {\n                html.push('<span class=\"calendar-font-icon ic-user-b\"></span>');\n            } else if (schedule.location) {\n                html.push('<span class=\"calendar-font-icon ic-location-b\"></span>');\n            }\n            html.push(\" \" + schedule.title);\n        }\n\n        return html.join(\"\");\n    }\n\n    const templates = {\n        time: function (schedule) {\n            return _getTimeTemplate(schedule, false);\n        }\n    };\n\n\n    const NextButton = useCallback((e) => {\n        if (cal !== null) {\n            const calendarInstance = cal.current.getInstance();\n            calendarInstance.next();\n\n            var m = calendarInstance.getDate().getMonth() + 1;\n            var y = calendarInstance.getDate().getFullYear();\n            if(m < 10)\n                m = \"0\"+m;\n            var date = y+\"-\"+m;\n\n            setmonth(m);\n            setyear(y);\n\n            if((props.path === \"/lecture/subject\" || props.path === \"/lecture/instructor\" || props.path === \"/admin/lecture\" || props.path === \"/mypage/lecture\") && props.clickedLecture !== null)\n                props.readMainCalendar(date, props.clickedLecture.id);\n            else\n                props.readMainCalendar(date)\n        }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [props.clickedLecture]);\n\n    const PrevButton = useCallback((e) => {\n        \n        if (cal !== null) {\n            const calendarInstance = cal.current.getInstance();\n            calendarInstance.prev();\n\n            var m = calendarInstance.getDate().getMonth() + 1;\n            var y = calendarInstance.getDate().getFullYear();\n            if(m < 10)\n                m = \"0\"+m;\n            var date = y+\"-\"+m;\n\n            setmonth(m);\n            setyear(y)\n\n            if((props.path === \"/lecture/subject\" || props.path === \"/lecture/instructor\" || props.path === \"/admin/lecture\" || props.path === \"/mypage/lecture\") && props.clickedLecture !== null) {\n                props.readMainCalendar(date, props.clickedLecture.id);\n            }\n            else\n                props.readMainCalendar(date)\n        }\n\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [props.clickedLecture]);\n\n    const TodayButton = useCallback((e) => {\n        if (cal !== null) {\n            const calendarInstance = cal.current.getInstance();\n            calendarInstance.today();\n\n            var m = calendarInstance.getDate().getMonth() + 1;\n            var y = calendarInstance.getDate().getFullYear();\n            if(m < 10)\n                m = \"0\"+m;\n            var date = y+\"-\"+m;\n\n            setmonth(m);\n            setyear(y)\n\n            if((props.path === \"/lecture/subject\" || props.path === \"/lecture/instructor\" || props.path === \"/admin/lecture\" || props.path === \"/mypage/lecture\") && props.clickedLecture !== null)\n                props.readMainCalendar(date, props.clickedLecture.id);\n            else\n                props.readMainCalendar(date)\n        }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [props.clickedLecture]);\n\n    const clickAllLecture = () => {\n        setclickedDate(\"날짜를 선택해주세요.\");\n        props.readLecture(\"\");\n    }\n\n    return (\n        <div>\n        \n        <h2 className=\"calendar-title\">{year}년 {month}월의 강의</h2>\n            <div className=\"mb15\">\n                <WhiteButton class=\"mr15\" name=\"전체 강의 보기\" click={clickAllLecture}/>\n                <WhiteButton class=\"mr15\" name=\"오늘날짜\" click={TodayButton}/>\n                <WhiteButton class=\"mr15\" name=\"<\" click={PrevButton}/>\n                <WhiteButton name=\">\" click={NextButton}/>\n            </div>\n            <div className=\"mb10\">\n                특정 날짜를 클릭하시면 해당 날짜의 강의들을 볼 수 있습니다.\n            </div>\n            <div className=\"mb10\" style={{fontSize:'17px', fontWeight:'600'}}>\n                선택 날짜: <span className=\"mr10\">{clickedDate}</span>\n            </div>\n            {props.path !== null && (props.path === \"/mypage/contact\" || props.path === \"/lecture/subject\" || props.path === \"/lecture/instructor\" || props.path === \"/admin/lecture\" || props.path === \"/mypage/lecture\") ?\n            <div style={{textAlign:\"right\", marginBottom:\"15px\"}}>\n                <span className=\"mr15\">\n                    <span className=\"color-circle\" style={{background:calendarColor[0]}}></span>\n                    <span>컨택요청</span>\n                </span>\n                <span className=\"mr15\">\n                    <span className=\"color-circle\" style={{background:calendarColor[1]}}></span>\n                    <span>컨택진행중</span>\n                </span>\n                <span className=\"mr15\">\n                    <span className=\"color-circle\" style={{background:calendarColor[2]}}></span>\n                    <span>컨택완료</span>\n                </span>\n                <span className=\"mr15\">\n                    <span className=\"color-circle\" style={{background:calendarColor[3]}}></span>\n                    <span>신청없음</span>\n                </span>\n            </div> :\n            null\n            }\n            \n            <TUICalendar\n                ref={cal}\n                height=\"100%\"\n                view=\"month\"\n                useCreationPopup={false}\n                useDetailPopup={true}\n                template={templates}\n                calendars={calendars}\n                schedules={schedules}\n                onClickSchedule={onClickSchedule}\n                onBeforeCreateSchedule={onBeforeCreateSchedule}\n            />\n        </div>\n    );\n}\n\nexport default LectureDailyCalendar;"]},"metadata":{},"sourceType":"module"}