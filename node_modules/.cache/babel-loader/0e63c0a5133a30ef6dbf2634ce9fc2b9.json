{"ast":null,"code":"import _regeneratorRuntime from\"/Users/hyerm2/Desktop/project/vision/CourseApplicationManagement_frontend/course_application_management/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/hyerm2/Desktop/project/vision/CourseApplicationManagement_frontend/course_application_management/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/hyerm2/Desktop/project/vision/CourseApplicationManagement_frontend/course_application_management/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import Pagination from\"react-js-pagination\";import axios from'axios';import XLSX from\"xlsx\";import FileSaver from\"file-saver\";import'../../../assets/css/table.css';import'../../../assets/css/default.css';import'../../../assets/css/admin_lecture.css';import'../../../assets/css/admin_church.css';import GreyButton from'../../modules/button/admin_grey_btn';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function AdminChurchTemp(){var _useState=useState(1),_useState2=_slicedToArray(_useState,2),page=_useState2[0],setPage=_useState2[1];var postsPerPage=10;var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),churchTempData=_useState4[0],setChurchTempData=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),selectedChurchTemp=_useState6[0],setSelectedChurchTemp=_useState6[1];var _useState7=useState(null),_useState8=_slicedToArray(_useState7,2),keyword=_useState8[0],setKeyword=_useState8[1];function clickChurch(data){if(selectedChurchTemp!==null&&data.id===selectedChurchTemp.id){setSelectedChurchTemp(null);}else{setSelectedChurchTemp(data);}}useEffect(function(){readChurchTempData();// eslint-disable-next-line react-hooks/exhaustive-deps\n},[]);var readChurchTempData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response,_response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!(keyword!==null)){_context.next=7;break;}_context.next=3;return axios.get(process.env.REACT_APP_RESTAPI_HOST+'church/temp',{params:{keyword:encodeURI(keyword),token:window.sessionStorage.getItem('token'),manageID:window.sessionStorage.getItem('id')}});case 3:response=_context.sent;setChurchTempData(response.data);_context.next=11;break;case 7:_context.next=9;return axios.get(process.env.REACT_APP_RESTAPI_HOST+'church/temp',{params:{token:window.sessionStorage.getItem('token'),manageID:window.sessionStorage.getItem('id')}});case 9:_response=_context.sent;setChurchTempData(_response.data);case 11:setKeyword(null);setSelectedChurchTemp(null);case 13:case\"end\":return _context.stop();}}},_callee);}));return function readChurchTempData(){return _ref.apply(this,arguments);};}();var searchKeywordChanged=function searchKeywordChanged(e){setKeyword(e.target.value);};var acceptTemp=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var params,response;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:params=new URLSearchParams();params.append('user_id',window.sessionStorage.getItem('id'));params.append('id',selectedChurchTemp.id);params.append('new_name',selectedChurchTemp.new_name);params.append('new_district',selectedChurchTemp.new_district);params.append('new_zip_code',selectedChurchTemp.new_zip_code);params.append('new_addr1',selectedChurchTemp.new_addr1);params.append('new_addr2',selectedChurchTemp.new_addr2);params.append('new_pastor',selectedChurchTemp.new_pastor);params.append('new_email',selectedChurchTemp.new_email);params.append('new_phone',selectedChurchTemp.new_phone);params.append('token',window.sessionStorage.getItem('token'));params.append('manageID',window.sessionStorage.getItem('id'));if(!window.confirm(\"교회 정보를 수정하시겠습니까?\")){_context2.next=17;break;}_context2.next=16;return axios.post(process.env.REACT_APP_RESTAPI_HOST+'church/confirmChurchTemp',params).then(function(res){alert(\"교회 정보가 수정되었습니다.\");readChurchTempData();setSelectedChurchTemp(null);});case 16:response=_context2.sent;case 17:case\"end\":return _context2.stop();}}},_callee2);}));return function acceptTemp(){return _ref2.apply(this,arguments);};}();var rejectTemp=function rejectTemp(){var value=false;if(selectedChurchTemp.church_id===0){//church_status로 변경 예정 0 인 경우!!\nvalue=window.confirm(\"등록된 적 없는 교회이므로 수락하지 않을 시 이 교회에서 신청한 모든 강의가 취소됩니다. 변경 사항을 거절하시겠습니까?\");}else{value=window.confirm(\"이 교회에 대한 변경 사항을 거절하시겠습니까?\");}if(value){selectedChurchTemp.token=window.sessionStorage.getItem('token');selectedChurchTemp.manageID=window.sessionStorage.getItem('id');axios({url:process.env.REACT_APP_RESTAPI_HOST+'church/temp',method:'put',data:selectedChurchTemp}).then(function(res){alert(\"교회에 대한 변경 사항이 삭제되었습니다.\");readChurchTempData();setSelectedChurchTemp(null);}).catch(function(error){console.log(error);});}};var handlePageChange=function handlePageChange(page){setPage(page);};function currentPosts(tmp){var indexOfLast=page*postsPerPage;var indexOfFirst=indexOfLast-postsPerPage;var currentPosts=0;currentPosts=churchTempData.slice(indexOfFirst,indexOfLast);return currentPosts;}var exportToCSV=function exportToCSV(){var fileType=\"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8\";var fileExtension=\".xlsx\";var fileName=\"churchTemp\";var ws=XLSX.utils.json_to_sheet(churchTempData);var wb={Sheets:{data:ws},SheetNames:[\"data\"]};var excelBuffer=XLSX.write(wb,{bookType:\"xlsx\",type:\"array\"});var data=new Blob([excelBuffer],{type:fileType});FileSaver.saveAs(data,fileName+fileExtension);};var acceptNewChurch=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){var params,response;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:params=new URLSearchParams();params.append('userId',window.sessionStorage.getItem('id'));params.append('name',selectedChurchTemp.new_name);params.append('city',selectedChurchTemp.new_city);params.append('district',selectedChurchTemp.new_district);params.append('zip_code',selectedChurchTemp.new_zip_code);params.append('addr1',selectedChurchTemp.new_addr1);params.append('addr2',selectedChurchTemp.new_addr2);params.append('phone',selectedChurchTemp.new_phone);params.append('email',selectedChurchTemp.new_email);params.append('pastor',selectedChurchTemp.new_pastor);params.append('writer_name',selectedChurchTemp.writer_name);params.append('application_form_id',selectedChurchTemp.application_form_id);params.append('id',selectedChurchTemp.id);params.append('church_temp_id',selectedChurchTemp.id);params.append('token',window.sessionStorage.getItem('token'));params.append('manageID',window.sessionStorage.getItem('id'));if(!window.confirm(\"새로운 교회를 수락하시겠습니까?\")){_context3.next=21;break;}_context3.next=20;return axios.post(process.env.REACT_APP_RESTAPI_HOST+'church/temp',params).then(function(res){alert(\"새로운 교회가 수락되었습니다.\");readChurchTempData();setSelectedChurchTemp(null);});case 20:response=_context3.sent;case 21:case\"end\":return _context3.stop();}}},_callee3);}));return function acceptNewChurch(){return _ref3.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"admin-title-header\",children:\"\\uAD50\\uD68C \\uAD00\\uB9AC\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"admin-content-wrapper\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"table-wrapper mt0 relative\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"table-name mb40\",children:[\"\\uAD50\\uD68C \\uC815\\uBCF4 \\uBCC0\\uACBD\\uC0AC\\uD56D\",/*#__PURE__*/_jsx(GreyButton,{class:\"right mr10\",name:\"\\uC5D1\\uC140 \\uD30C\\uC77C \\uB2E4\\uC6B4\\uB85C\\uB4DC\",click:exportToCSV})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb20\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"p48 mr15\",type:\"text\",placeholder:\"\\uAD50\\uD68C\\uBA85, \\uC8FC\\uC18C, \\uC0AC\\uC6A9\\uC790 \\uC774\\uBA54\\uC77C\\uB85C \\uD0A4\\uC6CC\\uB4DC \\uAC80\\uC0C9\",value:keyword||\"\",onChange:searchKeywordChanged}),/*#__PURE__*/_jsx(GreyButton,{name:\"\\uAC80\\uC0C9\",click:readChurchTempData})]}),selectedChurchTemp!==null?/*#__PURE__*/_jsxs(\"div\",{className:\"mb50 church-info-wrapper\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"original original-info\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"original-title\",children:\"\\uAE30\\uC874 \\uC815\\uBCF4\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"p25\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"church-padding\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"add-church-title\",children:\"\\uAD50\\uD68C\\uBA85\"}),/*#__PURE__*/_jsx(\"span\",{children:selectedChurchTemp.name})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"church-padding mb8\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"add-church-title\",children:\"\\uC8FC\\uC18C \\uC785\\uB825\"}),/*#__PURE__*/_jsx(\"span\",{children:selectedChurchTemp.addr1})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"church-padding mb8\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"add-church-title\"}),/*#__PURE__*/_jsx(\"span\",{children:selectedChurchTemp.addr2})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"church-padding mb8\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"add-church-title\"}),/*#__PURE__*/_jsx(\"span\",{children:selectedChurchTemp.zip_code})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"church-padding\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"add-church-title\",children:\"\\uB2F4\\uC784 \\uBAA9\\uC0AC\"}),/*#__PURE__*/_jsx(\"span\",{children:selectedChurchTemp.pastor})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"church-padding\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"add-church-title\",children:\"\\uB300\\uD45C \\uC5F0\\uB77D\\uCC98\"}),/*#__PURE__*/_jsx(\"span\",{children:selectedChurchTemp.phone})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"church-padding\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"add-church-title\",children:\"\\uB300\\uD45C \\uC774\\uBA54\\uC77C\"}),/*#__PURE__*/_jsx(\"span\",{children:selectedChurchTemp.email})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"change-info\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"change-title\",children:\"\\uBCC0\\uACBD\\uB41C \\uC815\\uBCF4\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"p25\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"church-flex\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"add-church-title\",children:\"\\uAD50\\uD68C\\uBA85\"}),/*#__PURE__*/_jsx(\"span\",{children:selectedChurchTemp.new_name===null?\"변경 사항 없음\":selectedChurchTemp.new_name})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"church-flex\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"add-church-title\",children:\"\\uC8FC\\uC18C \\uC785\\uB825\"}),/*#__PURE__*/_jsx(\"span\",{children:selectedChurchTemp.new_addr1===null?\"변경 사항 없음\":selectedChurchTemp.new_addr1})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"church-flex mb8\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"add-church-title\"}),/*#__PURE__*/_jsx(\"span\",{children:selectedChurchTemp.new_addr2===null?\"변경 사항 없음\":selectedChurchTemp.new_addr2})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"church-flex mb8\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"add-church-title\"}),/*#__PURE__*/_jsx(\"span\",{children:selectedChurchTemp.new_zip_code===null?\"변경 사항 없음\":selectedChurchTemp.new_zip_code})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"church-flex\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"add-church-title\",children:\"\\uB2F4\\uC784 \\uBAA9\\uC0AC\"}),/*#__PURE__*/_jsx(\"span\",{children:selectedChurchTemp.new_pastor===null?\"변경 사항 없음\":selectedChurchTemp.new_pastor})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"church-flex\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"add-church-title\",children:\"\\uB300\\uD45C \\uC5F0\\uB77D\\uCC98\"}),/*#__PURE__*/_jsx(\"span\",{children:selectedChurchTemp.new_phone===null?\"변경 사항 없음\":selectedChurchTemp.new_phone})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"church-flex\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"add-church-title\",children:\"\\uB300\\uD45C \\uC774\\uBA54\\uC77C\"}),/*#__PURE__*/_jsx(\"span\",{children:selectedChurchTemp.new_email===null?\"변경 사항 없음\":selectedChurchTemp.new_email})]}),selectedChurchTemp.status===0&&selectedChurchTemp.church_id===0?/*#__PURE__*/_jsxs(\"div\",{className:\"button-wrapper\",children:[/*#__PURE__*/_jsx(GreyButton,{class:\"mr10\",name:\"\\uC0C8\\uB85C\\uC6B4 \\uAD50\\uD68C \\uC218\\uB77D\",click:acceptNewChurch}),/*#__PURE__*/_jsx(GreyButton,{name:\"\\uBCC0\\uACBD \\uB0B4\\uC6A9 \\uAC70\\uC808\",click:rejectTemp})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"button-wrapper\",children:[/*#__PURE__*/_jsx(GreyButton,{class:\"mr10\",name:\"\\uBCC0\\uACBD \\uB0B4\\uC6A9 \\uC218\\uB77D\",click:acceptTemp}),/*#__PURE__*/_jsx(GreyButton,{name:\"\\uBCC0\\uACBD \\uB0B4\\uC6A9 \\uAC70\\uC808\",click:rejectTemp})]})]})]})]}):null,/*#__PURE__*/_jsxs(\"div\",{className:\"mt50 table-row-church\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"th\",children:\"\\uAE30\\uC874 \\uAD50\\uB2E8\"}),/*#__PURE__*/_jsx(\"span\",{className:\"th\",children:\"\\uAE30\\uC874 \\uC774\\uB984\"}),/*#__PURE__*/_jsx(\"span\",{className:\"th church-location\",children:\"\\uAE30\\uC874 \\uC9C0\\uC5ED\"}),/*#__PURE__*/_jsx(\"span\",{className:\"th church-writer\",children:\"\\uC791\\uC131\\uC790\"}),/*#__PURE__*/_jsx(\"span\",{className:\"th church-date\",children:\"\\uC791\\uC131\\uC77C\\uC790\"})]}),churchTempData!==null&&churchTempData.length!==0?currentPosts(churchTempData).map(function(data,index){return/*#__PURE__*/_jsxs(\"div\",{className:selectedChurchTemp!==null&&selectedChurchTemp.id===data.id?\"click-inst-row table-row-church\":\"table-row-church\",onClick:function onClick(){clickChurch(data);},children:[/*#__PURE__*/_jsx(\"span\",{className:\"td admin-subject\",children:data.denomination}),/*#__PURE__*/_jsx(\"span\",{className:\"td\",children:data.new_name!==\"\"?data.new_name:data.name!==\"\"?data.name:\"\"}),/*#__PURE__*/_jsx(\"span\",{className:\"td\",children:data.new_addr1!==\"\"?data.new_addr1:data.addr1!==\"\"?data.addr1:\"\"}),/*#__PURE__*/_jsx(\"span\",{className:\"td admin-date\",children:data.admin_name}),/*#__PURE__*/_jsx(\"span\",{className:\"td admin-loc\",children:data.reg_date})]},index);}):/*#__PURE__*/_jsx(\"div\",{className:\"no-content\",children:\"\\uBCC0\\uACBD\\uB418\\uAC70\\uB098 \\uCD94\\uAC00\\uB41C \\uAD50\\uD68C \\uC815\\uBCF4\\uAC00 \\uC5C6\\uC2B5\\uB2C8\\uB2E4.\"})]}),/*#__PURE__*/_jsx(Pagination,{activePage:page,itemsCountPerPage:postsPerPage,totalItemsCount:churchTempData!==null?churchTempData.length:0,pageRangeDisplayed:5,prevPageText:\"‹\",nextPageText:\"›\",onChange:handlePageChange})]})]});}export default AdminChurchTemp;","map":{"version":3,"sources":["/Users/hyerm2/Desktop/project/vision/CourseApplicationManagement_frontend/course_application_management/src/components/pages/admin/churchTemp.js"],"names":["React","useState","useEffect","Pagination","axios","XLSX","FileSaver","GreyButton","AdminChurchTemp","page","setPage","postsPerPage","churchTempData","setChurchTempData","selectedChurchTemp","setSelectedChurchTemp","keyword","setKeyword","clickChurch","data","id","readChurchTempData","get","process","env","REACT_APP_RESTAPI_HOST","params","encodeURI","token","window","sessionStorage","getItem","manageID","response","searchKeywordChanged","e","target","value","acceptTemp","URLSearchParams","append","new_name","new_district","new_zip_code","new_addr1","new_addr2","new_pastor","new_email","new_phone","confirm","post","then","res","alert","rejectTemp","church_id","url","method","catch","error","console","log","handlePageChange","currentPosts","tmp","indexOfLast","indexOfFirst","slice","exportToCSV","fileType","fileExtension","fileName","ws","utils","json_to_sheet","wb","Sheets","SheetNames","excelBuffer","write","bookType","type","Blob","saveAs","acceptNewChurch","new_city","writer_name","application_form_id","name","addr1","addr2","zip_code","pastor","phone","email","status","length","map","index","denomination","admin_name","reg_date"],"mappings":"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","sourcesContent":["\nimport React, {useState, useEffect} from \"react\";\nimport Pagination from \"react-js-pagination\";\nimport axios from 'axios';\nimport XLSX from \"xlsx\";\nimport FileSaver from \"file-saver\";\nimport '../../../assets/css/table.css';\nimport '../../../assets/css/default.css';\nimport '../../../assets/css/admin_lecture.css';\nimport '../../../assets/css/admin_church.css';\nimport GreyButton from '../../modules/button/admin_grey_btn';\n\nfunction AdminChurchTemp() {\n\n    const [page, setPage] = useState(1);\n    const postsPerPage = 10;\n    const [churchTempData, setChurchTempData] = useState(null);\n    const [selectedChurchTemp, setSelectedChurchTemp] = useState(null);\n    const [keyword, setKeyword] = useState(null);\n\n    function clickChurch(data) {\n        if(selectedChurchTemp !== null && data.id === selectedChurchTemp.id) {\n            setSelectedChurchTemp(null);\n        } else {\n            setSelectedChurchTemp(data);\n        }\n    }\n\n    useEffect(() => {\n        readChurchTempData();\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    },[]);\n\n    const readChurchTempData = async() => {\n        if(keyword !== null){\n            const response = await axios.get(\n                process.env.REACT_APP_RESTAPI_HOST + 'church/temp',\n                {\n                    params: {\n                        keyword: encodeURI(keyword),\n                        token: window.sessionStorage.getItem('token'),\n                        manageID: window.sessionStorage.getItem('id')\n                    }\n                }\n            );\n            setChurchTempData(response.data);\n        }else {\n            const response = await axios.get(\n                process.env.REACT_APP_RESTAPI_HOST + 'church/temp', {\n                    params: {\n                        token: window.sessionStorage.getItem('token'),\n                        manageID: window.sessionStorage.getItem('id')\n                    }\n                }\n            );\n            setChurchTempData(response.data);\n        }\n        setKeyword(null);\n        setSelectedChurchTemp(null);\n    }\n    const searchKeywordChanged = e => {\n        setKeyword(e.target.value);\n    }\n\n    const acceptTemp = async() => {\n        var params = new URLSearchParams();\n        params.append('user_id', window.sessionStorage.getItem('id'));\n        params.append('id', selectedChurchTemp.id);\n        params.append('new_name', selectedChurchTemp.new_name);\n        params.append('new_district', selectedChurchTemp.new_district);\n        params.append('new_zip_code', selectedChurchTemp.new_zip_code);\n        params.append('new_addr1', selectedChurchTemp.new_addr1);\n        params.append('new_addr2', selectedChurchTemp.new_addr2);\n        params.append('new_pastor', selectedChurchTemp.new_pastor);\n        params.append('new_email', selectedChurchTemp.new_email);\n        params.append('new_phone', selectedChurchTemp.new_phone);\n        params.append('token', window.sessionStorage.getItem('token'));\n        params.append('manageID', window.sessionStorage.getItem('id'));\n\n        if(window.confirm(\"교회 정보를 수정하시겠습니까?\")) {\n            const response = await axios.post(\n            process.env.REACT_APP_RESTAPI_HOST + 'church/confirmChurchTemp',\n            params,\n            ).then(function(res) {\n                alert(\"교회 정보가 수정되었습니다.\");\n                readChurchTempData();\n                setSelectedChurchTemp(null);\n            });\n        }\n    }\n\n    const rejectTemp = () => {\n        var value = false;\n        if(selectedChurchTemp.church_id === 0){ //church_status로 변경 예정 0 인 경우!!\n            value = window.confirm(\"등록된 적 없는 교회이므로 수락하지 않을 시 이 교회에서 신청한 모든 강의가 취소됩니다. 변경 사항을 거절하시겠습니까?\")\n        }else {\n            value = window.confirm(\"이 교회에 대한 변경 사항을 거절하시겠습니까?\")\n        }\n        if(value) {\n            selectedChurchTemp.token = window.sessionStorage.getItem('token');\n            selectedChurchTemp.manageID = window.sessionStorage.getItem('id');\n            axios(\n                {\n                    url: process.env.REACT_APP_RESTAPI_HOST+'church/temp',\n                    method: 'put',\n                    data: selectedChurchTemp\n                }\n            ).then(function(res) {\n                alert(\"교회에 대한 변경 사항이 삭제되었습니다.\");\n                readChurchTempData();\n                setSelectedChurchTemp(null);\n            }).catch(function(error) {\n                console.log(error)\n            })\n        }\n    }\n\n    const handlePageChange = (page) => {\n        setPage(page);\n    };\n\n    function currentPosts(tmp) {\n        var indexOfLast = page * postsPerPage;\n        var indexOfFirst = indexOfLast - postsPerPage;\n\n        let currentPosts = 0;\n        currentPosts = churchTempData.slice(indexOfFirst, indexOfLast);\n        return currentPosts;\n    }\n\n    const exportToCSV = () => {\n        const fileType = \"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8\";\n        const fileExtension = \".xlsx\";\n        const fileName = \"churchTemp\";\n        const ws = XLSX.utils.json_to_sheet(churchTempData);\n        const wb = { Sheets: { data: ws }, SheetNames: [\"data\"] };\n        const excelBuffer = XLSX.write(wb, { bookType: \"xlsx\", type: \"array\" });\n        const data = new Blob([excelBuffer], { type: fileType });\n        FileSaver.saveAs(data, fileName + fileExtension);\n    };\n\n    const acceptNewChurch = async() => {\n        var params = new URLSearchParams();\n        params.append('userId', window.sessionStorage.getItem('id'));\n        params.append('name', selectedChurchTemp.new_name);\n        params.append('city', selectedChurchTemp.new_city);\n        params.append('district', selectedChurchTemp.new_district);\n        params.append('zip_code', selectedChurchTemp.new_zip_code);\n        params.append('addr1', selectedChurchTemp.new_addr1);\n        params.append('addr2', selectedChurchTemp.new_addr2);\n        params.append('phone', selectedChurchTemp.new_phone);\n        params.append('email', selectedChurchTemp.new_email);\n        params.append('pastor', selectedChurchTemp.new_pastor);\n        params.append('writer_name', selectedChurchTemp.writer_name);\n        params.append('application_form_id', selectedChurchTemp.application_form_id);\n        params.append('id', selectedChurchTemp.id);\n        params.append('church_temp_id', selectedChurchTemp.id);\n        params.append('token', window.sessionStorage.getItem('token'));\n        params.append('manageID', window.sessionStorage.getItem('id'));\n\n        if(window.confirm(\"새로운 교회를 수락하시겠습니까?\")) {\n            const response = await axios.post(\n            process.env.REACT_APP_RESTAPI_HOST + 'church/temp',\n            params,\n            ).then(function(res) {\n                alert(\"새로운 교회가 수락되었습니다.\");\n                readChurchTempData();\n                setSelectedChurchTemp(null);\n            });\n        }\n    }\n\n    return (\n    <div>\n        <p className=\"admin-title-header\">교회 관리</p>\n        <div className=\"admin-content-wrapper\">\n            <div className=\"table-wrapper mt0 relative\">\n                <p className=\"table-name mb40\">\n                    교회 정보 변경사항\n                    <GreyButton class=\"right mr10\" name=\"엑셀 파일 다운로드\" click={exportToCSV}/>\n                </p>\n                <div className=\"mb20\">\n                    <input className=\"p48 mr15\" type=\"text\" placeholder=\"교회명, 주소, 사용자 이메일로 키워드 검색\" value={keyword || \"\"} onChange={searchKeywordChanged}/>\n                    <GreyButton name=\"검색\" click={readChurchTempData}/>\n                </div>\n                {selectedChurchTemp !== null ?\n                <div className=\"mb50 church-info-wrapper\">\n                    <div className=\"original original-info\">\n                        <p className=\"original-title\">기존 정보</p>\n                        <div className=\"p25\">\n                            <div className=\"church-padding\">\n                                <span className=\"add-church-title\">교회명</span>\n                                <span>{selectedChurchTemp.name}</span>\n                            </div>\n                            <div className=\"church-padding mb8\">\n                                <span className=\"add-church-title\">주소 입력</span>\n                                <span>{selectedChurchTemp.addr1}</span>\n                            </div>\n                            <div className=\"church-padding mb8\">\n                                <span className=\"add-church-title\"></span>\n                                <span>{selectedChurchTemp.addr2}</span>\n                            </div>\n                            <div className=\"church-padding mb8\">\n                                <span className=\"add-church-title\"></span>\n                                <span>{selectedChurchTemp.zip_code}</span>\n                            </div>\n                            <div className=\"church-padding\">\n                                <span className=\"add-church-title\">담임 목사</span>\n                                <span>{selectedChurchTemp.pastor}</span>\n                            </div>\n                            <div className=\"church-padding\">\n                                <span className=\"add-church-title\">대표 연락처</span>\n                                <span>{selectedChurchTemp.phone}</span>\n                            </div>\n                            <div className=\"church-padding\">\n                                <span className=\"add-church-title\">대표 이메일</span>\n                                <span>{selectedChurchTemp.email}</span>\n                            </div>\n                        </div>\n                    </div>\n                    <div className=\"change-info\">\n                        <p className=\"change-title\">변경된 정보</p>\n                        <div className=\"p25\">\n                            <div className=\"church-flex\">\n                            <span className=\"add-church-title\">교회명</span>\n                                <span>{selectedChurchTemp.new_name === null ? \"변경 사항 없음\": selectedChurchTemp.new_name}</span>\n                            </div>\n                            <div className=\"church-flex\">\n                                <span className=\"add-church-title\">주소 입력</span>\n                                <span>{selectedChurchTemp.new_addr1=== null ? \"변경 사항 없음\": selectedChurchTemp.new_addr1}</span>\n                            </div>\n                            <div className=\"church-flex mb8\">\n                                <span className=\"add-church-title\"></span>\n                                <span>{selectedChurchTemp.new_addr2=== null ? \"변경 사항 없음\": selectedChurchTemp.new_addr2}</span>\n                            </div>\n                            <div className=\"church-flex mb8\">\n                                <span className=\"add-church-title\"></span>\n                                <span>{selectedChurchTemp.new_zip_code=== null ? \"변경 사항 없음\": selectedChurchTemp.new_zip_code}</span>\n                            </div>\n                            <div className=\"church-flex\">\n                                <span className=\"add-church-title\">담임 목사</span>\n                                <span>{selectedChurchTemp.new_pastor === null ? \"변경 사항 없음\": selectedChurchTemp.new_pastor}</span>\n                            </div>\n                            <div className=\"church-flex\">\n                                <span className=\"add-church-title\">대표 연락처</span>\n                                <span>{selectedChurchTemp.new_phone === null ? \"변경 사항 없음\": selectedChurchTemp.new_phone}</span>\n                            </div>\n                            <div className=\"church-flex\">\n                                <span className=\"add-church-title\">대표 이메일</span>\n                                <span>{selectedChurchTemp.new_email === null ? \"변경 사항 없음\": selectedChurchTemp.new_email}</span>\n                            </div>\n                            {selectedChurchTemp.status === 0 && selectedChurchTemp.church_id === 0 ?\n                            <div className=\"button-wrapper\">\n                                <GreyButton class=\"mr10\" name=\"새로운 교회 수락\" click={acceptNewChurch}/>\n                                <GreyButton name=\"변경 내용 거절\" click = {rejectTemp}/>\n                            </div>:\n                            <div className=\"button-wrapper\">\n                                <GreyButton class=\"mr10\" name=\"변경 내용 수락\" click = {acceptTemp}/>\n                                <GreyButton name=\"변경 내용 거절\" click = {rejectTemp}/>\n                            </div>\n                            }\n                            \n                            {/* <div>\n                                <span className=\"add-church-title\">교회명</span>\n                                <input className=\"p4\" type=\"text\"/>\n                            </div>\n                            <div>\n                                <span className=\"add-church-title\">교단</span>\n                                <input className=\"p4\" type=\"text\"/>\n                            </div>\n                            <div>\n                                <span className=\"add-church-title\">한동대와 연관성</span>\n                                <input className=\"p4\" type=\"text\"/>\n                            </div>\n                            <div>\n                                <span className=\"add-church-title\"></span>\n                                <input className=\"p4\" type=\"text\" placeholder=\"세부사항 입력\"/>\n                            </div>\n                            <div>\n                                <span className=\"add-church-title\">교회 규모</span>\n                                <input className=\"p4\" type=\"text\"/>\n                            </div>\n                            <hr className=\"lecture-hr\"/>\n                            <div>\n                                <span className=\"add-church-title\">담임 목사 성명</span>\n                                <input className=\"p4\" type=\"text\"/>\n                            </div>\n                            <div>\n                                <span className=\"add-church-title\">실무자 성명</span>\n                                <input className=\"p4\" type=\"text\"/>\n                            </div>\n                            <div>\n                                <span className=\"add-church-title\">실무자 연락처</span>\n                                <input className=\"p4\" type=\"text\"/>\n                            </div>\n                            <div>\n                                <span className=\"add-church-title\">주소 입력</span>\n                                <input className=\"p4\" type=\"text\" placeholder=\"국가\"/>\n                            </div>\n                            <div className=\"mb8\">\n                                <span className=\"add-church-title\"></span>\n                                <input className=\"p4 mr15\" placeholder=\"시 * 도\" type=\"text\"/>\n                                <input className=\"p4\" placeholder=\"시 * 군 * 구\" type=\"text\"/>\n                            </div>\n                            <div className=\"mb8\">\n                                <span className=\"add-church-title\"></span>\n                                <input className=\"p4\" placeholder=\"우편번호\" type=\"text\"/>\n                            </div>\n                            <div className=\"mb8\">\n                                <span className=\"add-church-title\"></span>\n                                <input className=\"p4\" type=\"text\"/>\n                            </div>\n                            <div>\n                                <span className=\"add-church-title\"></span>\n                                <input className=\"p4\" placeholder=\"상세주소 입력\" type=\"text\"/>\n                            </div>\n                            <hr className=\"lecture-hr\"/>\n                            <div>\n                                <span className=\"add-church-title\">교회 연락처</span>\n                                <input className=\"p4\" type=\"text\"/>\n                            </div>\n                            <div>\n                                <span className=\"add-church-title\">교회 이메일</span>\n                                <input className=\"p4\" type=\"text\"/>\n                            </div>\n                            <div>\n                                <span className=\"add-church-title\">교회 홈페이지</span>\n                                <input className=\"p4\" type=\"text\"/>\n                            </div>\n                            <div>\n                                <span className=\"add-church-title\">교회 팩스 번호</span>\n                                <input className=\"p4\" type=\"text\"/>\n                            </div>\n                            <div className=\"church-grid\">\n                                <span className=\"add-church-title\">메모 사항</span>\n                                <textarea className=\"h180 p4\"></textarea>\n                            </div> */}\n                        </div>\n                    </div>\n                </div>:\n                null}\n\n                <div className=\"mt50 table-row-church\">\n                    <span className=\"th\">기존 교단</span>\n                    <span className=\"th\">기존 이름</span>\n                    <span className=\"th church-location\">기존 지역</span>\n                    <span className=\"th church-writer\">작성자</span>\n                    <span className=\"th church-date\">작성일자</span>\n                </div>\n\n\n                { churchTempData !== null && churchTempData.length !== 0 ?\n                    currentPosts(churchTempData).map((data, index) =>\n                        <div key={index}  className = {selectedChurchTemp !== null && selectedChurchTemp.id === data.id ? \"click-inst-row table-row-church\" : \"table-row-church\"} onClick = {() => {clickChurch(data)}}>\n                            <span className=\"td admin-subject\">{data.denomination}</span>\n                            <span className=\"td\">{data.new_name !== \"\" ? data.new_name : data.name !== \"\" ? data.name : \"\"}</span>\n                            <span className=\"td\">{data.new_addr1 !== \"\" ? data.new_addr1 : data.addr1 !== \"\" ? data.addr1 : \"\"}</span>\n                            <span className=\"td admin-date\">{data.admin_name}</span>\n                            <span className=\"td admin-loc\">{data.reg_date}</span>\n                        </div>\n                    )\n                    :\n                    <div className=\"no-content\">변경되거나 추가된 교회 정보가 없습니다.</div>\n                }\n            </div>\n            <Pagination\n                activePage={page}\n                itemsCountPerPage={postsPerPage}\n                totalItemsCount={churchTempData !== null ? churchTempData.length : 0}\n                pageRangeDisplayed={5}\n                prevPageText={\"‹\"}\n                nextPageText={\"›\"}\n                onChange={handlePageChange}\n            />\n        </div>\n    </div>\n    );\n}\n\nexport default AdminChurchTemp;\n"]},"metadata":{},"sourceType":"module"}