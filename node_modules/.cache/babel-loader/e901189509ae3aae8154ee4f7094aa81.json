{"ast":null,"code":"var _jsxFileName = \"/Users/jeong-yeeun/git/CourseApplicationManagement_frontend/course_application_management/src/components/pages/notice.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect, createRef } from 'react';\nimport axios from 'axios';\nimport Pagination from \"react-js-pagination\";\nimport { Link } from 'react-router-dom';\nimport WhiteButton from '../modules/button/white_button';\nimport { Editor, Viewer } from '@toast-ui/react-editor';\nimport \"../../assets/css/notice.css\";\nimport '@toast-ui/editor/dist/toastui-editor.css';\nimport GreyButton from '../modules/button/admin_grey_btn';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Notice() {\n  _s();\n\n  const [selectedNotice, setSelectedNotice] = useState(null);\n  const [selectedContent, setselectedContent] = useState(\"\");\n  const [editNotice, seteditNotice] = useState(null);\n  const [keyword, setkeyword] = useState(null);\n  const [NoticeInfo, setNoticeInfo] = useState(null);\n  const [mode, setmode] = useState(null);\n  const editorRef = /*#__PURE__*/createRef();\n  const readViewerRef = /*#__PURE__*/createRef();\n  const editEditorRef = /*#__PURE__*/createRef();\n  const [addTitle, setaddTitle] = useState(\"\");\n  const [administratorInfo, setAdministratorInfo] = useState(null);\n  const [page, setPage] = useState(1); // eslint-disable-next-line no-unused-vars\n\n  const [postsPerPage, setpostsPerPage] = useState(10);\n  useEffect(() => {\n    readNotice();\n    readAdministratorInfo(); // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  function noticeClick(e) {\n    if (selectedNotice === null || selectedNotice !== e) {\n      setSelectedNotice(null);\n      clickedSetFunction(e);\n      setselectedContent(e.content);\n      seteditNotice(e);\n      setmode(\"read\");\n    } else {\n      setSelectedNotice(null);\n      setmode(null);\n    }\n  }\n\n  const clickedSetFunction = e => {\n    setSelectedNotice(e);\n  };\n\n  const readAdministratorInfo = async () => {\n    if (parseInt(window.sessionStorage.getItem('status')) === 2) {\n      const response = await axios.get(process.env.REACT_APP_RESTAPI_HOST + 'administrator/user/' + window.sessionStorage.getItem('id'), {\n        params: {\n          token: window.sessionStorage.getItem('token')\n        }\n      });\n      setAdministratorInfo(response.data);\n    }\n  };\n\n  function addNoticeClick(e) {\n    if (mode !== 'create') setmode('create');else setSelectedNotice(\"read\");\n  }\n\n  const readNotice = async () => {\n    if (keyword !== '' && keyword !== null) {\n      const response = await axios.get(process.env.REACT_APP_RESTAPI_HOST + 'notice', {\n        params: {\n          keyword: keyword,\n          token: window.sessionStorage.getItem('token')\n        }\n      });\n      setNoticeInfo(response.data);\n    } else {\n      const response = await axios.get(process.env.REACT_APP_RESTAPI_HOST + 'notice', {\n        params: {\n          token: window.sessionStorage.getItem('token')\n        }\n      });\n      setNoticeInfo(response.data);\n    }\n\n    setkeyword(null);\n  };\n\n  const createNotice = () => {\n    var lines = editorRef.current.getInstance().toastMark.lineTexts;\n    var addContent = lines.join(\"\\n\");\n\n    if (window.confirm(\"공지사항을 등록하시겠습니까?\")) {\n      axios({\n        url: process.env.REACT_APP_RESTAPI_HOST + 'notice',\n        method: 'post',\n        data: {\n          administrator_id: administratorInfo.id,\n          title: addTitle,\n          content: addContent,\n          important: 0,\n          token: window.sessionStorage.getItem('token')\n        }\n      }).then(function (res) {\n        alert(\"공지사항이 등록되었습니다.\");\n        readNotice();\n        setmode(null);\n        setaddTitle(\"\");\n      });\n    }\n  };\n\n  const editFinishBtn = () => {\n    var lines = editEditorRef.current.getInstance().toastMark.lineTexts;\n    var editContent = lines.join(\"\\n\");\n    let dataset = { ...editNotice,\n      content: editContent,\n      token: window.sessionStorage.getItem('token')\n    };\n\n    if (window.confirm(\"공지사항을 수정하시겠습니까?\")) {\n      axios({\n        url: process.env.REACT_APP_RESTAPI_HOST + 'notice',\n        method: 'put',\n        data: dataset\n      }).then(function (res) {\n        alert(\"수정이 완료되었습니다.\");\n        readNotice();\n        setmode(null);\n        seteditNotice(null);\n        setSelectedNotice(null);\n      });\n    }\n  };\n\n  const onEdit = e => {\n    const {\n      value,\n      name\n    } = e.target;\n    seteditNotice({ ...editNotice,\n      [name]: value\n    });\n  };\n\n  const cancelEditBtn = () => {\n    setmode(\"read\");\n    seteditNotice(selectedNotice);\n  };\n\n  const cancelReadBtn = () => {\n    setmode(null);\n    setaddTitle(\"\");\n  };\n\n  const deleteNotice = () => {\n    if (window.confirm(\"공지사항을 삭제하시겠습니까?\")) {\n      axios({\n        url: process.env.REACT_APP_RESTAPI_HOST + 'notice',\n        method: 'delete',\n        data: {\n          notice_id: selectedNotice.id,\n          token: window.sessionStorage.getItem('token')\n        }\n      }).then(function (res) {\n        alert(\"삭제가 완료되었습니다.\");\n        readNotice();\n        setSelectedNotice(null);\n        setmode(null);\n      });\n    }\n  };\n\n  const handlePageChange = page => {\n    setPage(page);\n  };\n\n  function currentPosts(tmp) {\n    var indexOfLast = page * postsPerPage;\n    var indexOfFirst = indexOfLast - postsPerPage;\n    let currentPosts = 0;\n    currentPosts = NoticeInfo.slice(indexOfFirst, indexOfLast);\n    return currentPosts;\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"main-image\",\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        className: \"page-background\",\n        src: process.env.REACT_APP_DEFAULT_URL + \"image/notice.png\",\n        alt: \"lecture page\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"page-info\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"\\uACF5\\uC9C0\\uC0AC\\uD56D\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 202,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"\\uC0AC\\uC774\\uD2B8 \\uC774\\uC6A9 \\uBC29\\uBC95\\uACFC \\uACF5\\uC9C0\\uC0AC\\uD56D\\uC744 \\uBCF4\\uC5EC\\uC90D\\uB2C8\\uB2E4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 203,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"content-wrapper\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"left-navbar\",\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          children: /*#__PURE__*/_jsxDEV(Link, {\n            className: \"sub-title active\",\n            to: process.env.REACT_APP_DEFAULT_URL + \"notice\",\n            children: \"\\uACF5\\uC9C0\\uC0AC\\uD56D\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 209,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 208,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"right-content\",\n        children: [mode === null && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb35\",\n          style: {\n            textAlign: 'right'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            className: \"p48 mr10\",\n            type: \"text\",\n            placeholder: \"\\uC81C\\uBAA9, \\uB0B4\\uC6A9, \\uAE00\\uC4F4\\uC774\\uB85C \\uAC80\\uC0C9\",\n            value: keyword || \"\",\n            onChange: e => setkeyword(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 215,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(GreyButton, {\n            name: \"\\uAC80\\uC0C9\",\n            click: readNotice\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 216,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 214,\n          columnNumber: 25\n        }, this), selectedNotice !== null ? mode === \"edit\" ? /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"detail-title notice-detail-title\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"notice-header\",\n              children: \" \\uACF5\\uC9C0\\uC0AC\\uD56D \\uAE00\\uC4F0\\uAE30\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 223,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              className: \"notice-input-title\",\n              defaultValue: editNotice.title,\n              name: \"title\",\n              onChange: onEdit,\n              placeholder: \"\\uC81C\\uBAA9\\uC744 \\uC785\\uB825\\uD574\\uC8FC\\uC138\\uC694.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 224,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 222,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"detail-content notice-detail-title notice-pc-editor\",\n            children: /*#__PURE__*/_jsxDEV(Editor, {\n              placeholder: \"\\uB0B4\\uC6A9\\uC744 \\uC785\\uB825\\uD574\\uC8FC\\uC138\\uC694\",\n              previewStyle: \"vertical\",\n              height: \"600px\",\n              initialEditType: \"markdown\",\n              initialValue: editNotice.content,\n              useCommandShortcut: true,\n              ref: editEditorRef\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 227,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 226,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"detail-content notice-detail-title notice-mobile-editor\",\n            children: /*#__PURE__*/_jsxDEV(Editor, {\n              placeholder: \"\\uB0B4\\uC6A9\\uC744 \\uC785\\uB825\\uD574\\uC8FC\\uC138\\uC694\",\n              previewStyle: \"horizon\",\n              height: \"600px\",\n              initialEditType: \"markdown\",\n              initialValue: editNotice.content,\n              useCommandShortcut: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 238,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 237,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"button-wrapper notice-create-button-wrapper\",\n            children: [/*#__PURE__*/_jsxDEV(WhiteButton, {\n              name: \"\\uC644\\uB8CC\",\n              class: \"mr15\",\n              click: () => editFinishBtn()\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 248,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(WhiteButton, {\n              name: \"\\uCDE8\\uC18C\",\n              click: () => cancelEditBtn()\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 249,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 247,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 221,\n          columnNumber: 25\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"detail-title\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              children: selectedNotice.title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 255,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [selectedNotice.admin_name, \" \\uC791\\uC131\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 256,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"detail-date\",\n              children: selectedNotice.reg_date\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 257,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 254,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"detail-content\",\n            children: /*#__PURE__*/_jsxDEV(Viewer, {\n              initialValue: selectedContent,\n              ref: readViewerRef\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 260,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 259,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"button-wrapper notice-button-wrapper\",\n            children: [/*#__PURE__*/_jsxDEV(WhiteButton, {\n              name: \"\\uBAA9\\uB85D\\uC73C\\uB85C\",\n              class: \"mr15\",\n              click: () => {\n                setmode(null);\n                setSelectedNotice(null);\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 266,\n              columnNumber: 33\n            }, this), parseInt(window.sessionStorage.getItem('status')) === 2 ? /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [/*#__PURE__*/_jsxDEV(WhiteButton, {\n                name: \"\\uC218\\uC815\",\n                class: \"mr15\",\n                click: () => setmode(\"edit\")\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 270,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(WhiteButton, {\n                name: \"\\uC0AD\\uC81C\",\n                click: () => deleteNotice()\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 271,\n                columnNumber: 41\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 269,\n              columnNumber: 37\n            }, this) : null]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 265,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 253,\n          columnNumber: 25\n        }, this) : mode === \"create\" ? /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"detail-title notice-detail-title\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"notice-header\",\n              children: \" \\uACF5\\uC9C0\\uC0AC\\uD56D \\uAE00\\uC4F0\\uAE30\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 279,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              className: \"notice-input-title\",\n              defaultValue: addTitle,\n              onChange: e => setaddTitle(e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 280,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 278,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"detail-content notice-detail-title notice-pc-editor\",\n            children: /*#__PURE__*/_jsxDEV(Editor, {\n              placeholder: \"\\uB0B4\\uC6A9\\uC744 \\uC785\\uB825\\uD574\\uC8FC\\uC138\\uC694\",\n              previewStyle: \"vertical\",\n              height: \"600px\",\n              initialEditType: \"markdown\",\n              useCommandShortcut: true,\n              ref: editorRef\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 283,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 282,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"detail-content notice-detail-title notice-mobile-editor\",\n            children: /*#__PURE__*/_jsxDEV(Editor, {\n              placeholder: \"\\uB0B4\\uC6A9\\uC744 \\uC785\\uB825\\uD574\\uC8FC\\uC138\\uC694\",\n              previewStyle: \"horizon\",\n              height: \"600px\",\n              initialEditType: \"markdown\",\n              useCommandShortcut: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 293,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 292,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"button-wrapper notice-create-button-wrapper\",\n            children: [/*#__PURE__*/_jsxDEV(WhiteButton, {\n              name: \"\\uC644\\uB8CC\",\n              class: \"mr15\",\n              click: createNotice\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 302,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(WhiteButton, {\n              name: \"\\uCDE8\\uC18C\",\n              click: cancelReadBtn\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 303,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 301,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 277,\n          columnNumber: 25\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 306,\n          columnNumber: 26\n        }, this), mode === null && /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"table-wrapper\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"table-row-user\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"th\",\n                children: \"\\uBC88\\uD638\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 313,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"th\",\n                children: \"\\uC81C\\uBAA9\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 314,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"th date\",\n                children: \"\\uAE00\\uC4F4\\uC774\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 315,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"th date\",\n                children: \"\\uB4F1\\uB85D\\uC77C\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 316,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 312,\n              columnNumber: 29\n            }, this), NoticeInfo !== null && NoticeInfo.length > 0 ? currentPosts(NoticeInfo).map((notice, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: notice === selectedNotice ? \" table-row-user click-inst-row\" : \"table-row-user\",\n              onClick: () => noticeClick(notice),\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"td\",\n                children: index + 1\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 321,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"td\",\n                children: notice.title\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 322,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"td date\",\n                children: notice.admin_name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 323,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"td date\",\n                children: notice.reg_date\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 324,\n                columnNumber: 37\n              }, this)]\n            }, notice.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 320,\n              columnNumber: 33\n            }, this)) : /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"no-content\",\n              children: \"\\uB4F1\\uB85D\\uB41C \\uACF5\\uC9C0\\uC0AC\\uD56D\\uC774 \\uC5C6\\uC2B5\\uB2C8\\uB2E4.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 328,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 311,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Pagination, {\n            activePage: page,\n            itemsCountPerPage: postsPerPage,\n            totalItemsCount: NoticeInfo !== null ? NoticeInfo.length : 0,\n            pageRangeDisplayed: 5,\n            prevPageText: \"‹\",\n            nextPageText: \"›\",\n            onChange: handlePageChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 331,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 310,\n          columnNumber: 21\n        }, this), mode === null && parseInt(window.sessionStorage.getItem('status')) === 2 ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"button-left-wrapper\",\n          children: /*#__PURE__*/_jsxDEV(WhiteButton, {\n            name: \"\\uAE00\\uC4F0\\uAE30\",\n            click: addNoticeClick\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 343,\n            columnNumber: 62\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 343,\n          columnNumber: 25\n        }, this) : null]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 198,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Notice, \"jl0ozDMd4PRjHGSLzkxB4xSDjGM=\");\n\n_c = Notice;\nexport default Notice;\n\nvar _c;\n\n$RefreshReg$(_c, \"Notice\");","map":{"version":3,"sources":["/Users/jeong-yeeun/git/CourseApplicationManagement_frontend/course_application_management/src/components/pages/notice.js"],"names":["React","useState","useEffect","createRef","axios","Pagination","Link","WhiteButton","Editor","Viewer","GreyButton","Notice","selectedNotice","setSelectedNotice","selectedContent","setselectedContent","editNotice","seteditNotice","keyword","setkeyword","NoticeInfo","setNoticeInfo","mode","setmode","editorRef","readViewerRef","editEditorRef","addTitle","setaddTitle","administratorInfo","setAdministratorInfo","page","setPage","postsPerPage","setpostsPerPage","readNotice","readAdministratorInfo","noticeClick","e","clickedSetFunction","content","parseInt","window","sessionStorage","getItem","response","get","process","env","REACT_APP_RESTAPI_HOST","params","token","data","addNoticeClick","createNotice","lines","current","getInstance","toastMark","lineTexts","addContent","join","confirm","url","method","administrator_id","id","title","important","then","res","alert","editFinishBtn","editContent","dataset","onEdit","value","name","target","cancelEditBtn","cancelReadBtn","deleteNotice","notice_id","handlePageChange","currentPosts","tmp","indexOfLast","indexOfFirst","slice","REACT_APP_DEFAULT_URL","textAlign","admin_name","reg_date","length","map","notice","index"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, createRef } from 'react';\nimport axios from 'axios';\nimport Pagination from \"react-js-pagination\";\nimport { Link } from 'react-router-dom';\nimport WhiteButton from '../modules/button/white_button';\nimport { Editor, Viewer } from '@toast-ui/react-editor';\nimport \"../../assets/css/notice.css\";\nimport '@toast-ui/editor/dist/toastui-editor.css';\nimport GreyButton from '../modules/button/admin_grey_btn';\n\nfunction Notice() {\n    const [selectedNotice, setSelectedNotice] = useState(null);\n    const [selectedContent, setselectedContent] = useState(\"\");\n    const [editNotice, seteditNotice] = useState(null);\n    const [keyword, setkeyword] = useState(null);\n    const [NoticeInfo, setNoticeInfo] = useState(null);\n    const [mode, setmode] = useState(null);\n    const editorRef = createRef();\n    const readViewerRef = createRef();\n    const editEditorRef = createRef();\n    const [addTitle, setaddTitle] = useState(\"\");\n    const [administratorInfo, setAdministratorInfo] = useState(null);\n    const [page, setPage] = useState(1);\n    // eslint-disable-next-line no-unused-vars\n    const [postsPerPage, setpostsPerPage] = useState(10);\n\n    useEffect(() => {\n        readNotice();\n        readAdministratorInfo();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n\n\n\n    function noticeClick(e) {\n\n        if (selectedNotice === null || selectedNotice !== e) {\n            setSelectedNotice(null);\n            clickedSetFunction(e);\n            setselectedContent(e.content);\n            seteditNotice(e);\n            setmode(\"read\");\n        }\n        else{\n            setSelectedNotice(null);\n            setmode(null);\n        }\n    }\n\n    const clickedSetFunction = (e) => {\n        setSelectedNotice(e);\n    }\n\n    const readAdministratorInfo = async () => {\n        if(parseInt(window.sessionStorage.getItem('status')) === 2){\n            const response = await axios.get(\n                process.env.REACT_APP_RESTAPI_HOST + 'administrator/user/'+window.sessionStorage.getItem('id'), {\n                    params: {\n                        token: window.sessionStorage.getItem('token')\n                    }\n                }\n            );\n            setAdministratorInfo(response.data);\n        }\n    }\n\n    function addNoticeClick(e) {\n        if (mode !== 'create')\n            setmode('create');\n        else\n            setSelectedNotice(\"read\");\n    }\n\n    const readNotice = async () => {\n        if(keyword !== '' && keyword !== null){\n            const response = await axios.get(\n                process.env.REACT_APP_RESTAPI_HOST + 'notice',\n                {\n                    params: {\n                        keyword: keyword,\n                        token: window.sessionStorage.getItem('token')\n                    }\n                }\n            );\n            setNoticeInfo(response.data)\n        }else {\n            const response = await axios.get(\n                process.env.REACT_APP_RESTAPI_HOST + 'notice', {\n                    params: {\n                        token: window.sessionStorage.getItem('token')\n                    }\n                }\n            );\n            setNoticeInfo(response.data)\n        }\n        setkeyword(null);\n    }\n\n    const createNotice = () => {\n        var lines = editorRef.current.getInstance().toastMark.lineTexts;\n        var addContent = lines.join(\"\\n\");\n        if(window.confirm(\"공지사항을 등록하시겠습니까?\")) {\n            axios(\n                {\n                    url: process.env.REACT_APP_RESTAPI_HOST+'notice',\n                    method: 'post',\n                    data: {\n                        administrator_id: administratorInfo.id,\n                        title: addTitle,\n                        content: addContent,\n                        important: 0,\n                        token: window.sessionStorage.getItem('token')\n                    }\n                }\n            ).then(function(res) {\n                alert(\"공지사항이 등록되었습니다.\");\n                readNotice();\n                setmode(null);\n                setaddTitle(\"\");\n            })\n        }\n    }\n\n    const editFinishBtn = () => {\n        var lines = editEditorRef.current.getInstance().toastMark.lineTexts;\n        var editContent = lines.join(\"\\n\");\n        let dataset = {...editNotice, content:editContent, token: window.sessionStorage.getItem('token')};\n        \n        if(window.confirm(\"공지사항을 수정하시겠습니까?\")) {\n            axios(\n                {\n                    url: process.env.REACT_APP_RESTAPI_HOST+'notice',\n                    method: 'put',\n                    data: dataset\n                }\n            ).then(function(res) {\n                alert(\"수정이 완료되었습니다.\")\n                readNotice();\n                setmode(null);\n                seteditNotice(null);\n                setSelectedNotice(null);\n            })\n        }\n    }\n\n    const onEdit = (e) => {\n        const { value, name } = e.target;\n        seteditNotice({\n            ...editNotice,\n            [name]: value\n        });\n    };\n\n    const cancelEditBtn = () => {\n        setmode(\"read\");\n        seteditNotice(selectedNotice);\n    }\n\n    const cancelReadBtn = () => {\n        setmode(null);\n        setaddTitle(\"\");\n    }\n\n    const deleteNotice = () => {\n        if(window.confirm(\"공지사항을 삭제하시겠습니까?\")) {\n            axios(\n                {\n                    url: process.env.REACT_APP_RESTAPI_HOST+'notice',\n                    method: 'delete',\n                    data: {\n                        notice_id: selectedNotice.id,\n                        token: window.sessionStorage.getItem('token')\n                    }\n                }\n            ).then(function(res) {\n                alert(\"삭제가 완료되었습니다.\")\n                readNotice();\n                setSelectedNotice(null);\n                setmode(null);\n            })\n        }\n    }\n\n    const handlePageChange = (page) => { \n        setPage(page); \n    };\n\n    function currentPosts(tmp) {\n        var indexOfLast = page * postsPerPage;\n        var indexOfFirst = indexOfLast - postsPerPage;\n\n        let currentPosts = 0;\n        currentPosts = NoticeInfo.slice(indexOfFirst, indexOfLast);\n        return currentPosts;\n    }\n\n    return (\n        <div>\n            <div className=\"main-image\">\n                <img className=\"page-background\" src={process.env.REACT_APP_DEFAULT_URL+\"image/notice.png\"} alt=\"lecture page\" />\n                <div className=\"page-info\">\n                    <h2>공지사항</h2>\n                    <p>사이트 이용 방법과 공지사항을 보여줍니다</p>\n                </div>\n            </div>\n            <div className=\"content-wrapper\">\n                <div className=\"left-navbar\">\n                    <span>\n                        <Link className=\"sub-title active\" to={process.env.REACT_APP_DEFAULT_URL+\"notice\"}>공지사항</Link>\n                    </span>\n                </div>\n                <div className=\"right-content\">\n                    {mode === null &&\n                        <div className=\"mb35\" style={{textAlign:'right'}}>\n                            <input className=\"p48 mr10\" type=\"text\" placeholder=\"제목, 내용, 글쓴이로 검색\" value={keyword || \"\"} onChange={(e)=>setkeyword(e.target.value)}/>\n                            <GreyButton name=\"검색\" click={readNotice}/>\n                        </div>\n                    }\n                    {selectedNotice !== null ?\n                        mode === \"edit\"?\n                        <div>\n                            <div className=\"detail-title notice-detail-title\">\n                                <h2 className=\"notice-header\"> 공지사항 글쓰기</h2>\n                                <input className=\"notice-input-title\" defaultValue={editNotice.title} name=\"title\" onChange={onEdit} placeholder=\"제목을 입력해주세요.\"/>\n                            </div>\n                            <div className=\"detail-content notice-detail-title notice-pc-editor\">\n                                <Editor\n                                    placeholder=\"내용을 입력해주세요\"\n                                    previewStyle=\"vertical\"\n                                    height=\"600px\"\n                                    initialEditType=\"markdown\"\n                                    initialValue={editNotice.content}\n                                    useCommandShortcut={true}\n                                    ref={editEditorRef}\n                                />\n                            </div>\n                            <div className=\"detail-content notice-detail-title notice-mobile-editor\">\n                                <Editor\n                                    placeholder=\"내용을 입력해주세요\"\n                                    previewStyle=\"horizon\"\n                                    height=\"600px\"\n                                    initialEditType=\"markdown\"\n                                    initialValue={editNotice.content}\n                                    useCommandShortcut={true}\n                                />\n                            </div>\n                            <div className=\"button-wrapper notice-create-button-wrapper\">\n                                <WhiteButton name=\"완료\" class=\"mr15\" click={()=>editFinishBtn()}/>\n                                <WhiteButton name=\"취소\" click={()=>cancelEditBtn()}/>\n                            </div>\n                        </div>\n                        :\n                        <div>\n                            <div className=\"detail-title\">\n                                <h2>{selectedNotice.title}</h2>\n                                <span>{selectedNotice.admin_name} 작성</span>\n                                <span className=\"detail-date\">{selectedNotice.reg_date}</span>\n                            </div>\n                            <div className=\"detail-content\">\n                                <Viewer\n                                initialValue={selectedContent}\n                                ref={readViewerRef}\n                                />\n                            </div>\n                            <div className=\"button-wrapper notice-button-wrapper\">\n                                <WhiteButton name=\"목록으로\" class=\"mr15\" click={()=>{setmode(null); setSelectedNotice(null)}}/>\n                                {\n                                    parseInt(window.sessionStorage.getItem('status')) === 2?\n                                    <span>\n                                        <WhiteButton name=\"수정\" class=\"mr15\" click={()=>setmode(\"edit\")}/>\n                                        <WhiteButton name=\"삭제\" click={()=>deleteNotice()}/>\n                                    </span>:null\n                                }\n                            </div>\n                        </div>\n                        : mode === \"create\" ?\n                        <div>\n                            <div className=\"detail-title notice-detail-title\">\n                                <h2 className=\"notice-header\"> 공지사항 글쓰기</h2>\n                                <input className=\"notice-input-title\" defaultValue={addTitle} onChange={(e)=>setaddTitle(e.target.value)}/>\n                            </div>\n                            <div className=\"detail-content notice-detail-title notice-pc-editor\">\n                                <Editor\n                                    placeholder=\"내용을 입력해주세요\"\n                                    previewStyle=\"vertical\"\n                                    height=\"600px\"\n                                    initialEditType=\"markdown\"\n                                    useCommandShortcut={true}\n                                    ref={editorRef}\n                                />\n                            </div>\n                            <div className=\"detail-content notice-detail-title notice-mobile-editor\">\n                                <Editor\n                                    placeholder=\"내용을 입력해주세요\"\n                                    previewStyle=\"horizon\"\n                                    height=\"600px\"\n                                    initialEditType=\"markdown\"\n                                    useCommandShortcut={true}\n                                />\n                            </div>\n                            <div className=\"button-wrapper notice-create-button-wrapper\">\n                                <WhiteButton name=\"완료\" class=\"mr15\" click={createNotice}/>\n                                <WhiteButton name=\"취소\" click={cancelReadBtn}/>\n                            </div>\n                        </div>\n                        :<div>\n                        </div>\n                    }\n                    {mode === null &&\n                    <div>\n                        <div className=\"table-wrapper\">\n                            <div className=\"table-row-user\" >\n                                <div className=\"th\">번호</div>\n                                <div className=\"th\">제목</div>\n                                <div className=\"th date\">글쓴이</div>\n                                <div className=\"th date\">등록일</div>\n                            </div>\n                            { NoticeInfo !== null && NoticeInfo.length > 0 ?\n                                currentPosts(NoticeInfo).map((notice, index) =>\n                                <div key={notice.id} className={notice === selectedNotice ? \" table-row-user click-inst-row\" : \"table-row-user\"} onClick={() => noticeClick(notice)}>\n                                    <div className=\"td\">{index+1}</div>\n                                    <div className=\"td\">{notice.title}</div>\n                                    <div className=\"td date\">{notice.admin_name}</div>\n                                    <div className=\"td date\">{notice.reg_date}</div>\n                                </div>\n                                )\n                                :\n                                <div className=\"no-content\">등록된 공지사항이 없습니다.</div>\n                            }\n                        </div>\n                        <Pagination \n                            activePage={page} \n                            itemsCountPerPage={postsPerPage} \n                            totalItemsCount={NoticeInfo !== null ? NoticeInfo.length : 0} \n                            pageRangeDisplayed={5} \n                            prevPageText={\"‹\"} \n                            nextPageText={\"›\"} \n                            onChange={handlePageChange} \n                        />\n                    </div>\n                    }\n                    {mode === null && parseInt(window.sessionStorage.getItem('status')) === 2?\n                        <div className=\"button-left-wrapper\"><WhiteButton name=\"글쓰기\" click={addNoticeClick}/></div>:null\n                    }\n                </div>\n            </div>\n        </div>\n    );\n}\n\nexport default Notice;\n"]},"metadata":{},"sourceType":"module"}