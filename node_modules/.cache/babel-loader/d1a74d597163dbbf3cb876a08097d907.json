{"ast":null,"code":"import _defineProperty from\"/Users/hyerm2/Desktop/project/vision/CourseApplicationManagement_frontend/course_application_management/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/Users/hyerm2/Desktop/project/vision/CourseApplicationManagement_frontend/course_application_management/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _regeneratorRuntime from\"/Users/hyerm2/Desktop/project/vision/CourseApplicationManagement_frontend/course_application_management/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/hyerm2/Desktop/project/vision/CourseApplicationManagement_frontend/course_application_management/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/hyerm2/Desktop/project/vision/CourseApplicationManagement_frontend/course_application_management/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import axios from'axios';import ReactLoading from\"react-loading\";import'../../../assets/css/default.css';import'../../../assets/css/lecture_layout.css';import BlueButton from'../../modules/button/blue_button';// import Calendar from '../../modules/calendar/common';\nimport{Link}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function MypageProfile(props){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),profileInfo=_useState2[0],setprofileInfo=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),editProfileInfo=_useState4[0],seteditProfileInfo=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),isEdit=_useState6[0],setisEdit=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),isAgree=_useState8[0],setisAgree=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),removeProfileImage=_useState10[0],setRemoveProfileImage=_useState10[1];var _useState11=useState(null),_useState12=_slicedToArray(_useState11,2),profileImage=_useState12[0],setProfileImage=_useState12[1];var _useState13=useState(\"\"),_useState14=_slicedToArray(_useState13,2),profileImageBase64=_useState14[0],setProfileImageBase64=_useState14[1];var _useState15=useState(null),_useState16=_slicedToArray(_useState15,2),settingInfo=_useState16[0],setsettingInfo=_useState16[1];useEffect(function(){readProfile();readSettingInfo();},[]);var readSettingInfo=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get(process.env.REACT_APP_RESTAPI_HOST+'setting',{params:{token:window.sessionStorage.getItem('token'),manageID:window.sessionStorage.getItem('id')}});case 2:response=_context.sent;setsettingInfo(response.data);case 4:case\"end\":return _context.stop();}}},_callee);}));return function readSettingInfo(){return _ref.apply(this,arguments);};}();var readProfile=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(id){var response,responseValue;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return axios.get(process.env.REACT_APP_RESTAPI_HOST+'instructor/'+window.sessionStorage.getItem('id'),{params:{token:window.sessionStorage.getItem('token'),manageID:window.sessionStorage.getItem('id')}});case 2:response=_context2.sent;setprofileInfo(response.data);responseValue=response.data;responseValue.intro=responseValue.intro.replaceAll(\"<br/>\",\"\\n\");responseValue.memo=responseValue.memo.replaceAll(\"<br/>\",\"\\n\");seteditProfileInfo(responseValue);case 8:case\"end\":return _context2.stop();}}},_callee2);}));return function readProfile(_x){return _ref2.apply(this,arguments);};}();var clickCancelBtn=function clickCancelBtn(){setisEdit(false);setisAgree(false);seteditProfileInfo(profileInfo);};var clickFinishBtn=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){var params,headers;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:if(isAgree){_context3.next=4;break;}alert(\"개인정보 수집 및 이용 동의에 동의해주세요!\");_context3.next=18;break;case 4:if(!window.confirm(\"프로필 정보를 수정하시겠습니까?\")){_context3.next=18;break;}params=new FormData();headers={'Content-type':'multipart/form-data; charset=UTF-8','Accept':'*/*'};if(removeProfileImage===true){params.append('image',\"\");}else{params.append('image',editProfileInfo.image);params.append('file',profileImage);}//var params = new URLSearchParams();\nparams.append('id',editProfileInfo.id);params.append('position_id',editProfileInfo.position_id);params.append('name',editProfileInfo.name);params.append('phone',editProfileInfo.phone);params.append('intro',editProfileInfo.intro);params.append('memo',editProfileInfo.memo);params.append('token',window.sessionStorage.getItem('token'));params.append('manageID',window.sessionStorage.getItem('id'));_context3.next=18;return axios.post(process.env.REACT_APP_RESTAPI_HOST+'instructor/update',params,{headers:headers}).then(function(res){alert(\"프로필 수정이 완료되었습니다.\");readProfile();setisEdit(false);setisAgree(false);});case 18:case\"end\":return _context3.stop();}}},_callee3);}));return function clickFinishBtn(){return _ref3.apply(this,arguments);};}();var changeAgree=function changeAgree(){if(isAgree)setisAgree(false);else setisAgree(true);};var onEdit=function onEdit(e){var _e$target=e.target,value=_e$target.value,name=_e$target.name;seteditProfileInfo(_objectSpread(_objectSpread({},editProfileInfo),{},_defineProperty({},name,value)));};var handleChangeFile=function handleChangeFile(event,setImage,setImagebase64){var reader=new FileReader();if(event.target.files[0]){reader.readAsDataURL(event.target.files[0]);setImage(event.target.files[0]);}reader.onloadend=function(){var base64=reader.result;if(base64){setImagebase64(base64.toString());}};};return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mypage-image relative\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"page-background\",src:process.env.REACT_APP_DEFAULT_URL+'image/instructor_mypage.png',alt:\"lecture page\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"page-info\",children:[/*#__PURE__*/_jsx(\"h2\",{style:{color:'white'},className:\"page-title\",children:\"\\uB9C8\\uC774\\uD398\\uC774\\uC9C0\"}),/*#__PURE__*/_jsx(\"p\",{className:\"page-intro\",children:settingInfo!==null?settingInfo.find(function(element){return element.key===\"mypage_profile_phrase\";}).value.split(\"<br/>\").map(function(item,i){return/*#__PURE__*/_jsx(\"div\",{children:item},i);}):\"\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"inst-title-header\",children:[/*#__PURE__*/_jsx(\"h2\",{style:{color:'white'},children:\"\\uB9C8\\uC774\\uD398\\uC774\\uC9C0\"}),/*#__PURE__*/_jsx(\"p\",{children:settingInfo!==null?settingInfo.find(function(element){return element.key===\"mypage_profile_phrase\";}).value.split(\"<br/>\").map(function(item,i){return/*#__PURE__*/_jsx(\"div\",{children:item},i);}):\"\"})]}),profileInfo!==null?/*#__PURE__*/_jsxs(\"div\",{className:\"content-wrapper\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"left-navbar\",children:[/*#__PURE__*/_jsx(\"span\",{children:/*#__PURE__*/_jsx(Link,{className:props.history.location.pathname===process.env.REACT_APP_DEFAULT_URL+\"mypage/profile\"?\"left-active\":\"\",to:process.env.REACT_APP_DEFAULT_URL+\"mypage/profile\",children:\"\\uB0B4 \\uD504\\uB85C\\uD544\"})}),/*#__PURE__*/_jsx(\"span\",{children:/*#__PURE__*/_jsx(Link,{className:props.history.location.pathname===process.env.REACT_APP_DEFAULT_URL+\"mypage/lecture\"?\"left-active\":\"\",to:process.env.REACT_APP_DEFAULT_URL+\"mypage/lecture\",children:\"\\uB0B4 \\uAC15\\uC758\\uD568\"})}),/*#__PURE__*/_jsx(\"span\",{children:/*#__PURE__*/_jsx(Link,{className:props.history.location.pathname===process.env.REACT_APP_DEFAULT_URL+\"mypage/contact\"?\"left-active\":\"\",to:process.env.REACT_APP_DEFAULT_URL+\"mypage/contact\",children:\"\\uCEE8\\uD0DD \\uC77C\\uC815\"})}),/*#__PURE__*/_jsx(\"span\",{children:/*#__PURE__*/_jsx(Link,{className:props.history.location.pathname===process.env.REACT_APP_DEFAULT_URL+\"mypage/visitlog\"?\"left-active\":\"\",to:process.env.REACT_APP_DEFAULT_URL+\"mypage/visitlog\",children:\"\\uBC29\\uBB38\\uC77C\\uC9C0\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"right-content\",children:isEdit?/*#__PURE__*/_jsxs(\"div\",{className:\"profile-edit-wrapper\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"mb20 fs20\",children:\"\\uD504\\uB85C\\uD544 \\uC0AC\\uC9C4\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"profile-edit\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"profile-image\",children:removeProfileImage===false&&profileImage!==null?/*#__PURE__*/_jsx(\"img\",{className:\"profile-img-content\",src:profileImageBase64,alt:\"profile_image\",onError:function onError(e){e.target.src=process.env.REACT_APP_DEFAULT_URL+'image/errorImage2.png';}}):removeProfileImage===false&&profileInfo!==null&&profileInfo.image!==\"null\"&&profileInfo.image!==null&&profileInfo.image!==\"\"?/*#__PURE__*/_jsx(\"img\",{className:\"profile-img-content\",src:process.env.REACT_APP_RESTAPI_HOST+\"resources/upload/\"+profileInfo.image,alt:\"profile_image\",onError:function onError(e){e.target.src=process.env.REACT_APP_DEFAULT_URL+'image/errorImage2.png';}}):null}),/*#__PURE__*/_jsxs(\"div\",{className:\"profile-info\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"mb30\",children:\"\\uC774\\uB984\"}),/*#__PURE__*/_jsx(\"input\",{className:\"mr10\",style:{width:'136px'},defaultValue:editProfileInfo.name,name:\"name\",onChange:onEdit}),/*#__PURE__*/_jsxs(\"select\",{className:\"p48\",defaultValue:editProfileInfo.position_id,name:\"position_id\",onChange:onEdit,children:[/*#__PURE__*/_jsx(\"option\",{value:\"3\",children:\"\\uAD50\\uC218\"}),/*#__PURE__*/_jsx(\"option\",{value:\"2\",children:\"\\uB3D9\\uBB38\"}),/*#__PURE__*/_jsx(\"option\",{value:\"1\",children:\"\\uD559\\uBD80\\uBAA8\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"mb30\",children:\"\\uC5F0\\uB77D\\uCC98\"}),/*#__PURE__*/_jsx(\"input\",{defaultValue:editProfileInfo.phone,name:\"phone\",onChange:onEdit})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{children:\"\\uC774\\uBA54\\uC77C\"}),profileInfo.email]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"profile-file\",children:[/*#__PURE__*/_jsx(\"label\",{className:removeProfileImage===false?\"file-button\":\"file-button disabled\",htmlFor:\"input-file\",children:\"\\uCCA8\\uBD80\\uD30C\\uC77C\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"checkbox-wrapper\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"checkbox-content\",children:\"\\uC0AD\\uC81C\"}),/*#__PURE__*/_jsx(\"input\",{className:\"checkbox-input\",type:\"checkbox\",onChange:function onChange(e){setRemoveProfileImage(!removeProfileImage);}})]})]}),removeProfileImage===true?/*#__PURE__*/_jsx(\"input\",{type:\"file\",id:\"input-file\",style:{display:\"none\"},disabled:true}):/*#__PURE__*/_jsx(\"input\",{type:\"file\",id:\"input-file\",style:{display:\"none\"},onChange:function onChange(e){handleChangeFile(e,setProfileImage,setProfileImageBase64);}})]}),/*#__PURE__*/_jsx(\"textarea\",{className:\"mb30 introduce-textarea\",placeholder:\"\\uC778\\uC0AC\\uB9D0 \\uC791\\uC131\\uB780\",defaultValue:editProfileInfo.intro,name:\"intro\",onChange:onEdit}),/*#__PURE__*/_jsx(\"textarea\",{className:\"profile-textarea mb20\",placeholder:\"\\uC57D\\uB825 \\uC791\\uC131\\uB780\",name:\"memo\",defaultValue:editProfileInfo.memo,onChange:onEdit}),/*#__PURE__*/_jsxs(\"ul\",{className:\"agree-ul mb40\",children:[/*#__PURE__*/_jsx(\"li\",{className:\"mb10\",children:\"\\uC774\\uB2E8 \\uBC0F \\uC0AC\\uC774\\uBE44 \\uB2E8\\uCCB4\\uB294 \\uC791\\uC131\\uAE00\\uC744 \\uAC8C\\uC2DC\\uD560 \\uC218 \\uC5C6\\uC73C\\uBA70 \\uC801\\uBC1C \\uC2DC \\uC608\\uBC30 \\uBC0F \\uC124\\uAD50 \\uBC29\\uD574\\uC8C4 (\\uD615\\uBC95 \\uC81C 158\\uC870), \\uD1F4\\uAC70\\uBD88\\uC751\\uC8C4(\\uD615\\uBC95 \\uC81C 319\\uC870 2\\uD56D), \\uC5C5\\uBB34\\uBC29\\uD574\\uC8C4(\\uD615\\uBC95 \\uC81C314\\uC870), \\uAC1C\\uC778\\uC815\\uBCF4\\uBCF4\\uD638\\uBC95 \\uC704\\uBC18 \\uB4F1\\uC73C\\uB85C \\uCC98\\uBC8C\\uBC1B\\uC744 \\uC218 \\uC788\\uC2B5\\uB2C8\\uB2E4.\"}),/*#__PURE__*/_jsx(\"li\",{children:\"\\uAC1C\\uC778 \\uC815\\uBCF4 \\uC218\\uC9D1 \\uB3D9\\uC758 - \\uC774\\uC6A9\\uC790\\uAC00 \\uC81C\\uACF5\\uD55C \\uBAA8\\uB4E0 \\uC815\\uBCF4\\uB294 \\uB2E4\\uC74C\\uC758 \\uBAA9\\uC801\\uC744 \\uC704\\uD574 \\uD65C\\uC6A9\\uD558\\uBA70, \\uD558\\uAE30 \\uBAA9\\uC801 \\uC774\\uC678\\uC758 \\uC6A9\\uB3C4\\uB85C\\uB294 \\uC0AC\\uC6A9\\uD558\\uC9C0 \\uC54A\\uC2B5\\uB2C8\\uB2E4.\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"input\",{className:\"agree-check mr10\",type:\"checkbox\",defaultValue:isAgree,onChange:changeAgree}),/*#__PURE__*/_jsx(\"span\",{className:\"fs14\",children:\"\\uAC1C\\uC778\\uC815\\uBCF4 \\uC218\\uC9D1 \\uBC0F \\uC774\\uC6A9\\uC5D0 \\uB300\\uD574 \\uB3D9\\uC758\\uD569\\uB2C8\\uB2E4.\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center',marginTop:'30px'},children:[/*#__PURE__*/_jsx(BlueButton,{class:\"mr15\",name:\"\\uC218\\uC815\\uC644\\uB8CC\",click:function click(){return clickFinishBtn();}}),/*#__PURE__*/_jsx(BlueButton,{name:\"\\uC218\\uC815\\uCDE8\\uC18C\",click:function click(){return clickCancelBtn();}})]})]}):/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"profile-wrapper\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"mb20 fs20\",children:\"\\uD504\\uB85C\\uD544 \\uC0AC\\uC9C4\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"profile\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"profile-image\",children:profileInfo.image!==\"null\"&&profileInfo.image!==null&&profileInfo.image!==\"\"?/*#__PURE__*/_jsx(\"img\",{className:\"profile-img-content\",src:process.env.REACT_APP_RESTAPI_HOST+\"resources/upload/\"+profileInfo.image,alt:\"profile_image\",onError:function onError(e){e.target.src=process.env.REACT_APP_DEFAULT_URL+'image/errorImage2.png';}}):null}),/*#__PURE__*/_jsxs(\"div\",{className:\"profile-info\",children:[/*#__PURE__*/_jsxs(\"h1\",{children:[profileInfo.name,\" \",/*#__PURE__*/_jsx(\"span\",{style:{marginLeft:'15px',fontSize:'18px'},children:profileInfo.position_name})]}),/*#__PURE__*/_jsx(\"p\",{children:profileInfo.phone}),/*#__PURE__*/_jsx(\"p\",{children:profileInfo.email})]})]}),/*#__PURE__*/_jsx(\"h2\",{className:\"mb10 fs20\",children:\"\\uC778\\uC0AC\\uB9D0\"}),/*#__PURE__*/_jsx(\"p\",{className:\"introduce\",children:profileInfo.intro.split(\"\\n\").map(function(item,i){return/*#__PURE__*/_jsx(\"div\",{children:item},i);})}),/*#__PURE__*/_jsx(\"h2\",{className:\"mb25 fs20\",children:\"\\uC57D\\uB825\"}),/*#__PURE__*/_jsx(\"ul\",{className:\"profile-ul\",children:profileInfo.memo.split(\"\\n\").map(function(item,i){return/*#__PURE__*/_jsx(\"div\",{children:item},i);})})]}),/*#__PURE__*/_jsx(BlueButton,{class:\"profile-btn\",name:\"\\uC218\\uC815\\uD558\\uAE30\",click:function click(){return setisEdit(true);}})]})})]}):/*#__PURE__*/_jsx(ReactLoading,{type:\"spin\",color:\"#05589c\"})]});}export default MypageProfile;","map":{"version":3,"sources":["/Users/hyerm2/Desktop/project/vision/CourseApplicationManagement_frontend/course_application_management/src/components/pages/mypage/profile.js"],"names":["React","useState","useEffect","axios","ReactLoading","BlueButton","Link","MypageProfile","props","profileInfo","setprofileInfo","editProfileInfo","seteditProfileInfo","isEdit","setisEdit","isAgree","setisAgree","removeProfileImage","setRemoveProfileImage","profileImage","setProfileImage","profileImageBase64","setProfileImageBase64","settingInfo","setsettingInfo","readProfile","readSettingInfo","get","process","env","REACT_APP_RESTAPI_HOST","params","token","window","sessionStorage","getItem","manageID","response","data","id","responseValue","intro","replaceAll","memo","clickCancelBtn","clickFinishBtn","alert","confirm","FormData","headers","append","image","position_id","name","phone","post","then","res","changeAgree","onEdit","e","target","value","handleChangeFile","event","setImage","setImagebase64","reader","FileReader","files","readAsDataURL","onloadend","base64","result","toString","REACT_APP_DEFAULT_URL","color","find","element","key","split","map","item","i","history","location","pathname","src","width","email","display","textAlign","marginTop","marginLeft","fontSize","position_name"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport ReactLoading from \"react-loading\";\nimport '../../../assets/css/default.css';\nimport '../../../assets/css/lecture_layout.css';\nimport BlueButton from '../../modules/button/blue_button';\n// import Calendar from '../../modules/calendar/common';\nimport { Link } from 'react-router-dom';\n\n\nfunction MypageProfile (props){\n    const [profileInfo, setprofileInfo] = useState(null);\n    const [editProfileInfo, seteditProfileInfo] = useState(null);\n    const [isEdit, setisEdit] = useState(false);\n    const [isAgree, setisAgree] = useState(false);\n    const [removeProfileImage, setRemoveProfileImage] = useState(false)\n    const [profileImage,setProfileImage] = useState(null)\n    const [profileImageBase64, setProfileImageBase64] = useState(\"\")\n    const [settingInfo, setsettingInfo] = useState(null);\n\n    useEffect(() => {\n        readProfile();\n        readSettingInfo();\n    }, []);\n\n    const readSettingInfo = async () => {\n        const response = await axios.get(\n            process.env.REACT_APP_RESTAPI_HOST + 'setting', {\n                params: {\n                    token: window.sessionStorage.getItem('token'),\n                    manageID: window.sessionStorage.getItem('id')\n                }\n            }\n        );\n        setsettingInfo(response.data)        \n    }\n\n    const readProfile = async (id) => {\n        const response = await axios.get(\n            process.env.REACT_APP_RESTAPI_HOST + 'instructor/'+window.sessionStorage.getItem('id'), {\n                params: {\n                    token: window.sessionStorage.getItem('token'),\n                    manageID: window.sessionStorage.getItem('id')\n                }\n            }\n        );\n        setprofileInfo(response.data);\n        var responseValue = response.data;\n        responseValue.intro = responseValue.intro.replaceAll(\"<br/>\",\"\\n\");\n        responseValue.memo = responseValue.memo.replaceAll(\"<br/>\",\"\\n\");\n        seteditProfileInfo(responseValue);\n    }\n\n    const clickCancelBtn = () => {\n        setisEdit(false);\n        setisAgree(false);\n        seteditProfileInfo(profileInfo);\n    }\n\n    const clickFinishBtn = async() => {\n        if(!isAgree) {\n            alert(\"개인정보 수집 및 이용 동의에 동의해주세요!\");\n        } else {\n            if(window.confirm(\"프로필 정보를 수정하시겠습니까?\")) {\n                const params = new FormData();\n                const headers = {\n                    'Content-type': 'multipart/form-data; charset=UTF-8',\n                    'Accept': '*/*'\n                }\n                if(removeProfileImage === true){\n                    params.append('image', \"\");\n                }else {\n                    params.append('image', editProfileInfo.image);\n                    params.append('file', profileImage);\n                }\n                //var params = new URLSearchParams();\n                params.append('id', editProfileInfo.id);\n                params.append('position_id', editProfileInfo.position_id);\n                params.append('name', editProfileInfo.name);\n                params.append('phone', editProfileInfo.phone);\n                params.append('intro', editProfileInfo.intro);\n                params.append('memo', editProfileInfo.memo);\n                params.append('token', window.sessionStorage.getItem('token'));\n                params.append('manageID', window.sessionStorage.getItem('id'));\n\n                await axios.post(\n                process.env.REACT_APP_RESTAPI_HOST +'instructor/update',\n                params,{headers})\n                .then(function(res) {\n                    alert(\"프로필 수정이 완료되었습니다.\");\n                    readProfile();\n                    setisEdit(false);\n                    setisAgree(false);\n                });\n            }\n        }\n\n    }\n\n    const changeAgree = () => {\n        if(isAgree)\n            setisAgree(false);\n        else\n            setisAgree(true);\n    }\n\n    const onEdit = (e) => {\n        const {value, name} = e.target;\n        seteditProfileInfo({\n            ...editProfileInfo,\n            [name]:value\n        })\n    }\n\n    const handleChangeFile = (event, setImage, setImagebase64) => {\n        var reader = new FileReader();\n        if (event.target.files[0]) {\n            reader.readAsDataURL(event.target.files[0]);\n            setImage(event.target.files[0]);\n        }\n        reader.onloadend = () => {\n          const base64 = reader.result;\n          if (base64) {\n            setImagebase64(base64.toString());\n          }\n        }\n    }\n\n    return (\n        <div className=\"container\">\n            <div className=\"mypage-image relative\">\n                <img className=\"page-background\" src={process.env.REACT_APP_DEFAULT_URL+'image/instructor_mypage.png'} alt=\"lecture page\" />\n                <div className=\"page-info\">\n                    <h2 style={{color:'white'}} className=\"page-title\">마이페이지</h2>\n                    <p className=\"page-intro\">\n                        {settingInfo !== null ?\n                        settingInfo.find(element => element.key === \"mypage_profile_phrase\").value.split(\"<br/>\").map( (item, i) => <div key={i}>{item}</div>) :\n                        \"\"\n                        }\n                    </p>\n                </div>\n            </div>\n            <div className=\"inst-title-header\">\n                <h2 style={{color:'white'}}>마이페이지</h2>\n                <p>\n                    {settingInfo !== null ?\n                    settingInfo.find(element => element.key === \"mypage_profile_phrase\").value.split(\"<br/>\").map( (item, i) => <div key={i}>{item}</div>) :\n                    \"\"\n                    }\n                </p>\n            </div>\n            {profileInfo !== null ?\n            <div className=\"content-wrapper\">\n                <div className=\"left-navbar\">\n                    <span>\n                        <Link className={props.history.location.pathname === process.env.REACT_APP_DEFAULT_URL+\"mypage/profile\"? \"left-active\":\"\"} to={process.env.REACT_APP_DEFAULT_URL+\"mypage/profile\"}>내 프로필</Link>\n                    </span>\n                    <span>\n                        <Link className={props.history.location.pathname === process.env.REACT_APP_DEFAULT_URL+\"mypage/lecture\"? \"left-active\":\"\"} to={process.env.REACT_APP_DEFAULT_URL+\"mypage/lecture\"}>내 강의함</Link>\n                    </span>\n                    <span>\n                        <Link className={props.history.location.pathname === process.env.REACT_APP_DEFAULT_URL+\"mypage/contact\"? \"left-active\":\"\"} to={process.env.REACT_APP_DEFAULT_URL+\"mypage/contact\"}>컨택 일정</Link>\n                    </span>\n                    <span>\n                    <Link className={props.history.location.pathname === process.env.REACT_APP_DEFAULT_URL+\"mypage/visitlog\"? \"left-active\":\"\"} to={process.env.REACT_APP_DEFAULT_URL+\"mypage/visitlog\"}>방문일지</Link>\n                    </span>\n                </div>\n                <div className=\"right-content\">\n                    {/* <Calendar/> */}\n                    {isEdit?\n                    <div className=\"profile-edit-wrapper\">\n                        <h2 className=\"mb20 fs20\">프로필 사진</h2>\n                        <div className=\"profile-edit\">\n                            <div className=\"profile-image\">\n                            {removeProfileImage === false && profileImage !== null?\n                                <img className=\"profile-img-content\" src={profileImageBase64} alt=\"profile_image\"\n                                onError={(e) => {\n                                    e.target.src = process.env.REACT_APP_DEFAULT_URL+'image/errorImage2.png';\n                                }}/>:\n                                removeProfileImage === false && profileInfo !== null && profileInfo.image !== \"null\" && profileInfo.image !== null && profileInfo.image !== \"\"?\n                                <img className=\"profile-img-content\" src={process.env.REACT_APP_RESTAPI_HOST+\"resources/upload/\"+profileInfo.image} alt=\"profile_image\"\n                                onError={(e) => {\n                                    e.target.src = process.env.REACT_APP_DEFAULT_URL+'image/errorImage2.png';\n                                }}/>\n                                :null\n                                }\n                                </div>\n                            <div className=\"profile-info\">\n                                <div>\n                                    <span className=\"mb30\">이름</span>\n                                    <input className=\"mr10\" style={{width:'136px'}} defaultValue={editProfileInfo.name} name=\"name\" onChange={onEdit}/>\n                                    <select className=\"p48\" defaultValue={editProfileInfo.position_id} name=\"position_id\" onChange={onEdit}>\n                                        <option value=\"3\">교수</option>\n                                        <option value=\"2\">동문</option>\n                                        <option value=\"1\">학부모</option>\n                                    </select>\n                                </div>\n                                <div>\n                                    <span className=\"mb30\">연락처</span>\n                                    <input defaultValue={editProfileInfo.phone} name=\"phone\" onChange={onEdit}/>\n                                </div>\n                                <div><span>이메일</span>{profileInfo.email}</div>\n                            </div>\n                            <div className=\"profile-file\">\n                                <label className={removeProfileImage === false? \"file-button\": \"file-button disabled\"} htmlFor='input-file'>첨부파일</label>\n                                <div className =\"checkbox-wrapper\"><span className =\"checkbox-content\">삭제</span><input className=\"checkbox-input\" type=\"checkbox\" onChange={(e) => {setRemoveProfileImage(!removeProfileImage); }}/></div>\n                            </div>\n                            {removeProfileImage === true?\n                            <input type=\"file\" id=\"input-file\" style={{display:\"none\"}} disabled/>:\n                            <input type=\"file\" id=\"input-file\" style={{display:\"none\"}} onChange={(e) => { handleChangeFile(e, setProfileImage, setProfileImageBase64)}}/>\n                            }\n                        </div>\n                        <textarea className=\"mb30 introduce-textarea\" placeholder=\"인사말 작성란\" defaultValue={editProfileInfo.intro} name=\"intro\" onChange={onEdit}/>\n                        <textarea className=\"profile-textarea mb20\" placeholder=\"약력 작성란\" name=\"memo\" defaultValue={editProfileInfo.memo} onChange={onEdit}/>\n                        <ul className=\"agree-ul mb40\">\n                            <li className=\"mb10\">이단 및 사이비 단체는 작성글을 게시할 수 없으며 적발 시 예배 및 설교 방해죄 (형법 제 158조), 퇴거불응죄(형법 제 319조 2항), 업무방해죄(형법 제314조), 개인정보보호법 위반 등으로 처벌받을 수 있습니다.</li>\n                            <li>개인 정보 수집 동의 - 이용자가 제공한 모든 정보는 다음의 목적을 위해 활용하며, 하기 목적 이외의 용도로는 사용하지 않습니다.</li>\n                        </ul>\n                        <div>\n                            <input className=\"agree-check mr10\" type=\"checkbox\" defaultValue={isAgree} onChange={changeAgree}/>\n                            <span className=\"fs14\">개인정보 수집 및 이용에 대해 동의합니다.</span>\n                        </div>\n                        <div style={{textAlign:'center', marginTop:'30px'}}>\n                            <BlueButton class=\"mr15\" name=\"수정완료\" click={() => clickFinishBtn()}/>\n                            <BlueButton name=\"수정취소\" click={() => clickCancelBtn()}/>\n                        </div>\n                    </div>\n                    :\n                    <div>\n                        <div className=\"profile-wrapper\">\n                            <h2 className=\"mb20 fs20\">프로필 사진</h2>\n                            <div className=\"profile\">\n                                <div className=\"profile-image\">\n                                {profileInfo.image !== \"null\" && profileInfo.image !== null && profileInfo.image !== \"\"?\n                                <img className=\"profile-img-content\" src={process.env.REACT_APP_RESTAPI_HOST+\"resources/upload/\"+profileInfo.image} alt=\"profile_image\"\n                                onError={(e) => {\n                                    e.target.src = process.env.REACT_APP_DEFAULT_URL+'image/errorImage2.png';\n                                }}/>\n                                :null}\n                                </div>\n                                <div className=\"profile-info\">\n                                    <h1>{profileInfo.name} <span style={{marginLeft:'15px', fontSize:'18px'}}>{profileInfo.position_name}</span></h1>\n                                    <p>{profileInfo.phone}</p>\n                                    <p>{profileInfo.email}</p>\n                                </div>\n                            </div>\n\n                            <h2 className=\"mb10 fs20\">인사말</h2>\n                            <p className=\"introduce\">{profileInfo.intro.split(\"\\n\").map( (item, i) => <div key={i}>{item}</div>)}</p>\n\n                            <h2 className=\"mb25 fs20\">약력</h2>\n                            <ul className=\"profile-ul\">\n                                {profileInfo.memo.split(\"\\n\").map( (item, i) => <div key={i}>{item}</div>)}\n                            </ul>\n                        </div>\n                        <BlueButton class=\"profile-btn\" name=\"수정하기\" click={() => setisEdit(true)}/>\n                    </div>\n                }   \n                </div>\n            </div>\n            :\n            <ReactLoading type=\"spin\" color=\"#05589c\" />\n            }\n        </div>\n    );\n}\n\nexport default MypageProfile;\n"]},"metadata":{},"sourceType":"module"}