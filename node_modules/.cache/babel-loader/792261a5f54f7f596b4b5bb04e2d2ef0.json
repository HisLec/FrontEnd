{"ast":null,"code":"var _jsxFileName = \"/Users/hyerm2/Desktop/project/vision/CourseApplicationManagement_frontend/course_application_management/src/components/modules/calendar/read_calendar.js\",\n    _s = $RefreshSig$();\n\nimport React, { useCallback, useRef, useEffect, useState } from \"react\";\nimport TUICalendar from \"@toast-ui/react-calendar\"; // import { ISchedule, ICalendarInfo } from \"tui-calendar\";\n\nimport \"tui-calendar/dist/tui-calendar.css\";\nimport \"tui-date-picker/dist/tui-date-picker.css\";\nimport '../../../assets/css/calendar.css';\nimport \"tui-time-picker/dist/tui-time-picker.css\";\nimport WhiteButton from '../../modules/button/white_button';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst allcalendarColor = [\"#ef6f87\", \"#e49d5a\", \"#e4ce5a\", \"#7ddc8b\", \"#c0afff\", \"#9fcae8\", \"#F23DA0\", \"#3C5FA6\", \"#F28705\", \"#467326\", \"#D99066\", \"#ff5722\"];\nconst calendarColor = [\"#fbbc05\", \"#cccccc\", \"#4285f4\", \"#7ddc8b\", \"#000000\", \"#9fcae8\", \"#F23DA0\", \"#3C5FA6\", \"#F28705\", \"#467326\", \"#D99066\", \"#ff5722\"]; // const calendarInstructor = [\"#ef6f87\",\"#e49d5a\", \"#2196f3\", \"#7ddc8b\" ,\"#c0afff\",\"#9fcae8\",\"#F23DA0\", \"#3C5FA6\", \"#F28705\", \"#467326\", \"#D99066\", \"#ff5722\"];\n\nfunction CommonCalendar(props) {\n  _s();\n\n  const cal = useRef(null);\n  const [schedules, setschedules] = useState([]);\n  const [calendars, setcalendars] = useState([]);\n  const [year, setyear] = useState(null);\n  const [month, setmonth] = useState(null);\n  useEffect(() => {\n    if (props.calendarData !== null) {\n      const data = props.calendarData;\n      var index = 0;\n      var tempSchedule = [];\n      var tempCalendar = [];\n\n      if (props.path !== null && (props.path === \"/\" || props.path === \"/lecture/date\")) {\n        for (var i = 0; i < data.length; i++) {\n          tempSchedule.push({\n            calendarId: data[i].id,\n            category: \"time\",\n            isAllDay: true,\n            isVisible: true,\n            title: data[i].name,\n            id: data[i].id,\n            body: \"[강사명] \" + data[i].inst_name + \"- [주제]\" + data[i].topic_list,\n            start: data[i].date,\n            end: data[i].date,\n            location: data[i].region_list\n          }); // eslint-disable-next-line no-loop-func\n\n          if (!tempCalendar.find(element => element.id === data[i].id)) {\n            tempCalendar.push({\n              id: data[i].id,\n              name: data[i].name,\n              color: allcalendarColor[index],\n              bgColor: allcalendarColor[index] + \"40\",\n              dragBgColor: allcalendarColor[index] + \"40\",\n              borderColor: allcalendarColor[index]\n            });\n            index++;\n          }\n\n          if (index === calendarColor.length) index = 0;\n        }\n      } else if (props.path === \"/mypage/contact\" || props.path === \"/lecture/subject\" || props.path === \"/lecture/instructor\" || props.path === \"/admin/lecture\" || props.path === \"/mypage/lecture\") {\n        // var tempSchedule = [];\n        // var tempCalendar = [];\n        // eslint-disable-next-line no-redeclare\n        for (var i = 0; i < data.length; i++) {\n          var status_id = 1;\n          var start_time = data[i].date;\n          var end_time = data[i].date;\n          var isAllDay = true; // 신청자가 있을 때\n\n          if (data[i].form_id) {\n            // status\n            if (data[i].status === 0) status_id = 1;else if (data[i].status === 1) status_id = 2;else if (data[i].status === 2) {\n              status_id = 3;\n              start_time = data[i].date + \" \" + data[i].contact_start_date;\n              end_time = data[i].date + \" \" + data[i].contact_end_date;\n              isAllDay = false;\n            } // 취소된 컨택내역은 안보여줌\n\n            if (data[i].status !== -1) tempSchedule.push({\n              calendarId: status_id,\n              category: \"time\",\n              isAllDay: isAllDay,\n              isVisible: true,\n              title: data[i].name,\n              id: status_id,\n              body: \"[주제]\" + data[i].topic_list,\n              start: start_time,\n              end: end_time,\n              location: data[i].region_list\n            });\n          } else {\n            tempSchedule.push({\n              calendarId: 4,\n              category: \"time\",\n              isAllDay: true,\n              isVisible: true,\n              title: data[i].name,\n              id: 3,\n              body: \"[주제]\" + data[i].topic_list,\n              start: data[i].date,\n              end: data[i].date,\n              location: data[i].region_list\n            });\n          }\n        }\n\n        if (props.path === \"/admin/lecture\" || props.path === \"/mypage/lecture\") {\n          if (props.academyDates !== null) {\n            props.academyDates.forEach((data, index) => {\n              tempSchedule.push({\n                calendarId: 6,\n                isAllDay: true,\n                isVisible: true,\n                category: \"time\",\n                isReadOnly: true,\n                title: data.name,\n                id: 0,\n                start: data.date,\n                end: data.date\n              });\n            });\n          }\n        }\n\n        if (props.path === \"/lecture/subject\" || props.path === \"/lecture/date\" || props.path === \"/lecture/instructor\") {\n          tempCalendar.push({\n            id: 1,\n            name: \"강사 확인전\",\n            color: calendarColor[0],\n            bgColor: calendarColor[0] + \"40\",\n            dragBgColor: calendarColor[0] + \"40\",\n            borderColor: calendarColor[0]\n          });\n        } else {\n          tempCalendar.push({\n            id: 1,\n            name: \"신규(미확인)\",\n            color: calendarColor[0],\n            bgColor: calendarColor[0] + \"40\",\n            dragBgColor: calendarColor[0] + \"40\",\n            borderColor: calendarColor[0]\n          });\n        }\n\n        tempCalendar.push({\n          id: 2,\n          name: \"진행중\",\n          color: calendarColor[1],\n          bgColor: calendarColor[1] + \"40\",\n          dragBgColor: calendarColor[1] + \"40\",\n          borderColor: calendarColor[1]\n        });\n        tempCalendar.push({\n          id: 3,\n          name: \"일정확정됨\",\n          color: calendarColor[2],\n          bgColor: calendarColor[2] + \"40\",\n          dragBgColor: calendarColor[2] + \"40\",\n          borderColor: calendarColor[2]\n        });\n        tempCalendar.push({\n          id: 4,\n          name: \"신청없음\",\n          color: calendarColor[3],\n          bgColor: calendarColor[3] + \"40\",\n          dragBgColor: calendarColor[3] + \"40\",\n          borderColor: calendarColor[3]\n        });\n        tempCalendar.push({\n          id: 5,\n          name: \"컨택취소\",\n          color: calendarColor[4],\n          bgColor: calendarColor[4] + \"40\",\n          dragBgColor: calendarColor[4] + \"40\",\n          borderColor: calendarColor[4]\n        });\n        tempCalendar.push({\n          id: 6,\n          name: \"학사일정\",\n          color: calendarColor[4],\n          bgColor: calendarColor[4] + \"40\",\n          dragBgColor: calendarColor[4] + \"40\",\n          borderColor: calendarColor[4]\n        });\n      }\n\n      setschedules(tempSchedule);\n      setcalendars(tempCalendar);\n    } // eslint-disable-next-line react-hooks/exhaustive-deps\n\n  }, [props.calendarData]);\n  useEffect(() => {\n    if (cal !== null) {\n      const calendarInstance = cal.current.getInstance();\n      calendarInstance.today();\n      var m = calendarInstance.getDate().getMonth() + 1;\n      var y = calendarInstance.getDate().getFullYear();\n      if (m < 10) m = \"0\" + m;\n      var date = y + \"-\" + m;\n      setmonth(m);\n      setyear(y);\n      if (props.clickedLecture !== null && (props.path === \"/lecture/subject\" || props.path === \"/lecture/instructor\" || props.path === \"/admin/lecture\" || props.path === \"/mypage/lecture\")) props.readMainCalendar(date, props.clickedLecture.id);else props.readMainCalendar(date);\n    } // eslint-disable-next-line react-hooks/exhaustive-deps\n\n  }, []);\n  useEffect(() => {\n    const calendarInstance = cal.current.getInstance();\n    calendarInstance.today();\n    var m = calendarInstance.getDate().getMonth() + 1;\n    var y = calendarInstance.getDate().getFullYear();\n    if (m < 10) m = \"0\" + m; // var date = y+\"-\"+m;\n\n    setmonth(m);\n    setyear(y);\n  }, [props.clickedLecture]);\n  const onClickSchedule = useCallback(e => {\n    const {\n      calendarId,\n      id\n    } = e.schedule;\n    cal.current.calendarInst.getElement(id, calendarId);\n  }, []);\n  const onBeforeCreateSchedule = useCallback(scheduleData => {\n    const schedule = {\n      id: String(Math.random()),\n      title: scheduleData.title,\n      isAllDay: scheduleData.isAllDay,\n      start: scheduleData.start,\n      end: scheduleData.end,\n      category: scheduleData.isAllDay ? \"allday\" : \"time\",\n      dueDateClass: \"\",\n      location: scheduleData.location,\n      raw: {\n        class: scheduleData.raw[\"class\"]\n      },\n      state: scheduleData.state\n    };\n    cal.current.calendarInst.createSchedules([schedule]);\n  }, []);\n  const onBeforeDeleteSchedule = useCallback(res => {\n    const {\n      id,\n      calendarId\n    } = res.schedule;\n    cal.current.calendarInst.deleteSchedule(id, calendarId);\n  }, []);\n  const onBeforeUpdateSchedule = useCallback(e => {\n    const {\n      schedule,\n      changes\n    } = e;\n    cal.current.calendarInst.updateSchedule(schedule.id, schedule.calendarId, changes);\n  }, []);\n\n  function _getFormattedTime(time) {\n    const date = new Date(time);\n    const h = date.getHours();\n    const m = date.getMinutes();\n    return `${h}:${m}`;\n  }\n\n  function _getTimeTemplate(schedule, isAllDay) {\n    var html = [];\n\n    if (!isAllDay) {\n      html.push(\"<strong>\" + _getFormattedTime(schedule.start) + \"</strong> \");\n    }\n\n    if (schedule.isPrivate) {\n      html.push('<span class=\"calendar-font-icon ic-lock-b\"></span>');\n      html.push(\" Private\");\n    } else {\n      if (schedule.isReadOnly) {\n        html.push('<span class=\"calendar-font-icon ic-readonly-b\"></span>');\n      } else if (schedule.recurrenceRule) {\n        html.push('<span class=\"calendar-font-icon ic-repeat-b\"></span>');\n      } else if (schedule.attendees.length) {\n        html.push('<span class=\"calendar-font-icon ic-user-b\"></span>');\n      } else if (schedule.location) {\n        html.push('<span class=\"calendar-font-icon ic-location-b\"></span>');\n      }\n\n      html.push(\" \" + schedule.title);\n    }\n\n    return html.join(\"\");\n  }\n\n  const templates = {\n    time: function (schedule) {\n      return _getTimeTemplate(schedule, false);\n    }\n  };\n  const NextButton = useCallback(e => {\n    if (cal !== null) {\n      const calendarInstance = cal.current.getInstance();\n      calendarInstance.next();\n      var m = calendarInstance.getDate().getMonth() + 1;\n      var y = calendarInstance.getDate().getFullYear();\n      if (m < 10) m = \"0\" + m;\n      var date = y + \"-\" + m;\n      setmonth(m);\n      setyear(y);\n      if ((props.path === \"/lecture/subject\" || props.path === \"/lecture/instructor\" || props.path === \"/admin/lecture\" || props.path === \"/mypage/lecture\") && props.clickedLecture !== null) props.readMainCalendar(date, props.clickedLecture.id);else props.readMainCalendar(date);\n    } // eslint-disable-next-line react-hooks/exhaustive-deps\n\n  }, [props.clickedLecture]);\n  const PrevButton = useCallback(e => {\n    if (cal !== null) {\n      const calendarInstance = cal.current.getInstance();\n      calendarInstance.prev();\n      var m = calendarInstance.getDate().getMonth() + 1;\n      var y = calendarInstance.getDate().getFullYear();\n      if (m < 10) m = \"0\" + m;\n      var date = y + \"-\" + m;\n      setmonth(m);\n      setyear(y);\n\n      if ((props.path === \"/lecture/subject\" || props.path === \"/lecture/instructor\" || props.path === \"/admin/lecture\" || props.path === \"/mypage/lecture\") && props.clickedLecture !== null) {\n        props.readMainCalendar(date, props.clickedLecture.id);\n      } else props.readMainCalendar(date);\n    } // eslint-disable-next-line react-hooks/exhaustive-deps\n\n  }, [props.clickedLecture]);\n  const TodayButton = useCallback(e => {\n    if (cal !== null) {\n      const calendarInstance = cal.current.getInstance();\n      calendarInstance.today();\n      var m = calendarInstance.getDate().getMonth() + 1;\n      var y = calendarInstance.getDate().getFullYear();\n      if (m < 10) m = \"0\" + m;\n      var date = y + \"-\" + m;\n      setmonth(m);\n      setyear(y);\n      if ((props.path === \"/lecture/subject\" || props.path === \"/lecture/instructor\" || props.path === \"/admin/lecture\" || props.path === \"/mypage/lecture\") && props.clickedLecture !== null) props.readMainCalendar(date, props.clickedLecture.id);else props.readMainCalendar(date);\n    } // eslint-disable-next-line react-hooks/exhaustive-deps\n\n  }, [props.clickedLecture]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"calendar-title\",\n      children: [year, \"\\uB144 \", month, \"\\uC6D4\\uC758 \\uAC15\\uC758\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 397,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb15\",\n      children: [/*#__PURE__*/_jsxDEV(WhiteButton, {\n        class: \"mr15\",\n        name: \"\\uC624\\uB298\\uB0A0\\uC9DC\",\n        click: TodayButton\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 400,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(WhiteButton, {\n        class: \"mr15\",\n        name: \"<\",\n        click: PrevButton\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 401,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(WhiteButton, {\n        name: \">\",\n        click: NextButton\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 402,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 399,\n      columnNumber: 13\n    }, this), props.path !== null && (props.path === \"/mypage/contact\" || props.path === \"/lecture/subject\" || props.path === \"/lecture/instructor\" || props.path === \"/admin/lecture\" || props.path === \"/mypage/lecture\") ? /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        textAlign: \"right\",\n        marginBottom: \"15px\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"mr15\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"color-circle\",\n          style: {\n            background: calendarColor[0]\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 407,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: props.path === \"/lecture/subject\" || props.path === \"/lecture/date\" || props.path === \"/lecture/instructor\" ? \"강사 확인전\" : \"신규(미확인)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 408,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 406,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"mr15\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"color-circle\",\n          style: {\n            background: calendarColor[1]\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 411,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"\\uC9C4\\uD589\\uC911\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 412,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 410,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"mr15\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"color-circle\",\n          style: {\n            background: calendarColor[2]\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 415,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"\\uC77C\\uC815\\uD655\\uC815\\uB428\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 416,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 414,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"mr15\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"color-circle\",\n          style: {\n            background: calendarColor[3]\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 419,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"\\uC2E0\\uCCAD\\uC5C6\\uC74C\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 420,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 418,\n        columnNumber: 17\n      }, this), props.path === \"/mypage/lecture\" || props.path === \"/admin/lecture\" ? /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"mr15\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"color-circle\",\n          style: {\n            background: calendarColor[4]\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 424,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"\\uD559\\uC0AC\\uC77C\\uC815\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 425,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 423,\n        columnNumber: 17\n      }, this) : null]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 405,\n      columnNumber: 13\n    }, this) : null, /*#__PURE__*/_jsxDEV(TUICalendar, {\n      ref: cal,\n      height: \"100%\",\n      view: \"month\",\n      useCreationPopup: true,\n      useDetailPopup: true,\n      template: templates,\n      calendars: calendars,\n      schedules: schedules,\n      isReadOnly: true,\n      onClickSchedule: onClickSchedule,\n      onBeforeCreateSchedule: onBeforeCreateSchedule,\n      onBeforeDeleteSchedule: onBeforeDeleteSchedule,\n      onBeforeUpdateSchedule: onBeforeUpdateSchedule\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 433,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 395,\n    columnNumber: 9\n  }, this);\n}\n\n_s(CommonCalendar, \"fZSvgwIzADKaQ93vL4VbHxK/DNg=\");\n\n_c = CommonCalendar;\nexport default CommonCalendar;\n\nvar _c;\n\n$RefreshReg$(_c, \"CommonCalendar\");","map":{"version":3,"sources":["/Users/hyerm2/Desktop/project/vision/CourseApplicationManagement_frontend/course_application_management/src/components/modules/calendar/read_calendar.js"],"names":["React","useCallback","useRef","useEffect","useState","TUICalendar","WhiteButton","allcalendarColor","calendarColor","CommonCalendar","props","cal","schedules","setschedules","calendars","setcalendars","year","setyear","month","setmonth","calendarData","data","index","tempSchedule","tempCalendar","path","i","length","push","calendarId","id","category","isAllDay","isVisible","title","name","body","inst_name","topic_list","start","date","end","location","region_list","find","element","color","bgColor","dragBgColor","borderColor","status_id","start_time","end_time","form_id","status","contact_start_date","contact_end_date","academyDates","forEach","isReadOnly","calendarInstance","current","getInstance","today","m","getDate","getMonth","y","getFullYear","clickedLecture","readMainCalendar","onClickSchedule","e","schedule","calendarInst","getElement","onBeforeCreateSchedule","scheduleData","String","Math","random","dueDateClass","raw","class","state","createSchedules","onBeforeDeleteSchedule","res","deleteSchedule","onBeforeUpdateSchedule","changes","updateSchedule","_getFormattedTime","time","Date","h","getHours","getMinutes","_getTimeTemplate","html","isPrivate","recurrenceRule","attendees","join","templates","NextButton","next","PrevButton","prev","TodayButton","textAlign","marginBottom","background"],"mappings":"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","sourcesContent":["import React, { useCallback, useRef, useEffect, useState } from \"react\";\n\nimport TUICalendar from \"@toast-ui/react-calendar\";\n// import { ISchedule, ICalendarInfo } from \"tui-calendar\";\n\nimport \"tui-calendar/dist/tui-calendar.css\";\nimport \"tui-date-picker/dist/tui-date-picker.css\";\nimport '../../../assets/css/calendar.css';\nimport \"tui-time-picker/dist/tui-time-picker.css\";\nimport WhiteButton from '../../modules/button/white_button';\n\nconst allcalendarColor = [\"#ef6f87\",\"#e49d5a\", \"#e4ce5a\", \"#7ddc8b\" ,\"#c0afff\",\"#9fcae8\",\"#F23DA0\", \"#3C5FA6\", \"#F28705\", \"#467326\", \"#D99066\", \"#ff5722\"];\nconst calendarColor = [\"#fbbc05\", \"#cccccc\", \"#4285f4\", \"#7ddc8b\" ,\"#000000\",\"#9fcae8\",\"#F23DA0\", \"#3C5FA6\", \"#F28705\", \"#467326\", \"#D99066\", \"#ff5722\"];\n// const calendarInstructor = [\"#ef6f87\",\"#e49d5a\", \"#2196f3\", \"#7ddc8b\" ,\"#c0afff\",\"#9fcae8\",\"#F23DA0\", \"#3C5FA6\", \"#F28705\", \"#467326\", \"#D99066\", \"#ff5722\"];\n\n\nfunction CommonCalendar(props) {\n    const cal = useRef(null);\n    const [schedules, setschedules] = useState([])\n    const [calendars, setcalendars] = useState([])\n    const [year, setyear] = useState(null)\n    const [month, setmonth] = useState(null)\n\n    useEffect(() => {\n        if(props.calendarData !== null) {\n            const data = props.calendarData;\n            \n            var index = 0;\n            var tempSchedule = [];\n            var tempCalendar = [];\n            \n            if(props.path !== null && (props.path ===\"/\" || props.path ===\"/lecture/date\")) {\n\n                for(var i=0 ; i<data.length ; i++) {\n                    tempSchedule.push({\n                        calendarId: data[i].id,\n                        category: \"time\",\n                        isAllDay: true,\n                        isVisible: true,\n                        title: data[i].name,\n                        id: data[i].id,\n                        body: \"[강사명] \"+data[i].inst_name+\"- [주제]\" +data[i].topic_list,\n                        start: data[i].date,\n                        end: data[i].date,\n                        location: data[i].region_list\n                    })\n\n                    // eslint-disable-next-line no-loop-func\n                    if(!tempCalendar.find(element => element.id === data[i].id)) {\n                        tempCalendar.push({\n                            id: data[i].id,\n                            name: data[i].name,\n                            color: allcalendarColor[index],\n                            bgColor: allcalendarColor[index]+\"40\",\n                            dragBgColor: allcalendarColor[index]+\"40\",\n                            borderColor: allcalendarColor[index]\n                        })\n                        index++;\n                    }\n                    \n                    if(index === calendarColor.length)\n                        index=0;\n                }\n            }\n            else if(props.path === \"/mypage/contact\" || props.path === \"/lecture/subject\" || props.path === \"/lecture/instructor\" || props.path === \"/admin/lecture\" || props.path === \"/mypage/lecture\") {\n                // var tempSchedule = [];\n                // var tempCalendar = [];\n                // eslint-disable-next-line no-redeclare\n                for(var i=0 ; i<data.length ; i++) {\n                    var status_id = 1;\n                    var start_time = data[i].date;\n                    var end_time = data[i].date;\n                    var isAllDay = true;\n                    \n                    // 신청자가 있을 때\n                    if(data[i].form_id) {\n                        // status\n                        if(data[i].status === 0)\n                            status_id = 1\n                        else if(data[i].status === 1)\n                            status_id = 2\n                        else if(data[i].status === 2) {\n                            status_id = 3\n                            start_time = data[i].date+\" \"+data[i].contact_start_date\n                            end_time = data[i].date+\" \"+data[i].contact_end_date\n                            isAllDay = false\n                        }\n                        \n                        // 취소된 컨택내역은 안보여줌\n                        if(data[i].status !== -1)\n                            tempSchedule.push({\n                                calendarId: status_id,\n                                category: \"time\",\n                                isAllDay: isAllDay,\n                                isVisible: true,\n                                title: data[i].name,\n                                id: status_id,\n                                body: \"[주제]\" +data[i].topic_list,\n                                start: start_time,\n                                end: end_time,\n                                location: data[i].region_list\n                            })\n                    } else {\n                        tempSchedule.push({\n                            calendarId: 4,\n                            category: \"time\",\n                            isAllDay: true,\n                            isVisible: true,\n                            title: data[i].name,\n                            id: 3,\n                            body: \"[주제]\" +data[i].topic_list,\n                            start: data[i].date,\n                            end: data[i].date,\n                            location: data[i].region_list\n                        })\n                    }\n                }\n\n                if(props.path === \"/admin/lecture\" || props.path === \"/mypage/lecture\") {\n                    if(props.academyDates !== null) {\n                        props.academyDates.forEach((data, index) => {\n                            tempSchedule.push({\n                                calendarId: 6,\n                                isAllDay: true,\n                                isVisible: true,\n                                category: \"time\",\n                                isReadOnly: true,\n                                title: data.name,\n                                id: 0,\n                                start: data.date,\n                                end: data.date\n                            })\n                        });\n                    }        \n                }\n                \n                if(props.path === \"/lecture/subject\" || props.path === \"/lecture/date\" || props.path === \"/lecture/instructor\") {\n                    tempCalendar.push({\n                        id: 1,\n                        name: \"강사 확인전\",\n                        color: calendarColor[0],\n                        bgColor: calendarColor[0]+\"40\",\n                        dragBgColor: calendarColor[0]+\"40\",\n                        borderColor: calendarColor[0]\n                    })\n                } else {\n                    tempCalendar.push({\n                        id: 1,\n                        name: \"신규(미확인)\",\n                        color: calendarColor[0],\n                        bgColor: calendarColor[0]+\"40\",\n                        dragBgColor: calendarColor[0]+\"40\",\n                        borderColor: calendarColor[0]\n                    })\n                }\n                tempCalendar.push({\n                    id: 2,\n                    name: \"진행중\",\n                    color: calendarColor[1],\n                    bgColor: calendarColor[1]+\"40\",\n                    dragBgColor: calendarColor[1]+\"40\",\n                    borderColor: calendarColor[1]\n                })\n                tempCalendar.push({\n                    id: 3,\n                    name: \"일정확정됨\",\n                    color: calendarColor[2],\n                    bgColor: calendarColor[2]+\"40\",\n                    dragBgColor: calendarColor[2]+\"40\",\n                    borderColor: calendarColor[2]\n                })\n                tempCalendar.push({\n                    id: 4,\n                    name: \"신청없음\",\n                    color: calendarColor[3],\n                    bgColor: calendarColor[3]+\"40\",\n                    dragBgColor: calendarColor[3]+\"40\",\n                    borderColor: calendarColor[3]\n                })\n                tempCalendar.push({\n                    id: 5,\n                    name: \"컨택취소\",\n                    color: calendarColor[4],\n                    bgColor: calendarColor[4]+\"40\",\n                    dragBgColor: calendarColor[4]+\"40\",\n                    borderColor: calendarColor[4]\n                })\n                tempCalendar.push({\n                    id: 6,\n                    name: \"학사일정\",\n                    color: calendarColor[4],\n                    bgColor: calendarColor[4]+\"40\",\n                    dragBgColor: calendarColor[4]+\"40\",\n                    borderColor: calendarColor[4]\n                })\n            }\n\n            setschedules(tempSchedule)\n            setcalendars(tempCalendar)\n\n        }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [props.calendarData])\n\n\n    useEffect(() => {\n        if (cal !== null) {\n            const calendarInstance = cal.current.getInstance();\n            calendarInstance.today();\n            var m = calendarInstance.getDate().getMonth() + 1;\n            var y = calendarInstance.getDate().getFullYear();\n            if(m < 10)\n                m = \"0\"+m;\n            var date = y+\"-\"+m;\n\n            setmonth(m);\n            setyear(y);\n\n            if(props.clickedLecture !== null && (props.path === \"/lecture/subject\" || props.path === \"/lecture/instructor\" || props.path === \"/admin/lecture\" || props.path === \"/mypage/lecture\"))\n                props.readMainCalendar(date, props.clickedLecture.id);\n            else\n                props.readMainCalendar(date)\n        }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [])\n\n    useEffect(() => {\n        const calendarInstance = cal.current.getInstance();\n        calendarInstance.today();\n        var m = calendarInstance.getDate().getMonth() + 1;\n        var y = calendarInstance.getDate().getFullYear();\n        if(m < 10)\n            m = \"0\"+m;\n        // var date = y+\"-\"+m;\n\n        setmonth(m);\n        setyear(y);\n    }, [props.clickedLecture])\n\n\n    const onClickSchedule = useCallback((e) => {\n        const { calendarId, id } = e.schedule;\n        cal.current.calendarInst.getElement(id, calendarId);\n\n    }, []);\n\n    const onBeforeCreateSchedule = useCallback((scheduleData) => {\n        \n        const schedule = {\n            id: String(Math.random()),\n            title: scheduleData.title,\n            isAllDay: scheduleData.isAllDay,\n            start: scheduleData.start,\n            end: scheduleData.end,\n            category: scheduleData.isAllDay ? \"allday\" : \"time\",\n            dueDateClass: \"\",\n            location: scheduleData.location,\n            raw: {\n                class: scheduleData.raw[\"class\"]\n            },\n            state: scheduleData.state\n        };\n        cal.current.calendarInst.createSchedules([schedule]);\n    }, []);\n\n    const onBeforeDeleteSchedule = useCallback((res) => {\n\n        const { id, calendarId } = res.schedule;\n\n        cal.current.calendarInst.deleteSchedule(id, calendarId);\n    }, []);\n\n    const onBeforeUpdateSchedule = useCallback((e) => {\n        \n        const { schedule, changes } = e;\n\n        cal.current.calendarInst.updateSchedule(\n            schedule.id,\n            schedule.calendarId,\n            changes\n        );\n    }, []);\n\n    function _getFormattedTime(time) {\n        const date = new Date(time);\n        const h = date.getHours();\n        const m = date.getMinutes();\n\n        return `${h}:${m}`;\n    }\n\n    function _getTimeTemplate(schedule, isAllDay) {\n        var html = [];\n\n        if (!isAllDay) {\n            html.push(\"<strong>\" + _getFormattedTime(schedule.start) + \"</strong> \");\n        }\n        if (schedule.isPrivate) {\n            html.push('<span class=\"calendar-font-icon ic-lock-b\"></span>');\n            html.push(\" Private\");\n        } else {\n            if (schedule.isReadOnly) {\n                html.push('<span class=\"calendar-font-icon ic-readonly-b\"></span>');\n            } else if (schedule.recurrenceRule) {\n                html.push('<span class=\"calendar-font-icon ic-repeat-b\"></span>');\n            } else if (schedule.attendees.length) {\n                html.push('<span class=\"calendar-font-icon ic-user-b\"></span>');\n            } else if (schedule.location) {\n                html.push('<span class=\"calendar-font-icon ic-location-b\"></span>');\n            }\n            html.push(\" \" + schedule.title);\n        }\n\n        return html.join(\"\");\n    }\n\n    const templates = {\n        time: function (schedule) {\n            return _getTimeTemplate(schedule, false);\n        }\n    };\n\n\n    const NextButton = useCallback((e) => {\n        if (cal !== null) {\n            const calendarInstance = cal.current.getInstance();\n            calendarInstance.next();\n\n            var m = calendarInstance.getDate().getMonth() + 1;\n            var y = calendarInstance.getDate().getFullYear();\n            if(m < 10)\n                m = \"0\"+m;\n            var date = y+\"-\"+m;\n\n            setmonth(m);\n            setyear(y);\n\n            if((props.path === \"/lecture/subject\" || props.path === \"/lecture/instructor\" || props.path === \"/admin/lecture\" || props.path === \"/mypage/lecture\") && props.clickedLecture !== null)\n                props.readMainCalendar(date, props.clickedLecture.id);\n            else\n                props.readMainCalendar(date)\n        }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [props.clickedLecture]);\n\n    const PrevButton = useCallback((e) => {\n        \n        if (cal !== null) {\n            const calendarInstance = cal.current.getInstance();\n            calendarInstance.prev();\n\n            var m = calendarInstance.getDate().getMonth() + 1;\n            var y = calendarInstance.getDate().getFullYear();\n            if(m < 10)\n                m = \"0\"+m;\n            var date = y+\"-\"+m;\n\n            setmonth(m);\n            setyear(y)\n\n            if((props.path === \"/lecture/subject\" || props.path === \"/lecture/instructor\" || props.path === \"/admin/lecture\" || props.path === \"/mypage/lecture\") && props.clickedLecture !== null) {\n                props.readMainCalendar(date, props.clickedLecture.id);\n            }\n            else\n                props.readMainCalendar(date)\n        }\n\n        \n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [props.clickedLecture]);\n\n    const TodayButton = useCallback((e) => {\n        if (cal !== null) {\n            const calendarInstance = cal.current.getInstance();\n            calendarInstance.today();\n\n            var m = calendarInstance.getDate().getMonth() + 1;\n            var y = calendarInstance.getDate().getFullYear();\n            if(m < 10)\n                m = \"0\"+m;\n            var date = y+\"-\"+m;\n\n            setmonth(m);\n            setyear(y)\n\n            if((props.path === \"/lecture/subject\" || props.path === \"/lecture/instructor\" || props.path === \"/admin/lecture\" || props.path === \"/mypage/lecture\") && props.clickedLecture !== null)\n                props.readMainCalendar(date, props.clickedLecture.id);\n            else\n                props.readMainCalendar(date)\n        }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [props.clickedLecture]);\n\n    return (\n        <div>\n        \n        <h2 className=\"calendar-title\">{year}년 {month}월의 강의</h2>\n       \n            <div className=\"mb15\">\n                <WhiteButton class=\"mr15\" name=\"오늘날짜\" click={TodayButton}/>\n                <WhiteButton class=\"mr15\" name=\"<\" click={PrevButton}/>\n                <WhiteButton name=\">\" click={NextButton}/>\n            </div>\n            {props.path !== null && (props.path === \"/mypage/contact\" || props.path === \"/lecture/subject\" || props.path === \"/lecture/instructor\" || props.path === \"/admin/lecture\" || props.path === \"/mypage/lecture\") ?\n            <div style={{textAlign:\"right\", marginBottom:\"15px\"}}>\n                <span className=\"mr15\">\n                    <span className=\"color-circle\" style={{background:calendarColor[0]}}></span>\n                    <span>{props.path === \"/lecture/subject\" || props.path === \"/lecture/date\" || props.path === \"/lecture/instructor\" ? \"강사 확인전\" : \"신규(미확인)\"}</span>\n                </span>\n                <span className=\"mr15\">\n                    <span className=\"color-circle\" style={{background:calendarColor[1]}}></span>\n                    <span>진행중</span>\n                </span>\n                <span className=\"mr15\">\n                    <span className=\"color-circle\" style={{background:calendarColor[2]}}></span>\n                    <span>일정확정됨</span>\n                </span>\n                <span className=\"mr15\">\n                    <span className=\"color-circle\" style={{background:calendarColor[3]}}></span>\n                    <span>신청없음</span>\n                </span>\n                {props.path === \"/mypage/lecture\" || props.path === \"/admin/lecture\" ?\n                <span className=\"mr15\">\n                    <span className=\"color-circle\" style={{background:calendarColor[4]}}></span>\n                    <span>학사일정</span>\n                </span>:\n                null\n                }\n            </div> :\n            null\n            }\n            \n            <TUICalendar\n                ref={cal}\n                height=\"100%\"\n                view=\"month\"\n                useCreationPopup={true}\n                useDetailPopup={true}\n                template={templates}\n                calendars={calendars}\n                schedules={schedules}\n                isReadOnly={true}\n                onClickSchedule={onClickSchedule}\n                onBeforeCreateSchedule={onBeforeCreateSchedule}\n                onBeforeDeleteSchedule={onBeforeDeleteSchedule}\n                onBeforeUpdateSchedule={onBeforeUpdateSchedule}\n            />\n        </div>\n    );\n}\n\nexport default CommonCalendar;"]},"metadata":{},"sourceType":"module"}