{"ast":null,"code":"import _defineProperty from\"/Users/jeong-yeeun/git/CourseApplicationManagement_frontend/course_application_management/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/Users/jeong-yeeun/git/CourseApplicationManagement_frontend/course_application_management/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _regeneratorRuntime from\"/Users/jeong-yeeun/git/CourseApplicationManagement_frontend/course_application_management/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/jeong-yeeun/git/CourseApplicationManagement_frontend/course_application_management/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/jeong-yeeun/git/CourseApplicationManagement_frontend/course_application_management/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import axios from'axios';import Pagination from\"react-js-pagination\";import XLSX from\"xlsx\";import FileSaver from\"file-saver\";import'../../../assets/css/table.css';import'../../../assets/css/default.css';import'../../../assets/css/admin_category.css';import WhiteButton from'../../modules/button/white_button';import GreyButton from'../../modules/button/admin_grey_btn';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function AdminCategory(){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),keyword=_useState2[0],setKeyword=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),categoryInfo=_useState4[0],setcategoryInfo=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),editCategory=_useState6[0],seteditCategory=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),isDisable=_useState8[0],setisDisable=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),addDisable=_useState10[0],setaddDisable=_useState10[1];var _useState11=useState({name:\"\",status:\"\",disable:\"0\",priority:\"0\"}),_useState12=_slicedToArray(_useState11,2),addCategory=_useState12[0],setaddCategory=_useState12[1];var _useState13=useState(false),_useState14=_slicedToArray(_useState13,2),isAdd=_useState14[0],setisAdd=_useState14[1];var _useState15=useState(1),_useState16=_slicedToArray(_useState15,2),page=_useState16[0],setPage=_useState16[1];var postsPerPage=10;var _useState17=useState(-2),_useState18=_slicedToArray(_useState17,2),statusSelect=_useState18[0],setStatusSelect=_useState18[1];useEffect(function(){readCategory();// eslint-disable-next-line react-hooks/exhaustive-deps\n},[]);useEffect(function(){readCategory();// eslint-disable-next-line react-hooks/exhaustive-deps\n},[statusSelect]);var searchKeywordChanged=function searchKeywordChanged(e){setKeyword(e.target.value);};var readCategory=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response,_response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!(keyword!==null&&keyword!=='')){_context.next=7;break;}_context.next=3;return axios.get(process.env.REACT_APP_RESTAPI_HOST+'topic',{params:{keyword:encodeURI(keyword),statusSelect:statusSelect,token:window.sessionStorage.getItem('token'),manageID:window.sessionStorage.getItem('id')}});case 3:response=_context.sent;setcategoryInfo(response.data);_context.next=11;break;case 7:_context.next=9;return axios.get(process.env.REACT_APP_RESTAPI_HOST+'topic',{params:{statusSelect:statusSelect,token:window.sessionStorage.getItem('token'),manageID:window.sessionStorage.getItem('id')}});case 9:_response=_context.sent;setcategoryInfo(_response.data);case 11:setKeyword('');case 12:case\"end\":return _context.stop();}}},_callee);}));return function readCategory(){return _ref.apply(this,arguments);};}();var handlePageChange=function handlePageChange(page){setPage(page);};var clickEditFinish=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:editCategory.token=window.sessionStorage.getItem('token');editCategory.manageID=window.sessionStorage.getItem('id');if(window.confirm(\"카테고리를 수정하시겠습니까?\")){axios({url:process.env.REACT_APP_RESTAPI_HOST+'topic',method:'put',data:editCategory}).then(function(res){alert(\"수정이 완료되었습니다.\");readCategory();seteditCategory(null);});}case 3:case\"end\":return _context2.stop();}}},_callee2);}));return function clickEditFinish(){return _ref2.apply(this,arguments);};}();var createCategory=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){var params,response;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:params=new URLSearchParams();params.append('name',addCategory.name);params.append('disable',addCategory.disable);params.append('priority',addCategory.priority);params.append('token',window.sessionStorage.getItem('token'));params.append('manageID',window.sessionStorage.getItem('id'));if(!window.confirm(\"카테고리를 추가하시겠습니까?\")){_context3.next=10;break;}_context3.next=9;return axios.post(process.env.REACT_APP_RESTAPI_HOST+'topic',params).then(function(res){alert(res.data);readCategory();setisAdd(false);setaddDisable(false);setaddCategory({name:\"\",status:\"\",disable:\"0\",priority:\"0\"});});case 9:response=_context3.sent;case 10:case\"end\":return _context3.stop();}}},_callee3);}));return function createCategory(){return _ref3.apply(this,arguments);};}();var confirmCategory=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(category){return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:if(window.confirm(\"카테고리를 수락하시겠습니까?\")){axios({url:process.env.REACT_APP_RESTAPI_HOST+'topic/status',method:'put',data:{status:1,id:category.id,token:window.sessionStorage.getItem('token'),manageID:window.sessionStorage.getItem('id')}}).then(function(res){alert(\"수락되었습니다.\");readCategory();});}case 1:case\"end\":return _context4.stop();}}},_callee4);}));return function confirmCategory(_x){return _ref4.apply(this,arguments);};}();var rejectCategory=/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(category){return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:if(window.confirm(\"카테고리를 거절하시겠습니까?\")){axios({url:process.env.REACT_APP_RESTAPI_HOST+'topic/status',method:'put',data:{status:-1,id:category.id,token:window.sessionStorage.getItem('token'),manageID:window.sessionStorage.getItem('id')}}).then(function(res){alert(\"거절되었습니다.\");readCategory();});}case 1:case\"end\":return _context5.stop();}}},_callee5);}));return function rejectCategory(_x2){return _ref5.apply(this,arguments);};}();var clickEditBtn=function clickEditBtn(category){seteditCategory(category);if(category.disable===1)setisDisable(true);else setisDisable(false);};var onEdit=function onEdit(e){var _e$target=e.target,value=_e$target.value,name=_e$target.name;seteditCategory(_objectSpread(_objectSpread({},editCategory),{},_defineProperty({},name,value)));};var onAdd=function onAdd(e){var _e$target2=e.target,value=_e$target2.value,name=_e$target2.name;setaddCategory(_objectSpread(_objectSpread({},addCategory),{},_defineProperty({},name,value)));};var clickCancelBtn=function clickCancelBtn(){seteditCategory(null);};var addCancelBtn=function addCancelBtn(){setisAdd(false);setaddDisable(false);setaddCategory({name:\"\",status:\"\",disable:\"0\",priority:\"0\"});};var clickAddDisableBtn=function clickAddDisableBtn(){if(addDisable){setaddDisable(false);setaddCategory(_objectSpread(_objectSpread({},addCategory),{},{disable:0}));}else{setaddDisable(true);setaddCategory(_objectSpread(_objectSpread({},addCategory),{},{disable:1}));}};var clickDisableBtn=function clickDisableBtn(){if(isDisable){setisDisable(false);seteditCategory(_objectSpread(_objectSpread({},editCategory),{},{disable:0}));}else{setisDisable(true);seteditCategory(_objectSpread(_objectSpread({},editCategory),{},{disable:1}));}};function currentPosts(tmp){var indexOfLast=page*postsPerPage;var indexOfFirst=indexOfLast-postsPerPage;var currentPosts=0;currentPosts=categoryInfo.slice(indexOfFirst,indexOfLast);return currentPosts;}var exportToCSV=function exportToCSV(){var fileType=\"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8\";var fileExtension=\".xlsx\";var fileName=\"category\";var ws=XLSX.utils.json_to_sheet(categoryInfo);var wb={Sheets:{data:ws},SheetNames:[\"data\"]};var excelBuffer=XLSX.write(wb,{bookType:\"xlsx\",type:\"array\"});var data=new Blob([excelBuffer],{type:fileType});FileSaver.saveAs(data,fileName+fileExtension);};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"admin-title-header\",children:\"\\uC8FC\\uC81C \\uCE74\\uD14C\\uACE0\\uB9AC \\uAD00\\uB9AC\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"admin-content-wrapper\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"table-wrapper mt0 relative\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"table-name mb40\",children:[\"\\uC8FC\\uC81C \\uCE74\\uD14C\\uACE0\\uB9AC \\uAD00\\uB9AC\",/*#__PURE__*/_jsx(GreyButton,{class:\"right\",name:\"\\uC5D1\\uC140 \\uD30C\\uC77C \\uB2E4\\uC6B4\\uB85C\\uB4DC\",click:exportToCSV})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb35\",children:[/*#__PURE__*/_jsxs(\"select\",{defaultValue:statusSelect,className:\"mr15 p48 user-search\",onChange:function onChange(e){setStatusSelect(e.target.value);},children:[/*#__PURE__*/_jsx(\"option\",{value:\"-2\",children:\"\\uC804\\uCCB4\"}),/*#__PURE__*/_jsx(\"option\",{value:\"0\",children:\"\\uC77C\\uBC18\"}),/*#__PURE__*/_jsx(\"option\",{value:\"1\",children:\"\\uC228\\uACA8\\uC9C4 \\uCE74\\uD14C\\uACE0\\uB9AC\"})]}),/*#__PURE__*/_jsx(\"input\",{className:\"p48 search-lecture-input\",type:\"text\",placeholder:\"\\uCE74\\uD14C\\uACE0\\uB9AC\\uBA85\\uC73C\\uB85C \\uD0A4\\uC6CC\\uB4DC \\uAC80\\uC0C9\",value:keyword||\"\",onChange:searchKeywordChanged}),/*#__PURE__*/_jsx(GreyButton,{name:\"\\uAC80\\uC0C9\",click:readCategory})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt50 table-row-category\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"th category-index\"}),/*#__PURE__*/_jsx(\"span\",{className:\"th\",children:\"\\uCE74\\uD14C\\uACE0\\uB9AC\\uBA85\"}),/*#__PURE__*/_jsx(\"span\",{className:\"th\",children:\"\\uC6B0\\uC120\\uC21C\\uC704\"}),/*#__PURE__*/_jsx(\"span\",{className:\"th\",children:\"\\uC228\\uAE40\\uC5EC\\uBD80\"}),/*#__PURE__*/_jsx(\"span\",{className:\"th category-btn-col\"})]}),categoryInfo!==null&&categoryInfo.length!==0?currentPosts(categoryInfo).map(function(category,index){return/*#__PURE__*/_jsxs(\"div\",{className:category.status===0?\"table-row-category new-category\":\"table-row-category\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"td category-index\",children:index+1+(page-1)*postsPerPage}),editCategory&&category.id===editCategory.id?/*#__PURE__*/_jsx(\"span\",{className:\"td input-row\",children:/*#__PURE__*/_jsx(\"input\",{value:editCategory.name,name:\"name\",onChange:onEdit})}):/*#__PURE__*/_jsx(\"span\",{className:\"td\",children:category.name}),editCategory&&category.id===editCategory.id?/*#__PURE__*/_jsx(\"span\",{className:\"td input-row\",children:/*#__PURE__*/_jsx(\"input\",{value:editCategory.priority,type:\"number\",name:\"priority\",onChange:onEdit})}):/*#__PURE__*/_jsx(\"span\",{className:\"td\",children:category.priority}),editCategory&&category.id===editCategory.id?/*#__PURE__*/_jsx(\"span\",{className:\"td input-row\",children:/*#__PURE__*/_jsx(\"input\",{style:{width:\"auto\",margin:\"6px 5px\"},type:\"radio\",id:\"disable\",checked:isDisable,onClick:clickDisableBtn,onChange:clickDisableBtn})}):/*#__PURE__*/_jsx(\"span\",{className:\"td\",children:category.disable===1?\"O\":\"X\"}),editCategory&&category.id===editCategory.id?/*#__PURE__*/_jsxs(\"span\",{className:\"td category-btn-col\",children:[/*#__PURE__*/_jsx(WhiteButton,{class:\"mr15\",name:\"\\uC644\\uB8CC\",click:clickEditFinish}),/*#__PURE__*/_jsx(WhiteButton,{name:\"\\uCDE8\\uC18C\",click:clickCancelBtn})]}):category.status===0?/*#__PURE__*/_jsxs(\"span\",{className:\"td category-btn-col\",children:[/*#__PURE__*/_jsx(WhiteButton,{class:\"mr15\",name:\"\\uC218\\uB77D\",click:function click(){confirmCategory(category);}}),/*#__PURE__*/_jsx(WhiteButton,{name:\"\\uAC70\\uC808\",click:function click(){rejectCategory(category);}})]}):category.status===1?/*#__PURE__*/_jsx(\"span\",{className:\"td category-btn-col\",children:/*#__PURE__*/_jsx(WhiteButton,{class:\"mr15\",name:\"\\uC218\\uC815\",click:function click(){clickEditBtn(category);}})}):/*#__PURE__*/_jsx(\"span\",{className:\"td category-btn-col reject-category\",children:\"\\uAC70\\uC808\\uB428\"})]},category.id);}):/*#__PURE__*/_jsx(\"div\",{className:\"no-content\",children:\"\\uB4F1\\uB85D\\uB41C \\uCE74\\uD14C\\uACE0\\uB9AC\\uAC00 \\uC5C6\\uC2B5\\uB2C8\\uB2E4.\"}),isAdd?/*#__PURE__*/_jsxs(\"div\",{className:\"table-row-category\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"td category-index\"}),/*#__PURE__*/_jsx(\"span\",{className:\"td input-row\",children:/*#__PURE__*/_jsx(\"input\",{value:addCategory.name,name:\"name\",onChange:onAdd})}),/*#__PURE__*/_jsx(\"span\",{className:\"td input-row\",children:/*#__PURE__*/_jsx(\"input\",{value:addCategory.priority,type:\"number\",name:\"priority\",onChange:onAdd})}),/*#__PURE__*/_jsx(\"span\",{className:\"td input-row\",children:/*#__PURE__*/_jsx(\"input\",{style:{width:\"auto\",margin:\"6px 5px\"},type:\"radio\",checked:addDisable,onClick:clickAddDisableBtn,onChange:clickAddDisableBtn})}),/*#__PURE__*/_jsxs(\"span\",{className:\"td category-btn-col\",children:[/*#__PURE__*/_jsx(WhiteButton,{class:\"mr15\",name:\"\\uCD94\\uAC00\",click:function click(){createCategory();}}),/*#__PURE__*/_jsx(WhiteButton,{name:\"\\uCDE8\\uC18C\",click:addCancelBtn})]})]}):null]}),/*#__PURE__*/_jsx(Pagination,{activePage:page,itemsCountPerPage:postsPerPage,totalItemsCount:categoryInfo!==null?categoryInfo.length:0,pageRangeDisplayed:5,prevPageText:\"‹\",nextPageText:\"›\",onChange:handlePageChange}),/*#__PURE__*/_jsx(\"div\",{style:{textAlign:'right'},children:/*#__PURE__*/_jsx(WhiteButton,{class:\"mt20\",name:\"\\uCE74\\uD14C\\uACE0\\uB9AC \\uCD94\\uAC00\",click:function click(){setisAdd(true);}})})]})]});}export default AdminCategory;","map":{"version":3,"sources":["/Users/jeong-yeeun/git/CourseApplicationManagement_frontend/course_application_management/src/components/pages/admin/category.js"],"names":["React","useState","useEffect","axios","Pagination","XLSX","FileSaver","WhiteButton","GreyButton","AdminCategory","keyword","setKeyword","categoryInfo","setcategoryInfo","editCategory","seteditCategory","isDisable","setisDisable","addDisable","setaddDisable","name","status","disable","priority","addCategory","setaddCategory","isAdd","setisAdd","page","setPage","postsPerPage","statusSelect","setStatusSelect","readCategory","searchKeywordChanged","e","target","value","get","process","env","REACT_APP_RESTAPI_HOST","params","encodeURI","token","window","sessionStorage","getItem","manageID","response","data","handlePageChange","clickEditFinish","confirm","url","method","then","res","alert","createCategory","URLSearchParams","append","post","confirmCategory","category","id","rejectCategory","clickEditBtn","onEdit","onAdd","clickCancelBtn","addCancelBtn","clickAddDisableBtn","clickDisableBtn","currentPosts","tmp","indexOfLast","indexOfFirst","slice","exportToCSV","fileType","fileExtension","fileName","ws","utils","json_to_sheet","wb","Sheets","SheetNames","excelBuffer","write","bookType","type","Blob","saveAs","length","map","index","width","margin","textAlign"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from \"react\";\nimport axios from 'axios';\nimport Pagination from \"react-js-pagination\";\nimport XLSX from \"xlsx\";\nimport FileSaver from \"file-saver\";\nimport '../../../assets/css/table.css';\nimport '../../../assets/css/default.css';\nimport '../../../assets/css/admin_category.css';\nimport WhiteButton from '../../modules/button/white_button';\nimport GreyButton from '../../modules/button/admin_grey_btn';\n\n\nfunction AdminCategory() {\n    const [keyword, setKeyword] = useState(null);\n    const [categoryInfo, setcategoryInfo] = useState(null)\n    const [editCategory, seteditCategory] = useState(null)\n    const [isDisable, setisDisable] = useState(false)\n    const [addDisable, setaddDisable] = useState(false)\n    const [addCategory, setaddCategory] = useState({name:\"\", status:\"\", disable:\"0\", priority:\"0\"})\n    const [isAdd, setisAdd] = useState(false)\n    const [page, setPage] = useState(1);\n    const postsPerPage = 10;\n    const [statusSelect, setStatusSelect] = useState(-2);\n\n    useEffect(() => {\n        readCategory();\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [])\n\n    useEffect(() => {\n        readCategory();\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [statusSelect])\n    \n    const searchKeywordChanged = e => {\n        setKeyword(e.target.value);\n    }\n\n    const readCategory = async() => {\n        if(keyword !== null && keyword !== ''){\n            const response = await axios.get(\n                process.env.REACT_APP_RESTAPI_HOST + 'topic',\n                {\n                    params: {\n                        keyword: encodeURI(keyword),\n                        statusSelect: statusSelect,\n                        token: window.sessionStorage.getItem('token'),\n                        manageID: window.sessionStorage.getItem('id')\n                    }\n                }\n            );\n            setcategoryInfo(response.data)\n        }else {\n            const response = await axios.get(\n                process.env.REACT_APP_RESTAPI_HOST + 'topic',\n                {\n                    params: {\n                        statusSelect: statusSelect,\n                        token: window.sessionStorage.getItem('token'),\n                        manageID: window.sessionStorage.getItem('id')\n                    }\n                }\n            );\n            setcategoryInfo(response.data)\n        }\n        setKeyword('');\n    }\n\n    const handlePageChange = (page) => { \n        setPage(page); \n    };\n\n    const clickEditFinish = async() => {\n        editCategory.token = window.sessionStorage.getItem('token');\n        editCategory.manageID = window.sessionStorage.getItem('id');\n        if(window.confirm(\"카테고리를 수정하시겠습니까?\")) {\n            axios(\n                {\n                url: process.env.REACT_APP_RESTAPI_HOST+'topic',\n                method: 'put',\n                data: editCategory,\n                }\n            ).then(function(res) {\n                alert(\"수정이 완료되었습니다.\");\n                readCategory()  \n                seteditCategory(null)\n            })\n        }\n    }\n\n    const createCategory = async() => {\n        var params = new URLSearchParams();\n        params.append('name', addCategory.name);\n        params.append('disable', addCategory.disable);\n        params.append('priority', addCategory.priority);\n        params.append('token', window.sessionStorage.getItem('token'));\n        params.append('manageID', window.sessionStorage.getItem('id'));\n\n        if(window.confirm(\"카테고리를 추가하시겠습니까?\")) {\n            const response = await axios.post(\n            process.env.REACT_APP_RESTAPI_HOST + 'topic',\n            params,\n            ).then(function(res) {\n                alert(res.data);\n                readCategory()\n                setisAdd(false);\n                setaddDisable(false);\n                setaddCategory({name:\"\", status:\"\", disable:\"0\", priority:\"0\"})\n            });\n        }\n    }\n\n    const confirmCategory = async(category) => {\n        if(window.confirm(\"카테고리를 수락하시겠습니까?\")) {\n            axios(\n                {\n                    url: process.env.REACT_APP_RESTAPI_HOST+'topic/status',\n                    method: 'put',\n                    data: {\n                        status: 1,\n                        id: category.id,\n                        token: window.sessionStorage.getItem('token'),\n                        manageID: window.sessionStorage.getItem('id')\n                    }\n                }\n            ).then(function(res) {\n                alert(\"수락되었습니다.\");\n                readCategory()\n            })\n        }\n    }\n\n    const rejectCategory = async(category) => {\n        if(window.confirm(\"카테고리를 거절하시겠습니까?\")) {\n            axios(\n                {\n                    url: process.env.REACT_APP_RESTAPI_HOST+'topic/status',\n                    method: 'put',\n                    data: {\n                        status: -1,\n                        id: category.id,\n                        token: window.sessionStorage.getItem('token'),\n                        manageID: window.sessionStorage.getItem('id')\n                    }\n                }\n            ).then(function(res) {\n                alert(\"거절되었습니다.\");\n                readCategory()\n            })\n        }\n    }\n\n    const clickEditBtn = (category) => {\n        seteditCategory(category);\n        if(category.disable === 1)\n            setisDisable(true)\n        else\n            setisDisable(false)\n    }\n\n    const onEdit = (e) => {\n        const {value, name} = e.target;\n        seteditCategory({\n            ...editCategory,\n            [name]:value\n        })\n    }\n\n    const onAdd = (e) => {\n        const {value, name} = e.target;\n        setaddCategory({\n            ...addCategory,\n            [name]:value\n        })\n    }\n\n    const clickCancelBtn = () => {\n        seteditCategory(null);\n    }\n\n    const addCancelBtn = () => {\n        setisAdd(false)\n        setaddDisable(false);\n        setaddCategory({name:\"\", status:\"\", disable:\"0\", priority:\"0\"})\n    }\n\n    const clickAddDisableBtn = () => {\n        if(addDisable) {\n            setaddDisable(false)\n            setaddCategory({\n                ...addCategory,\n                disable: 0\n            })\n        }\n        else {\n            setaddDisable(true)\n            setaddCategory({\n                ...addCategory,\n                disable: 1\n            })\n        }\n    } \n\n    const clickDisableBtn = () => {\n        if(isDisable) {\n            setisDisable(false)\n            seteditCategory({\n                ...editCategory,\n                disable: 0\n            })\n        }\n        else {\n            setisDisable(true)\n            seteditCategory({\n                ...editCategory,\n                disable: 1\n            })\n        }\n    }\n\n    function currentPosts(tmp) {\n        var indexOfLast = page * postsPerPage;\n        var indexOfFirst = indexOfLast - postsPerPage;\n\n        let currentPosts = 0;\n        currentPosts = categoryInfo.slice(indexOfFirst, indexOfLast);\n        return currentPosts;\n    }\n\n    const exportToCSV = () => {\n        const fileType = \"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8\";\n        const fileExtension = \".xlsx\";\n        const fileName = \"category\";\n        const ws = XLSX.utils.json_to_sheet(categoryInfo);\n        const wb = { Sheets: { data: ws }, SheetNames: [\"data\"] };\n        const excelBuffer = XLSX.write(wb, { bookType: \"xlsx\", type: \"array\" });\n        const data = new Blob([excelBuffer], { type: fileType });\n        FileSaver.saveAs(data, fileName + fileExtension);\n    };\n\n    return (\n        <div>\n            <p className=\"admin-title-header\">주제 카테고리 관리</p>\n            <div className=\"admin-content-wrapper\">\n                <div className=\"table-wrapper mt0 relative\">\n                    \n                    <p className=\"table-name mb40\">\n                        주제 카테고리 관리\n                        <GreyButton class=\"right\" name=\"엑셀 파일 다운로드\" click={exportToCSV}/>\n                    </p>\n                    \n                    <div className=\"mb35\">\n                        <select defaultValue={statusSelect} className=\"mr15 p48 user-search\" onChange={(e) => {setStatusSelect(e.target.value)}}>\n                            <option value=\"-2\">전체</option>\n                            <option value=\"0\">일반</option>\n                            <option value=\"1\">숨겨진 카테고리</option>\n                        </select>\n                        <input className=\"p48 search-lecture-input\" type=\"text\" placeholder=\"카테고리명으로 키워드 검색\" value={keyword || \"\"} onChange={searchKeywordChanged}/>\n                        <GreyButton name=\"검색\" click={readCategory}/>\n                    </div>\n                    \n                    \n                    <div className=\"mt50 table-row-category\">\n                        <span className=\"th category-index\"></span>\n                        <span className=\"th\">카테고리명</span>\n                        <span className=\"th\">우선순위</span>\n                        <span className=\"th\">숨김여부</span>\n                        <span className=\"th category-btn-col\"></span>\n                    </div>\n                    { categoryInfo !== null && categoryInfo.length !== 0 ?\n                        currentPosts(categoryInfo).map((category, index) => \n                            <div key={category.id} className={category.status === 0 ? \"table-row-category new-category\": \"table-row-category\"}>\n                                <span className=\"td category-index\">{(index+1)+((page-1)*postsPerPage)}</span>\n                                {editCategory && category.id === editCategory.id ? <span className=\"td input-row\"><input value={editCategory.name} name=\"name\" onChange={onEdit}/></span>:<span className=\"td\">{category.name}</span>}\n                                {editCategory && category.id === editCategory.id ? <span className=\"td input-row\"><input value={editCategory.priority} type=\"number\" name=\"priority\" onChange={onEdit}/></span>:<span className=\"td\">{category.priority}</span>}\n                                {editCategory && category.id === editCategory.id ? <span className=\"td input-row\"><input style={{width:\"auto\", margin:\"6px 5px\"}} type=\"radio\" id=\"disable\" checked={isDisable} onClick={clickDisableBtn} onChange={clickDisableBtn}/></span>:<span className=\"td\">{category.disable === 1 ? \"O\" : \"X\"}</span>}\n                                {editCategory && category.id === editCategory.id ?\n                                <span className=\"td category-btn-col\">\n                                    <WhiteButton class=\"mr15\" name=\"완료\" click={clickEditFinish}/>\n                                    <WhiteButton name=\"취소\" click={clickCancelBtn}/>\n                                </span>\n                                :category.status === 0 ?\n                                <span className=\"td category-btn-col\">\n                                    <WhiteButton class=\"mr15\" name=\"수락\" click={() => {confirmCategory(category)}}/>\n                                    <WhiteButton name=\"거절\" click={() => {rejectCategory(category)}}/>\n                                </span>\n                                :category.status === 1 ?\n                                <span className=\"td category-btn-col\">\n                                    <WhiteButton class=\"mr15\" name=\"수정\" click={() => {clickEditBtn(category)}}/>\n                                    {/* <WhiteButton name=\"숨기기\"/> */}\n                                </span>\n                                :<span className=\"td category-btn-col reject-category\">\n                                    거절됨\n                                </span>\n                                }\n                                \n                            </div>\n                        )\n                        :\n                        <div className=\"no-content\">등록된 카테고리가 없습니다.</div>\n                    }\n\n                    {isAdd ?\n                    <div className=\"table-row-category\">\n                        <span className=\"td category-index\"></span>\n                        <span className=\"td input-row\"><input value={addCategory.name} name=\"name\" onChange={onAdd}/></span>\n                        <span className=\"td input-row\"><input value={addCategory.priority} type=\"number\" name=\"priority\" onChange={onAdd}/></span>\n                        <span className=\"td input-row\"><input style={{width:\"auto\", margin:\"6px 5px\"}} type=\"radio\" checked={addDisable} onClick={clickAddDisableBtn} onChange={clickAddDisableBtn}/></span>\n                        <span className=\"td category-btn-col\">\n                            <WhiteButton class=\"mr15\" name=\"추가\" click={() => {createCategory()}}/>\n                            <WhiteButton name=\"취소\" click={addCancelBtn}/>\n                        </span>\n                    </div>\n                    :\n                    null\n                    }\n                </div>\n                <Pagination \n                    activePage={page} \n                    itemsCountPerPage={postsPerPage} \n                    totalItemsCount={categoryInfo !== null ? categoryInfo.length : 0} \n                    pageRangeDisplayed={5} \n                    prevPageText={\"‹\"} \n                    nextPageText={\"›\"} \n                    onChange={handlePageChange} \n                />\n                <div style={{textAlign:'right'}}>\n                    <WhiteButton class=\"mt20\" name=\"카테고리 추가\" click={() => {setisAdd(true)}}/>\n                </div>\n            </div>\n        </div>\n    )\n\n}\n\nexport default AdminCategory;"]},"metadata":{},"sourceType":"module"}