{"ast":null,"code":"import _defineProperty from\"/Users/hyerm2/Desktop/project/vision/CourseApplicationManagement_frontend/course_application_management/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/Users/hyerm2/Desktop/project/vision/CourseApplicationManagement_frontend/course_application_management/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _regeneratorRuntime from\"/Users/hyerm2/Desktop/project/vision/CourseApplicationManagement_frontend/course_application_management/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/hyerm2/Desktop/project/vision/CourseApplicationManagement_frontend/course_application_management/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/hyerm2/Desktop/project/vision/CourseApplicationManagement_frontend/course_application_management/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect,createRef}from'react';import axios from'axios';import Pagination from\"react-js-pagination\";import{Link}from'react-router-dom';import WhiteButton from'../modules/button/white_button';import{Editor,Viewer}from'@toast-ui/react-editor';import\"../../assets/css/notice.css\";import'@toast-ui/editor/dist/toastui-editor.css';import GreyButton from'../modules/button/admin_grey_btn';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Notice(){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),selectedNotice=_useState2[0],setSelectedNotice=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),selectedContent=_useState4[0],setselectedContent=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),editNotice=_useState6[0],seteditNotice=_useState6[1];var _useState7=useState(null),_useState8=_slicedToArray(_useState7,2),keyword=_useState8[0],setkeyword=_useState8[1];var _useState9=useState(null),_useState10=_slicedToArray(_useState9,2),NoticeInfo=_useState10[0],setNoticeInfo=_useState10[1];var _useState11=useState(null),_useState12=_slicedToArray(_useState11,2),mode=_useState12[0],setmode=_useState12[1];var editorRef=/*#__PURE__*/createRef();var readViewerRef=/*#__PURE__*/createRef();var editEditorRef=/*#__PURE__*/createRef();var _useState13=useState(\"\"),_useState14=_slicedToArray(_useState13,2),addTitle=_useState14[0],setaddTitle=_useState14[1];var _useState15=useState(null),_useState16=_slicedToArray(_useState15,2),administratorInfo=_useState16[0],setAdministratorInfo=_useState16[1];var _useState17=useState(1),_useState18=_slicedToArray(_useState17,2),page=_useState18[0],setPage=_useState18[1];// eslint-disable-next-line no-unused-vars\nvar _useState19=useState(10),_useState20=_slicedToArray(_useState19,2),postsPerPage=_useState20[0],setpostsPerPage=_useState20[1];useEffect(function(){readNotice();readAdministratorInfo();// eslint-disable-next-line react-hooks/exhaustive-deps\n},[]);function noticeClick(e){if(selectedNotice===null||selectedNotice!==e){setSelectedNotice(null);clickedSetFunction(e);setselectedContent(e.content);seteditNotice(e);setmode(\"read\");}else{setSelectedNotice(null);setmode(null);}}var clickedSetFunction=function clickedSetFunction(e){setSelectedNotice(e);};var readAdministratorInfo=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!(parseInt(window.sessionStorage.getItem('status'))===2)){_context.next=5;break;}_context.next=3;return axios.get(process.env.REACT_APP_RESTAPI_HOST+'administrator/user/'+window.sessionStorage.getItem('id'),{params:{token:window.sessionStorage.getItem('token'),manageID:window.sessionStorage.getItem('id')}});case 3:response=_context.sent;setAdministratorInfo(response.data);case 5:case\"end\":return _context.stop();}}},_callee);}));return function readAdministratorInfo(){return _ref.apply(this,arguments);};}();function addNoticeClick(e){if(mode!=='create')setmode('create');else setSelectedNotice(\"read\");}var readNotice=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var response,_response;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:if(!(keyword!==''&&keyword!==null)){_context2.next=7;break;}_context2.next=3;return axios.get(process.env.REACT_APP_RESTAPI_HOST+'notice',{params:{keyword:keyword,token:window.sessionStorage.getItem('token'),manageID:window.sessionStorage.getItem('id')}});case 3:response=_context2.sent;setNoticeInfo(response.data);_context2.next=11;break;case 7:_context2.next=9;return axios.get(process.env.REACT_APP_RESTAPI_HOST+'notice',{params:{token:window.sessionStorage.getItem('token'),manageID:window.sessionStorage.getItem('id')}});case 9:_response=_context2.sent;setNoticeInfo(_response.data);case 11:setkeyword(null);case 12:case\"end\":return _context2.stop();}}},_callee2);}));return function readNotice(){return _ref2.apply(this,arguments);};}();var createNotice=function createNotice(){var lines=editorRef.current.getInstance().toastMark.lineTexts;var addContent=lines.join(\"\\n\");if(window.confirm(\"공지사항을 등록하시겠습니까?\")){axios({url:process.env.REACT_APP_RESTAPI_HOST+'notice',method:'post',data:{administrator_id:administratorInfo.id,title:addTitle,content:addContent,important:0,token:window.sessionStorage.getItem('token'),manageID:window.sessionStorage.getItem('id')}}).then(function(res){alert(\"공지사항이 등록되었습니다.\");readNotice();setmode(null);setaddTitle(\"\");});}};var editFinishBtn=function editFinishBtn(){var lines=editEditorRef.current.getInstance().toastMark.lineTexts;var editContent=lines.join(\"\\n\");var dataset=_objectSpread(_objectSpread({},editNotice),{},{content:editContent,token:window.sessionStorage.getItem('token'),manageID:window.sessionStorage.getItem('id')});if(window.confirm(\"공지사항을 수정하시겠습니까?\")){axios({url:process.env.REACT_APP_RESTAPI_HOST+'notice',method:'put',data:dataset}).then(function(res){alert(\"수정이 완료되었습니다.\");readNotice();setmode(null);seteditNotice(null);setSelectedNotice(null);});}};var onEdit=function onEdit(e){var _e$target=e.target,value=_e$target.value,name=_e$target.name;seteditNotice(_objectSpread(_objectSpread({},editNotice),{},_defineProperty({},name,value)));};var cancelEditBtn=function cancelEditBtn(){setmode(\"read\");seteditNotice(selectedNotice);};var cancelReadBtn=function cancelReadBtn(){setmode(null);setaddTitle(\"\");};var deleteNotice=function deleteNotice(){if(window.confirm(\"공지사항을 삭제하시겠습니까?\")){axios({url:process.env.REACT_APP_RESTAPI_HOST+'notice',method:'delete',data:{notice_id:selectedNotice.id,token:window.sessionStorage.getItem('token'),manageID:window.sessionStorage.getItem('id')}}).then(function(res){alert(\"삭제가 완료되었습니다.\");readNotice();setSelectedNotice(null);setmode(null);});}};var handlePageChange=function handlePageChange(page){setPage(page);};function currentPosts(tmp){var indexOfLast=page*postsPerPage;var indexOfFirst=indexOfLast-postsPerPage;var currentPosts=0;currentPosts=NoticeInfo.slice(indexOfFirst,indexOfLast);return currentPosts;}return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"main-image\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"page-background\",src:process.env.REACT_APP_DEFAULT_URL+\"image/notice.png\",alt:\"lecture page\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"page-info\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\uACF5\\uC9C0\\uC0AC\\uD56D\"}),/*#__PURE__*/_jsx(\"p\",{children:\"\\uC0AC\\uC774\\uD2B8 \\uC774\\uC6A9 \\uBC29\\uBC95\\uACFC \\uACF5\\uC9C0\\uC0AC\\uD56D\\uC744 \\uBCF4\\uC5EC\\uC90D\\uB2C8\\uB2E4\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"content-wrapper\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"left-navbar\",children:/*#__PURE__*/_jsx(\"span\",{children:/*#__PURE__*/_jsx(Link,{className:\"sub-title active\",to:process.env.REACT_APP_DEFAULT_URL+\"notice\",children:\"\\uACF5\\uC9C0\\uC0AC\\uD56D\"})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"right-content\",children:[mode===null&&/*#__PURE__*/_jsxs(\"div\",{className:\"mb35\",style:{textAlign:'right'},children:[/*#__PURE__*/_jsx(\"input\",{className:\"p48 mr10\",type:\"text\",placeholder:\"\\uC81C\\uBAA9, \\uB0B4\\uC6A9, \\uAE00\\uC4F4\\uC774\\uB85C \\uAC80\\uC0C9\",value:keyword||\"\",onChange:function onChange(e){return setkeyword(e.target.value);}}),/*#__PURE__*/_jsx(GreyButton,{name:\"\\uAC80\\uC0C9\",click:readNotice})]}),selectedNotice!==null?mode===\"edit\"?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"detail-title notice-detail-title\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"notice-header\",children:\" \\uACF5\\uC9C0\\uC0AC\\uD56D \\uAE00\\uC4F0\\uAE30\"}),/*#__PURE__*/_jsx(\"input\",{className:\"notice-input-title\",defaultValue:editNotice.title,name:\"title\",onChange:onEdit,placeholder:\"\\uC81C\\uBAA9\\uC744 \\uC785\\uB825\\uD574\\uC8FC\\uC138\\uC694.\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"detail-content notice-detail-title notice-pc-editor\",children:/*#__PURE__*/_jsx(Editor,{placeholder:\"\\uB0B4\\uC6A9\\uC744 \\uC785\\uB825\\uD574\\uC8FC\\uC138\\uC694\",previewStyle:\"vertical\",height:\"600px\",initialEditType:\"markdown\",initialValue:editNotice.content,useCommandShortcut:true,ref:editEditorRef})}),/*#__PURE__*/_jsx(\"div\",{className:\"detail-content notice-detail-title notice-mobile-editor\",children:/*#__PURE__*/_jsx(Editor,{placeholder:\"\\uB0B4\\uC6A9\\uC744 \\uC785\\uB825\\uD574\\uC8FC\\uC138\\uC694\",previewStyle:\"horizon\",height:\"600px\",initialEditType:\"markdown\",initialValue:editNotice.content,useCommandShortcut:true})}),/*#__PURE__*/_jsxs(\"div\",{className:\"button-wrapper notice-create-button-wrapper\",children:[/*#__PURE__*/_jsx(WhiteButton,{name:\"\\uC644\\uB8CC\",class:\"mr15\",click:function click(){return editFinishBtn();}}),/*#__PURE__*/_jsx(WhiteButton,{name:\"\\uCDE8\\uC18C\",click:function click(){return cancelEditBtn();}})]})]}):/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"detail-title\",children:[/*#__PURE__*/_jsx(\"h2\",{children:selectedNotice.title}),/*#__PURE__*/_jsxs(\"span\",{children:[selectedNotice.admin_name,\" \\uC791\\uC131\"]}),/*#__PURE__*/_jsx(\"span\",{className:\"detail-date\",children:selectedNotice.reg_date})]}),/*#__PURE__*/_jsx(\"div\",{className:\"detail-content\",children:/*#__PURE__*/_jsx(Viewer,{initialValue:selectedContent,ref:readViewerRef})}),/*#__PURE__*/_jsxs(\"div\",{className:\"button-wrapper notice-button-wrapper\",children:[/*#__PURE__*/_jsx(WhiteButton,{name:\"\\uBAA9\\uB85D\\uC73C\\uB85C\",class:\"mr15\",click:function click(){setmode(null);setSelectedNotice(null);}}),parseInt(window.sessionStorage.getItem('status'))===2?/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsx(WhiteButton,{name:\"\\uC218\\uC815\",class:\"mr15\",click:function click(){return setmode(\"edit\");}}),/*#__PURE__*/_jsx(WhiteButton,{name:\"\\uC0AD\\uC81C\",click:function click(){return deleteNotice();}})]}):null]})]}):mode===\"create\"?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"detail-title notice-detail-title\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"notice-header\",children:\" \\uACF5\\uC9C0\\uC0AC\\uD56D \\uAE00\\uC4F0\\uAE30\"}),/*#__PURE__*/_jsx(\"input\",{className:\"notice-input-title\",defaultValue:addTitle,onChange:function onChange(e){return setaddTitle(e.target.value);}})]}),/*#__PURE__*/_jsx(\"div\",{className:\"detail-content notice-detail-title notice-pc-editor\",children:/*#__PURE__*/_jsx(Editor,{placeholder:\"\\uB0B4\\uC6A9\\uC744 \\uC785\\uB825\\uD574\\uC8FC\\uC138\\uC694\",previewStyle:\"vertical\",height:\"600px\",initialEditType:\"markdown\",useCommandShortcut:true,ref:editorRef})}),/*#__PURE__*/_jsx(\"div\",{className:\"detail-content notice-detail-title notice-mobile-editor\",children:/*#__PURE__*/_jsx(Editor,{placeholder:\"\\uB0B4\\uC6A9\\uC744 \\uC785\\uB825\\uD574\\uC8FC\\uC138\\uC694\",previewStyle:\"horizon\",height:\"600px\",initialEditType:\"markdown\",useCommandShortcut:true})}),/*#__PURE__*/_jsxs(\"div\",{className:\"button-wrapper notice-create-button-wrapper\",children:[/*#__PURE__*/_jsx(WhiteButton,{name:\"\\uC644\\uB8CC\",class:\"mr15\",click:createNotice}),/*#__PURE__*/_jsx(WhiteButton,{name:\"\\uCDE8\\uC18C\",click:cancelReadBtn})]})]}):/*#__PURE__*/_jsx(\"div\",{}),mode===null&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"table-wrapper\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"table-row-user\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"th\",children:\"\\uBC88\\uD638\"}),/*#__PURE__*/_jsx(\"div\",{className:\"th\",children:\"\\uC81C\\uBAA9\"}),/*#__PURE__*/_jsx(\"div\",{className:\"th date\",children:\"\\uAE00\\uC4F4\\uC774\"}),/*#__PURE__*/_jsx(\"div\",{className:\"th date\",children:\"\\uB4F1\\uB85D\\uC77C\"})]}),NoticeInfo!==null&&NoticeInfo.length>0?currentPosts(NoticeInfo).map(function(notice,index){return/*#__PURE__*/_jsxs(\"div\",{className:notice===selectedNotice?\" table-row-user click-inst-row\":\"table-row-user\",onClick:function onClick(){return noticeClick(notice);},children:[/*#__PURE__*/_jsx(\"div\",{className:\"td\",children:index+1}),/*#__PURE__*/_jsx(\"div\",{className:\"td\",children:notice.title}),/*#__PURE__*/_jsx(\"div\",{className:\"td date\",children:notice.admin_name}),/*#__PURE__*/_jsx(\"div\",{className:\"td date\",children:notice.reg_date})]},notice.id);}):/*#__PURE__*/_jsx(\"div\",{className:\"no-content\",children:\"\\uB4F1\\uB85D\\uB41C \\uACF5\\uC9C0\\uC0AC\\uD56D\\uC774 \\uC5C6\\uC2B5\\uB2C8\\uB2E4.\"})]}),/*#__PURE__*/_jsx(Pagination,{activePage:page,itemsCountPerPage:postsPerPage,totalItemsCount:NoticeInfo!==null?NoticeInfo.length:0,pageRangeDisplayed:5,prevPageText:\"‹\",nextPageText:\"›\",onChange:handlePageChange})]}),mode===null&&parseInt(window.sessionStorage.getItem('status'))===2?/*#__PURE__*/_jsx(\"div\",{className:\"button-left-wrapper\",children:/*#__PURE__*/_jsx(WhiteButton,{name:\"\\uAE00\\uC4F0\\uAE30\",click:addNoticeClick})}):null]})]})]});}export default Notice;","map":{"version":3,"sources":["/Users/hyerm2/Desktop/project/vision/CourseApplicationManagement_frontend/course_application_management/src/components/pages/notice.js"],"names":["React","useState","useEffect","createRef","axios","Pagination","Link","WhiteButton","Editor","Viewer","GreyButton","Notice","selectedNotice","setSelectedNotice","selectedContent","setselectedContent","editNotice","seteditNotice","keyword","setkeyword","NoticeInfo","setNoticeInfo","mode","setmode","editorRef","readViewerRef","editEditorRef","addTitle","setaddTitle","administratorInfo","setAdministratorInfo","page","setPage","postsPerPage","setpostsPerPage","readNotice","readAdministratorInfo","noticeClick","e","clickedSetFunction","content","parseInt","window","sessionStorage","getItem","get","process","env","REACT_APP_RESTAPI_HOST","params","token","manageID","response","data","addNoticeClick","createNotice","lines","current","getInstance","toastMark","lineTexts","addContent","join","confirm","url","method","administrator_id","id","title","important","then","res","alert","editFinishBtn","editContent","dataset","onEdit","target","value","name","cancelEditBtn","cancelReadBtn","deleteNotice","notice_id","handlePageChange","currentPosts","tmp","indexOfLast","indexOfFirst","slice","REACT_APP_DEFAULT_URL","textAlign","admin_name","reg_date","length","map","notice","index"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, createRef } from 'react';\nimport axios from 'axios';\nimport Pagination from \"react-js-pagination\";\nimport { Link } from 'react-router-dom';\nimport WhiteButton from '../modules/button/white_button';\nimport { Editor, Viewer } from '@toast-ui/react-editor';\nimport \"../../assets/css/notice.css\";\nimport '@toast-ui/editor/dist/toastui-editor.css';\nimport GreyButton from '../modules/button/admin_grey_btn';\n\nfunction Notice() {\n    const [selectedNotice, setSelectedNotice] = useState(null);\n    const [selectedContent, setselectedContent] = useState(\"\");\n    const [editNotice, seteditNotice] = useState(null);\n    const [keyword, setkeyword] = useState(null);\n    const [NoticeInfo, setNoticeInfo] = useState(null);\n    const [mode, setmode] = useState(null);\n    const editorRef = createRef();\n    const readViewerRef = createRef();\n    const editEditorRef = createRef();\n    const [addTitle, setaddTitle] = useState(\"\");\n    const [administratorInfo, setAdministratorInfo] = useState(null);\n    const [page, setPage] = useState(1);\n    // eslint-disable-next-line no-unused-vars\n    const [postsPerPage, setpostsPerPage] = useState(10);\n\n    useEffect(() => {\n        readNotice();\n        readAdministratorInfo();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n\n\n\n    function noticeClick(e) {\n\n        if (selectedNotice === null || selectedNotice !== e) {\n            setSelectedNotice(null);\n            clickedSetFunction(e);\n            setselectedContent(e.content);\n            seteditNotice(e);\n            setmode(\"read\");\n        }\n        else{\n            setSelectedNotice(null);\n            setmode(null);\n        }\n    }\n\n    const clickedSetFunction = (e) => {\n        setSelectedNotice(e);\n    }\n\n    const readAdministratorInfo = async () => {\n        if(parseInt(window.sessionStorage.getItem('status')) === 2){\n            const response = await axios.get(\n                process.env.REACT_APP_RESTAPI_HOST + 'administrator/user/'+window.sessionStorage.getItem('id'), {\n                    params: {\n                        token: window.sessionStorage.getItem('token'),\n                        manageID: window.sessionStorage.getItem('id')\n                    }\n                }\n            );\n            setAdministratorInfo(response.data);\n        }\n    }\n\n    function addNoticeClick(e) {\n        if (mode !== 'create')\n            setmode('create');\n        else\n            setSelectedNotice(\"read\");\n    }\n\n    const readNotice = async () => {\n        if(keyword !== '' && keyword !== null){\n            const response = await axios.get(\n                process.env.REACT_APP_RESTAPI_HOST + 'notice',\n                {\n                    params: {\n                        keyword: keyword,\n                        token: window.sessionStorage.getItem('token'),\n                        manageID: window.sessionStorage.getItem('id')\n                    }\n                }\n            );\n            setNoticeInfo(response.data)\n        }else {\n            const response = await axios.get(\n                process.env.REACT_APP_RESTAPI_HOST + 'notice', {\n                    params: {\n                        token: window.sessionStorage.getItem('token'),\n                        manageID: window.sessionStorage.getItem('id')\n                    }\n                }\n            );\n            setNoticeInfo(response.data)\n        }\n        setkeyword(null);\n    }\n\n    const createNotice = () => {\n        var lines = editorRef.current.getInstance().toastMark.lineTexts;\n        var addContent = lines.join(\"\\n\");\n        if(window.confirm(\"공지사항을 등록하시겠습니까?\")) {\n            axios(\n                {\n                    url: process.env.REACT_APP_RESTAPI_HOST+'notice',\n                    method: 'post',\n                    data: {\n                        administrator_id: administratorInfo.id,\n                        title: addTitle,\n                        content: addContent,\n                        important: 0,\n                        token: window.sessionStorage.getItem('token'),\n                        manageID: window.sessionStorage.getItem('id')\n                    }\n                }\n            ).then(function(res) {\n                alert(\"공지사항이 등록되었습니다.\");\n                readNotice();\n                setmode(null);\n                setaddTitle(\"\");\n            })\n        }\n    }\n\n    const editFinishBtn = () => {\n        var lines = editEditorRef.current.getInstance().toastMark.lineTexts;\n        var editContent = lines.join(\"\\n\");\n        let dataset = {...editNotice, content:editContent, token: window.sessionStorage.getItem('token'), manageID: window.sessionStorage.getItem('id')};\n        \n        if(window.confirm(\"공지사항을 수정하시겠습니까?\")) {\n            axios(\n                {\n                    url: process.env.REACT_APP_RESTAPI_HOST+'notice',\n                    method: 'put',\n                    data: dataset\n                }\n            ).then(function(res) {\n                alert(\"수정이 완료되었습니다.\")\n                readNotice();\n                setmode(null);\n                seteditNotice(null);\n                setSelectedNotice(null);\n            })\n        }\n    }\n\n    const onEdit = (e) => {\n        const { value, name } = e.target;\n        seteditNotice({\n            ...editNotice,\n            [name]: value\n        });\n    };\n\n    const cancelEditBtn = () => {\n        setmode(\"read\");\n        seteditNotice(selectedNotice);\n    }\n\n    const cancelReadBtn = () => {\n        setmode(null);\n        setaddTitle(\"\");\n    }\n\n    const deleteNotice = () => {\n        if(window.confirm(\"공지사항을 삭제하시겠습니까?\")) {\n            axios(\n                {\n                    url: process.env.REACT_APP_RESTAPI_HOST+'notice',\n                    method: 'delete',\n                    data: {\n                        notice_id: selectedNotice.id,\n                        token: window.sessionStorage.getItem('token'),\n                        manageID: window.sessionStorage.getItem('id')\n                    }\n                }\n            ).then(function(res) {\n                alert(\"삭제가 완료되었습니다.\")\n                readNotice();\n                setSelectedNotice(null);\n                setmode(null);\n            })\n        }\n    }\n\n    const handlePageChange = (page) => { \n        setPage(page); \n    };\n\n    function currentPosts(tmp) {\n        var indexOfLast = page * postsPerPage;\n        var indexOfFirst = indexOfLast - postsPerPage;\n\n        let currentPosts = 0;\n        currentPosts = NoticeInfo.slice(indexOfFirst, indexOfLast);\n        return currentPosts;\n    }\n\n    return (\n        <div>\n            <div className=\"main-image\">\n                <img className=\"page-background\" src={process.env.REACT_APP_DEFAULT_URL+\"image/notice.png\"} alt=\"lecture page\" />\n                <div className=\"page-info\">\n                    <h2>공지사항</h2>\n                    <p>사이트 이용 방법과 공지사항을 보여줍니다</p>\n                </div>\n            </div>\n            <div className=\"content-wrapper\">\n                <div className=\"left-navbar\">\n                    <span>\n                        <Link className=\"sub-title active\" to={process.env.REACT_APP_DEFAULT_URL+\"notice\"}>공지사항</Link>\n                    </span>\n                </div>\n                <div className=\"right-content\">\n                    {mode === null &&\n                        <div className=\"mb35\" style={{textAlign:'right'}}>\n                            <input className=\"p48 mr10\" type=\"text\" placeholder=\"제목, 내용, 글쓴이로 검색\" value={keyword || \"\"} onChange={(e)=>setkeyword(e.target.value)}/>\n                            <GreyButton name=\"검색\" click={readNotice}/>\n                        </div>\n                    }\n                    {selectedNotice !== null ?\n                        mode === \"edit\"?\n                        <div>\n                            <div className=\"detail-title notice-detail-title\">\n                                <h2 className=\"notice-header\"> 공지사항 글쓰기</h2>\n                                <input className=\"notice-input-title\" defaultValue={editNotice.title} name=\"title\" onChange={onEdit} placeholder=\"제목을 입력해주세요.\"/>\n                            </div>\n                            <div className=\"detail-content notice-detail-title notice-pc-editor\">\n                                <Editor\n                                    placeholder=\"내용을 입력해주세요\"\n                                    previewStyle=\"vertical\"\n                                    height=\"600px\"\n                                    initialEditType=\"markdown\"\n                                    initialValue={editNotice.content}\n                                    useCommandShortcut={true}\n                                    ref={editEditorRef}\n                                />\n                            </div>\n                            <div className=\"detail-content notice-detail-title notice-mobile-editor\">\n                                <Editor\n                                    placeholder=\"내용을 입력해주세요\"\n                                    previewStyle=\"horizon\"\n                                    height=\"600px\"\n                                    initialEditType=\"markdown\"\n                                    initialValue={editNotice.content}\n                                    useCommandShortcut={true}\n                                />\n                            </div>\n                            <div className=\"button-wrapper notice-create-button-wrapper\">\n                                <WhiteButton name=\"완료\" class=\"mr15\" click={()=>editFinishBtn()}/>\n                                <WhiteButton name=\"취소\" click={()=>cancelEditBtn()}/>\n                            </div>\n                        </div>\n                        :\n                        <div>\n                            <div className=\"detail-title\">\n                                <h2>{selectedNotice.title}</h2>\n                                <span>{selectedNotice.admin_name} 작성</span>\n                                <span className=\"detail-date\">{selectedNotice.reg_date}</span>\n                            </div>\n                            <div className=\"detail-content\">\n                                <Viewer\n                                initialValue={selectedContent}\n                                ref={readViewerRef}\n                                />\n                            </div>\n                            <div className=\"button-wrapper notice-button-wrapper\">\n                                <WhiteButton name=\"목록으로\" class=\"mr15\" click={()=>{setmode(null); setSelectedNotice(null)}}/>\n                                {\n                                    parseInt(window.sessionStorage.getItem('status')) === 2?\n                                    <span>\n                                        <WhiteButton name=\"수정\" class=\"mr15\" click={()=>setmode(\"edit\")}/>\n                                        <WhiteButton name=\"삭제\" click={()=>deleteNotice()}/>\n                                    </span>:null\n                                }\n                            </div>\n                        </div>\n                        : mode === \"create\" ?\n                        <div>\n                            <div className=\"detail-title notice-detail-title\">\n                                <h2 className=\"notice-header\"> 공지사항 글쓰기</h2>\n                                <input className=\"notice-input-title\" defaultValue={addTitle} onChange={(e)=>setaddTitle(e.target.value)}/>\n                            </div>\n                            <div className=\"detail-content notice-detail-title notice-pc-editor\">\n                                <Editor\n                                    placeholder=\"내용을 입력해주세요\"\n                                    previewStyle=\"vertical\"\n                                    height=\"600px\"\n                                    initialEditType=\"markdown\"\n                                    useCommandShortcut={true}\n                                    ref={editorRef}\n                                />\n                            </div>\n                            <div className=\"detail-content notice-detail-title notice-mobile-editor\">\n                                <Editor\n                                    placeholder=\"내용을 입력해주세요\"\n                                    previewStyle=\"horizon\"\n                                    height=\"600px\"\n                                    initialEditType=\"markdown\"\n                                    useCommandShortcut={true}\n                                />\n                            </div>\n                            <div className=\"button-wrapper notice-create-button-wrapper\">\n                                <WhiteButton name=\"완료\" class=\"mr15\" click={createNotice}/>\n                                <WhiteButton name=\"취소\" click={cancelReadBtn}/>\n                            </div>\n                        </div>\n                        :<div>\n                        </div>\n                    }\n                    {mode === null &&\n                    <div>\n                        <div className=\"table-wrapper\">\n                            <div className=\"table-row-user\" >\n                                <div className=\"th\">번호</div>\n                                <div className=\"th\">제목</div>\n                                <div className=\"th date\">글쓴이</div>\n                                <div className=\"th date\">등록일</div>\n                            </div>\n                            { NoticeInfo !== null && NoticeInfo.length > 0 ?\n                                currentPosts(NoticeInfo).map((notice, index) =>\n                                <div key={notice.id} className={notice === selectedNotice ? \" table-row-user click-inst-row\" : \"table-row-user\"} onClick={() => noticeClick(notice)}>\n                                    <div className=\"td\">{index+1}</div>\n                                    <div className=\"td\">{notice.title}</div>\n                                    <div className=\"td date\">{notice.admin_name}</div>\n                                    <div className=\"td date\">{notice.reg_date}</div>\n                                </div>\n                                )\n                                :\n                                <div className=\"no-content\">등록된 공지사항이 없습니다.</div>\n                            }\n                        </div>\n                        <Pagination \n                            activePage={page} \n                            itemsCountPerPage={postsPerPage} \n                            totalItemsCount={NoticeInfo !== null ? NoticeInfo.length : 0} \n                            pageRangeDisplayed={5} \n                            prevPageText={\"‹\"} \n                            nextPageText={\"›\"} \n                            onChange={handlePageChange} \n                        />\n                    </div>\n                    }\n                    {mode === null && parseInt(window.sessionStorage.getItem('status')) === 2?\n                        <div className=\"button-left-wrapper\"><WhiteButton name=\"글쓰기\" click={addNoticeClick}/></div>:null\n                    }\n                </div>\n            </div>\n        </div>\n    );\n}\n\nexport default Notice;\n"]},"metadata":{},"sourceType":"module"}